<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:2,&quot;tests&quot;:458,&quot;passes&quot;:247,&quot;pending&quot;:0,&quot;failures&quot;:211,&quot;start&quot;:&quot;2023-01-09T15:38:48.168Z&quot;,&quot;end&quot;:&quot;2023-01-09T17:21:20.314Z&quot;,&quot;duration&quot;:6152146,&quot;testsRegistered&quot;:458,&quot;passPercent&quot;:53.930131004366814,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;55489c45-08f6-4001-8329-fda48c6f9806&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;title&quot;:&quot;click test&quot;,&quot;fullFile&quot;:&quot;/usr/src/app/test/click-test.js&quot;,&quot;file&quot;:&quot;/test/click-test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;helloworld javascript -&gt; keung_2022 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; keung_2022 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15095,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;15c2ae52-a3b5-4ab2-96df-14f50046f7dd&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; keung_2022 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; keung_2022 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15127,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;d12d2729-2e26-4f7a-87f1-dba6073befd8&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; keung_2022 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; keung_2022 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15214,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;f945bd73-4aee-4114-800b-5378ed8f23ee&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; keung_2022 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; keung_2022 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11653,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;95579d8d-7e11-4682-bd1d-625897321d3a&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; keung_2022 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; keung_2022 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8601,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;041c333a-f779-4b24-a12f-cdc29df89d82&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9486,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6067dbba-1de9-4dcc-a7d4-374ae5a3b6ce&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8942,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cd1b55af-9172-404a-bcdc-acc23f59fffd&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8444,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f205a1e9-ef06-4310-aba8-747a44065af9&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8725,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;56989f67-43e7-4d9a-ae26-aade96079e14&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8305,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;36f95042-c070-4b1a-8c75-01eb1830ae38&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8793,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6d89f6ae-5c86-4858-8e6b-f6b2aad9216a&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8362,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1d6fd1aa-d434-4ab6-8c2b-32399bb1a43f&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8972,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ee0a5b4c-80fe-4cad-80be-9a441f91446f&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8396,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d8362ab0-47cd-4614-8ada-61b9e7d7a780&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; kylema11201 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; kylema11201 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9215,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d8a0c223-373d-4af6-9623-69c5cd523f08&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; kylema11201 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; kylema11201 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8718,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8a084138-e850-429e-8045-29bd842bde4f&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; kylema11201 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; kylema11201 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9222,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6cd50f9f-77d6-4e01-bd87-74b3bb8a46a3&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; kylema11201 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; kylema11201 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9207,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8aa06647-5d66-445d-8c96-b47a62cef0e2&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; kylema11201 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; kylema11201 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9281,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;58bc1b52-b468-48c7-ade1-cbc73d749ad2&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; kylema11201 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; kylema11201 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9667,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f9a348fb-b5ab-4d12-b812-696156169b97&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; kylema11201 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; kylema11201 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9790,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b9b10d1b-3a12-4e07-b034-00f9044f5627&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; kylema11201 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; kylema11201 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15164,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:208:63\n    at new Promise (&lt;anonymous&gt;)\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:207:16)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1105:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;1a4a0681-ce79-4a8c-aca3-3c7fdc288a8e&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; kylema11201 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; kylema11201 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8299,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1db7072e-f4ac-47b4-a7b6-1ffa90878e76&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; easy_assignment_hk -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; easy_assignment_hk -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8481,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2da58c97-be39-4a77-aace-4c2cc1449045&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; easy_assignment_hk -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; easy_assignment_hk -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9150,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0f661d0f-3bc2-4ee7-857d-7bdb736edb92&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; easy_assignment_hk -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; easy_assignment_hk -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8555,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2e749213-b24a-4b96-8cae-e3f7f41dbeb6&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; easy_assignment_hk -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; easy_assignment_hk -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8401,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c78ce0de-622f-4e59-b7f2-faeb1ec84b09&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; easy_assignment_hk -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; easy_assignment_hk -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12562,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d7408c3b-0b79-46e8-97a1-644965c4fd3c&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; easy_assignment_hk -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; easy_assignment_hk -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9209,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fce66972-2d56-418b-b616-1b74ba981d0d&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8389,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cbc2cd70-5b26-4557-a265-72b096c02a04&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8785,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;58f6d80b-9ccf-4997-8e57-412d37fa471c&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8843,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd7cf9e2-e4ed-4914-9e19-b8c257c4f717&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8696,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9c196673-827b-4528-9033-36d8e54189ab&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9088,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8cc0cf73-8004-47f8-b5a7-6ce838b0206b&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8497,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f854d58f-0036-4bfd-a794-0d8df1bcf548&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8280,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cdf28e02-44f5-4ec2-852c-372289d78586&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8261,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;13946c26-80eb-405a-b0e3-2f6e19ba5991&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8542,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f5461863-c604-4997-8a1a-611aa35c5ba9&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8551,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b0eb7f44-d6b2-45b9-b5c1-de79b31f433c&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8446,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e8f7cbb3-7733-4f30-88b5-44c65c10024b&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8906,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c967a8c7-52dc-43d0-b3c7-4e29f00358ea&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9003,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;35d73c8b-28b0-4391-8444-10241d1be286&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8597,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d17f87f2-d6f5-483b-a8e4-5fbeb10aafad&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8898,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;55b54149-2a80-429d-8046-05bb35260bfa&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8359,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ee87d81-0e87-44e1-bc3a-f1ead869876a&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8408,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d6757de3-5561-4e00-aade-1e3c8984af9a&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8163,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c10d5c12-4dc8-445d-8f56-02c7b509cffa&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8051,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3c5e82a3-2241-40f3-becb-6ddaef3ed0b6&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8365,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dcb240b8-402e-473a-99ce-56fbda90912a&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8538,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2e0187b4-d53c-4ae6-b23b-8ac98cde612c&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; shawnzhang1122 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; shawnzhang1122 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8200,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9ee748e9-08dd-472f-bc82-aa6b56010497&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; shawnzhang1122 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; shawnzhang1122 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8404,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;59da9e15-9f1f-48ab-b8b4-798adbb88ef6&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; shawnzhang1122 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; shawnzhang1122 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8120,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c761681f-0784-44d9-9aea-6492f0015986&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; shawnzhang1122 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; shawnzhang1122 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8043,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;07f12165-423a-42c7-bcbc-9acc4df0fc7a&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; shawnzhang1122 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; shawnzhang1122 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8297,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1aad0484-15dc-4bf7-a666-5cd3dbdcb0c3&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; shawnzhang1122 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; shawnzhang1122 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7931,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e3140bdf-f257-4c9e-aa90-08d6dfeef890&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; shawnzhang1122 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; shawnzhang1122 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7693,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a866ac05-fbf5-4ecc-9775-0ad58d1abdf6&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; davidzhih16390 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; davidzhih16390 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7715,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1b0224f1-3a45-43fa-a22c-520d27c2e9f2&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; davidzhih16390 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; davidzhih16390 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8397,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4d428312-3f13-4f98-b8d5-17fcf01bf873&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; davidzhih16390 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; davidzhih16390 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8125,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;63e9a225-8183-4d41-8e17-7fd18541a043&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; davidzhih16390 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; davidzhih16390 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11120,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47307336-5e89-46aa-b783-eeeebdcf3c79&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; davidzhih16390 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; davidzhih16390 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7599,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;77da371d-67fa-4808-be92-94218d872e9e&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; stocksamuel -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; stocksamuel -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7648,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ff6a4728-ce34-43ee-8b65-d8c2ec2e11e6&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; stocksamuel -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; stocksamuel -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7724,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4835394f-6ec9-42df-951f-f9ad172d8e45&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; stocksamuel -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; stocksamuel -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7854,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ee4fa6c7-c391-4033-8ebd-ba38ae9793bf&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; stocksamuel -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; stocksamuel -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7363,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;62b9360b-4afa-4e44-a7bc-0bf9c493dc38&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; stocksamuel -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; stocksamuel -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8031,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9b371695-2fc1-48f8-a14e-04382700f607&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; stocksamuel -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; stocksamuel -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8653,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b4077e84-929d-46b7-b95b-05a4e48c8eae&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; stocksamuel -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; stocksamuel -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9890,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;84e0c1f3-fe73-4676-a591-572bd30f9704&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; stocksamuel -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; stocksamuel -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7733,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7df367b3-c52a-43d4-95c6-6ae64c0bb655&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; stocksamuel -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; stocksamuel -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8338,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;46c39c08-5357-4abc-8764-72c118e98b53&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; stocksamuel -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; stocksamuel -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8534,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8a234ef9-4cc3-4ffc-8a22-2e75af6a5350&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; stocksamuel -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; stocksamuel -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7902,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4bfc7710-02f0-4665-bca7-f7f62a2a9ca0&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; stocksamuel -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; stocksamuel -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8048,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8479921b-79dd-48c8-b62d-5c76824c223b&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; abcdqwr -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; abcdqwr -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7573,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6aa719a6-2c0e-435a-9ce5-91a706f9147e&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; abcdqwr -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; abcdqwr -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7740,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;59e5c314-3cbc-473b-b473-d52751baef3c&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; abcdqwr -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; abcdqwr -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9063,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;61991201-9a1a-486d-8ce5-a40a05caa000&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; abcdqwr -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; abcdqwr -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7851,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;668d3571-f682-48da-a436-6394d70ecf23&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; abcdqwr -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; abcdqwr -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7781,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c04fcc4e-c288-4f73-9991-f06ee6ea1937&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; abcdqwr -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; abcdqwr -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8408,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1dcca62e-afaf-4346-8f05-58a1d1427d8a&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; abcdqwr -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; abcdqwr -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7592,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c5968c54-2752-414a-8803-d34f54f789d6&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7503,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fcd18398-a6a1-4e8b-bfcf-575bf3635d65&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7831,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3744fc7c-ea4d-4320-b4b2-b0364d6930c3&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7314,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c295be1e-6a82-40b4-8b95-479ca491b507&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7813,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0ba209ce-4072-4ce7-bfe1-847bdd6ef696&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7604,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;14c5de59-ddf2-4d65-a2a1-5b4fb025cbb5&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7962,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;43115c73-91fb-4b84-87e3-a0dfa4934cf8&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8156,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3682bf5c-1663-479e-bb18-a68967736d47&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8007,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4e07532e-2b79-4075-8fa8-7af8cdcf0d97&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7697,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;030ecfc0-7b9d-412d-93a1-3606870a829d&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7886,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f60730e4-6f4f-4cde-8edf-8e0cf579f5c6&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7690,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c8d2edf8-d231-4b8c-af5c-0d7df1ab09fb&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7876,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;330cfe8d-4b14-49ed-8bd8-df414ed3ddff&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7795,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bc785ff7-b5f9-478c-9b2b-f1dc249fb75c&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7816,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;39c20873-f70a-4739-94f6-5a14edc88fcb&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 14&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 14&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11712,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;85f9fee3-6427-4d69-8963-f50e4731184d&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; hopeubest -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; hopeubest -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8742,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8aab8a0c-7996-408a-bdc4-7ccef02de195&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; hopeubest -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; hopeubest -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7568,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;112324a6-be9e-49c4-b8f5-4f7285fc43b1&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; hopeubest -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; hopeubest -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7350,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;32440f0d-88d8-42b8-9ea6-dd89a4d44449&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; hopeubest -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; hopeubest -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7718,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8e196187-791a-48ee-9e8c-51d860607500&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; hopeubest -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; hopeubest -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8033,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f548fe76-01e2-4a78-8e85-1595179eaba7&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; hopeubest -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; hopeubest -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7680,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ee35dd27-941b-423f-93b3-5971e4b0c6e8&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; hopeubest -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; hopeubest -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8112,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;550cbb46-079c-4393-9652-d8268ec2536c&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; hopeubest -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; hopeubest -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7613,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3061aa85-e855-4980-8b44-388f09125972&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; hopeubest -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; hopeubest -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8245,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e1605da-545d-4147-89d9-2b2d8355465b&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; hopeubest -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; hopeubest -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7801,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;31c639b8-ddaa-4497-80d3-f5fd7e91192b&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; hopeubest -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; hopeubest -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7593,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;06a66163-b114-4413-92aa-ac71c04ae588&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; hopeubest -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; hopeubest -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7332,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a4728c70-4329-40b8-9b7c-f93d019b44b7&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; hopeubest -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; hopeubest -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7909,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8c37ad40-d606-4220-91db-acbf1af88931&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; hopeubest -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; hopeubest -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8093,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7b4938a7-1d72-4f59-a4a0-2fca141837d2&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; hopeubest -&gt; 14&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; hopeubest -&gt; 14&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7104,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fce4a014-1dda-499b-861c-e8ed955c9e45&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; hopeubest -&gt; 15&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; hopeubest -&gt; 15&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7516,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9c20904f-1f15-432b-aa75-4fe33bc1bfab&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; keung_2022 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; keung_2022 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14935,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a178fb6e-96c0-4424-8a87-68ec93cd6321&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; keung_2022 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; keung_2022 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16580,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;5e9f49bd-330e-4a8c-a026-1cdbea322f49&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; keung_2022 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; keung_2022 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16788,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;15553a6c-3908-4082-806d-6bd56ba96e71&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; keung_2022 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; keung_2022 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15075,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;ca0535d2-5f21-45fa-b053-61521c086c70&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; keung_2022 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; keung_2022 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18357,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;f2cddf18-8270-44ca-8655-a3429fafb5b5&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; keung_2022 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; keung_2022 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13824,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1e1df582-afa4-402f-9302-fddaf9a6634c&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; keung_2022 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; keung_2022 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15487,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:195:35)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1089:28)\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1086:62&quot;},&quot;uuid&quot;:&quot;c719f7a1-7591-4a3d-9ddd-791dc947fde4&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; keung_2022 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; keung_2022 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18663,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;9505d7c5-c646-45aa-b13f-87fcab1bbc26&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; keung_2022 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; keung_2022 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15025,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:208:63\n    at new Promise (&lt;anonymous&gt;)\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:207:16)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1105:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;25b4f310-cc1a-4ea7-b941-df6b362f3bc3&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; keung_2022 -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; keung_2022 -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14171,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4b0d7c82-af5b-4d75-bae2-62a3e61e1e4a&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; keung_2022 -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; keung_2022 -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15099,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Receiver.receiverOnFinish (node_modules/ws/lib/websocket.js:1058:20)\n    at Receiver.emit (node:events:513:28)\n    at finish (node:internal/streams/writable:748:10)\n    at node:internal/streams/writable:726:13\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)&quot;},&quot;uuid&quot;:&quot;3a5fe484-0e3e-4a18-8a28-088ea0f42175&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; keung_2022 -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; keung_2022 -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15513,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;3014ea4a-bf96-48ac-ae64-877028044e45&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; keung_2022 -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; keung_2022 -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15073,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;30ce5274-4285-432a-90e5-48627b6574b7&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; keung_2022 -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; keung_2022 -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15862,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;3abd0a44-78c1-4e2f-ba83-a3289926dc2b&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; memegod420 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; memegod420 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15046,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:208:63\n    at new Promise (&lt;anonymous&gt;)\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:207:16)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1105:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;62704e6f-0d2f-41e9-a063-2616bb203c8a&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; memegod420 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; memegod420 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12350,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f4911763-a869-477b-8274-efbf4415de0f&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; memegod420 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; memegod420 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15476,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:195:35)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1089:28)\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1086:62&quot;},&quot;uuid&quot;:&quot;b2f4338c-d714-4733-a54b-18570e7cc07b&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; memegod420 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; memegod420 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17089,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;02ab1bfe-4aa8-4a84-8c9d-25c03a680e4a&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; kylema11201 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; kylema11201 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25522,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;d048925f-c7e5-4567-a453-9e3ee1cde410&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; kylema11201 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; kylema11201 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17166,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:195:35)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1089:28)\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1086:62&quot;},&quot;uuid&quot;:&quot;50828180-1eea-4e0d-960c-6b255eb90742&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; kylema11201 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; kylema11201 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22361,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;b8a1d260-5c38-430b-9632-94627c23c06d&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; kylema11201 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; kylema11201 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19186,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:195:35)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1089:28)\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1086:62&quot;},&quot;uuid&quot;:&quot;d3a93122-3981-4ab8-a3cc-6d65aed9fe3a&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; kylema11201 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; kylema11201 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25294,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;cb773f1d-fb64-4c87-a3b7-dd6bd975ceaf&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; kylema11201 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; kylema11201 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22331,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;c70d784f-faa8-469b-8a16-f39a6d998350&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; kylema11201 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; kylema11201 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16068,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;78143046-8a18-4cff-a3c9-d9187c681a42&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; kylema11201 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; kylema11201 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22229,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;4bab8139-bc18-4ec0-b600-08c9fb865965&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; kylema11201 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; kylema11201 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22555,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;82d86136-c1ae-4e34-8a8d-524c936cdbdf&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; kylema11201 -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; kylema11201 -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25281,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;28b91049-f0c0-45d0-9812-28a6af923cbc&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; easy_assignment_hk -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; easy_assignment_hk -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15062,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;353195db-afe9-412d-9541-10fe924f0a78&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; easy_assignment_hk -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; easy_assignment_hk -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15126,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:208:63\n    at new Promise (&lt;anonymous&gt;)\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:207:16)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1105:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;ac0caf7b-1b79-4fb1-9b61-af78d05920f5&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; easy_assignment_hk -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; easy_assignment_hk -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15138,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;32e856d8-cdfa-4eeb-9961-6b17784ceb43&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; easy_assignment_hk -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; easy_assignment_hk -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9857,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2af432ef-156f-49d7-97fc-4299854e7cef&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17141,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;07d1cb76-c24a-4af6-bf54-a4510d5f1f4f&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11504,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ab7f9a9e-59f2-4dd2-a7c1-0997ecff30de&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8638,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b7641591-dd8d-4d63-bb89-8fe080e1fee6&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9746,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9e546dc5-cd8e-4ba2-b0c8-0dd1b8e0ce0d&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9732,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f06362e6-0d87-479f-b756-cee114995905&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8695,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6019d19d-362f-45d0-9ec6-4de45684f876&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14422,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e9d08e67-c306-4f64-8333-c478abc3d0da&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15557,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;eb0e6bd1-d613-45e6-8856-ac5c38f2f5c0&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10534,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9fdb64ec-8293-4f65-b48f-172dc1d8c78b&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10086,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2e542f31-2967-4da9-b6fb-a04315710b43&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9666,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;96195385-e5e1-4bae-bdec-7d5f408112e7&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15193,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;14262fec-ad39-472d-a1d1-2a250323a795&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9120,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7da2cdda-4a09-4eae-8491-e61be6bc25dc&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14352,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;10203afe-e887-479b-88c4-e2a8f19e1538&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; codemyhomework -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; codemyhomework -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10326,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9256b374-c45f-47a4-bd9e-1ddc7305fc20&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; codemyhomework -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; codemyhomework -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11652,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7b09d41a-f8ae-4271-ba6f-b07f70faae8b&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; codemyhomework -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; codemyhomework -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8858,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cd7250a9-3141-4295-a1bf-e8a75e8478ca&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; codemyhomework -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; codemyhomework -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10006,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;66c76e2b-24b1-4812-8023-9b1ca37b29a2&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; shawnzhang1122 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; shawnzhang1122 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24193,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;b0f1547a-a0f2-42c9-8a25-4790369311a7&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; shawnzhang1122 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; shawnzhang1122 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15924,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;92fc72f1-063c-4505-a79c-a13600036008&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; shawnzhang1122 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; shawnzhang1122 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:26328,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;9f573c93-3f99-48de-a3c7-d3f62f8a14d9&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; shawnzhang1122 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; shawnzhang1122 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25523,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;5a4f5d1f-82ca-47c4-bdf9-ab6c164464e3&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; shawnzhang1122 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; shawnzhang1122 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23876,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;0448afd0-de48-463b-90d4-1b784a513270&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; shawnzhang1122 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; shawnzhang1122 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23844,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;515edb63-260f-451b-9386-cd6763301d53&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; shawnzhang1122 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; shawnzhang1122 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23396,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;e957ddf5-1e58-4bfd-944e-d10000b52fad&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; shawnzhang1122 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; shawnzhang1122 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23006,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;055517fc-7851-4766-ada5-64c772cfa8e9&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; shawnzhang1122 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; shawnzhang1122 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24609,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;8f943e1b-d9cf-4614-b8d9-06b139b4cf64&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; shawnzhang1122 -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; shawnzhang1122 -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15043,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;4c53c607-b1ab-4324-a208-20c0bf812bb4&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; shawnzhang1122 -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; shawnzhang1122 -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21710,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;93ca313c-e6cd-45bc-a306-73c56d365d10&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; shawnzhang1122 -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; shawnzhang1122 -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15040,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;faefdf29-ad6f-4167-9026-545b40214cde&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; davidzhih16390 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; davidzhih16390 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15476,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;e1abcc93-d07b-461e-ae79-e458662fcc64&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; davidzhih16390 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; davidzhih16390 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18718,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:195:35)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1089:28)\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1086:62&quot;},&quot;uuid&quot;:&quot;aeccda13-498d-4ec6-b323-064b9aea0b68&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; davidzhih16390 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; davidzhih16390 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15126,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;a97f442c-a3d4-483f-92f4-4a21e32fef22&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; davidzhih16390 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; davidzhih16390 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15063,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Receiver.receiverOnFinish (node_modules/ws/lib/websocket.js:1058:20)\n    at Receiver.emit (node:events:513:28)\n    at finish (node:internal/streams/writable:748:10)\n    at node:internal/streams/writable:726:13\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)&quot;},&quot;uuid&quot;:&quot;b54dc153-e5f4-4aa1-aaf5-374a6ccd4d3d&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8067,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;81b08b2c-089e-4f02-8491-7484a58fa788&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15206,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;78a80757-5fc8-4af1-84fa-953db6e07b82&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10654,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2aada0a7-74c9-4c5d-bc14-3a7dcbcf545f&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15143,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Receiver.receiverOnFinish (node_modules/ws/lib/websocket.js:1058:20)\n    at Receiver.emit (node:events:513:28)\n    at finish (node:internal/streams/writable:748:10)\n    at node:internal/streams/writable:726:13\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)&quot;},&quot;uuid&quot;:&quot;cca1b298-0b2f-4f20-a7c5-172a98c15d1d&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9346,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b58018a1-38ad-4015-b7ac-bd699aef37c3&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15130,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;445de76e-5e17-4632-a9f7-5ae10796247c&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10619,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1f0f82cd-8ecf-40a7-9987-306cfa2d5626&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15057,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;087f61e0-4216-40e1-a8c3-c94ec298951b&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11048,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d90adc80-d67c-4f29-8ec1-aa130d3a59b4&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15065,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Receiver.receiverOnFinish (node_modules/ws/lib/websocket.js:1058:20)\n    at Receiver.emit (node:events:513:28)\n    at finish (node:internal/streams/writable:748:10)\n    at node:internal/streams/writable:726:13\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)&quot;},&quot;uuid&quot;:&quot;246db998-e058-4c22-839f-7bbe1e6f4e69&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; abcdqwr -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; abcdqwr -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19125,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:195:35)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1089:28)\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1086:62&quot;},&quot;uuid&quot;:&quot;f5851281-335a-4e74-a295-40daea47d0a9&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; abcdqwr -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; abcdqwr -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16101,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;1d923f3d-fa22-4a7b-b607-fc86edbbff3c&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; abcdqwr -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; abcdqwr -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15024,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;daa9710e-4778-423a-8fa3-dfbbc043ff68&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; abcdqwr -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; abcdqwr -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15798,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;c3c8b805-d0eb-4730-86bd-52ff52c45d22&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; abcdqwr -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; abcdqwr -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14476,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b33096e5-b63e-4046-bf37-66b4e6041d87&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; niotech_hk -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; niotech_hk -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15626,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:195:35)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1089:28)\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1086:62&quot;},&quot;uuid&quot;:&quot;21ac5774-d9ec-4fa1-9cc9-b91a4df9fc04&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; niotech_hk -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; niotech_hk -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10098,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec0cffc3-0f2c-4d04-b047-3357617a9732&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; niotech_hk -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; niotech_hk -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8687,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c7bd3f66-5d27-4fcb-aa6e-d02c66c054db&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; niotech_hk -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; niotech_hk -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7314,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0ec82093-aba0-4121-a986-dfc2e0ddb415&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; niotech_hk -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; niotech_hk -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8301,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6405bd02-d544-43cf-b85a-8bca8b8c03d8&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; niotech_hk -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; niotech_hk -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9200,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dc176d4f-c687-4bfc-916c-6ef98b950261&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; niotech_hk -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; niotech_hk -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8030,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;16705dc0-84a1-48fd-b666-d84ea79cd1c7&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; niotech_hk -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; niotech_hk -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9527,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;321e33ea-5775-4700-a3a5-ca33b6ce3908&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; niotech_hk -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; niotech_hk -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8857,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2b228183-cc44-46b0-9c1b-80d388d3a66a&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; niotech_hk -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; niotech_hk -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7710,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;90c855cb-ac33-4c0d-aa37-e840392fb17b&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; niotech_hk -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; niotech_hk -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9301,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a1d2ccd7-1808-4262-b42e-921cde43e28e&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; hopeubest -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; hopeubest -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8948,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0980b2f0-45c1-401f-9fd6-1fc21c70224f&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; hopeubest -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; hopeubest -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14217,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;271e44ca-1665-4dc7-929b-9ae02489e6cb&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; hopeubest -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; hopeubest -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8843,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a972d764-da22-4abd-a6e3-c050c73892c2&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; hopeubest -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; hopeubest -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15140,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;710d050a-e0b2-4a90-ba3b-1370ae0c7ec1&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; hopeubest -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; hopeubest -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8037,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;079bc3e4-2baf-403e-98d5-4e1a6e9e3b35&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; hopeubest -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; hopeubest -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9853,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;57acc447-065b-489a-9d42-d2b3a2d52fa8&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; hopeubest -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; hopeubest -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9001,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4a5dc7c6-b2d3-4d2b-8d61-4838a27dd4d6&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; hopeubest -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; hopeubest -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10665,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;843de2f8-f30d-4231-ad7e-39aeec368353&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; hopeubest -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; hopeubest -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9621,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eae12c73-0cfd-4700-b958-dfdba813d4a5&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; hopeubest -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; hopeubest -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15114,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:208:63\n    at new Promise (&lt;anonymous&gt;)\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:207:16)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1105:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;c15b6278-890a-470a-be42-8f2c6f128979&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; hopeubest -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; hopeubest -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8926,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3ec1cb18-382f-4a79-a908-3482f88ce040&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; hopeubest -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; hopeubest -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15300,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;1f729ede-0887-471f-b3cb-6526a0a89cb4&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; hopeubest -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; hopeubest -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8765,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7409f7ad-1588-4c81-a62d-7e299658f217&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; hopeubest -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; hopeubest -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12855,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;51d687b4-bfa6-44d1-9d8a-7840ec31e3bc&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; keung_2022 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; keung_2022 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9348,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6fd1259d-6065-40c2-b9f1-f2ca7676ff06&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; keung_2022 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; keung_2022 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15057,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:195:35)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1089:28)\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1086:62&quot;},&quot;uuid&quot;:&quot;90ce5411-29f4-443b-afc4-b1ed00a25558&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; keung_2022 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; keung_2022 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15110,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:208:63\n    at new Promise (&lt;anonymous&gt;)\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:207:16)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1105:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;78704f27-ab61-4c2a-968b-bdddd9230989&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; keung_2022 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; keung_2022 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15805,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;0461306c-9812-47c4-a8ff-2772c5a30119&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; keung_2022 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; keung_2022 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15050,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:208:63\n    at new Promise (&lt;anonymous&gt;)\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:207:16)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1105:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;d860a7a1-c0f6-49ca-8918-fbcaaba5f157&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; keung_2022 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; keung_2022 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9641,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b58897f4-6004-4f3f-8ef3-e83d119b4a38&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; keung_2022 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; keung_2022 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16731,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;8b05e455-3606-4180-8228-470d8e2b11e5&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; keung_2022 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; keung_2022 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12941,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6db73a96-d74c-4df6-9ce7-9c4c6baadf6b&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; keung_2022 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; keung_2022 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15071,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:208:63\n    at new Promise (&lt;anonymous&gt;)\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:207:16)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1105:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;be2a5211-5396-427f-a285-0d1af051948b&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; keung_2022 -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; keung_2022 -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15124,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;ec7274ae-d3ea-4377-ab9f-d45e6b20e35d&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; keung_2022 -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; keung_2022 -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15133,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:208:63\n    at new Promise (&lt;anonymous&gt;)\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:207:16)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1105:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;db43de9c-4e80-4fdf-9ce4-15aa1ef64057&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9399,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f90e75ee-52b4-4309-be6a-05d89c1aa73f&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15106,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;54d075fa-ca9e-4ebc-81e0-f2ead9bbbdaf&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15122,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:208:63\n    at new Promise (&lt;anonymous&gt;)\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:207:16)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1105:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;069ab6a0-e647-4cdf-b315-f54a0183d62e&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10092,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a5a52f84-b932-41ea-9a72-7c27e8ea0e33&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15086,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:208:63\n    at new Promise (&lt;anonymous&gt;)\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:207:16)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1105:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;a86b93ce-ac58-4ff6-8e00-0642060baf8b&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10680,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a6792fd-b9f0-4d1e-8791-c9ecb7096f83&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17566,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;085d42f6-97cb-44c4-8f9b-6fbadc8642c8&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10330,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;da06a8d5-2ae3-4b4f-850e-5f452e2b68d2&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13595,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;80951a81-4838-43dc-8315-e9f6be683c75&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10953,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;298ab27f-6bd9-45cf-9305-b8edc2f5ce03&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13070,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7899f49c-b9ed-4a81-b25c-bd2218a8713f&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9823,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;430df4d7-0431-48fb-ba8f-2b55b53e8aed&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9852,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;82834ee9-5499-4b63-800d-6d25a442d57f&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9825,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;75ac3093-3d25-4c1b-9974-7b5021c0f573&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; kylema11201 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; kylema11201 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15101,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;75214c82-1fe0-41fa-b19d-5111bbc24908&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; kylema11201 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; kylema11201 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22445,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;c4274b3a-d387-4b94-99d9-dbdce09261b0&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; kylema11201 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; kylema11201 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22889,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;1ee1ed11-7b74-4cac-9eb9-88fea45221ad&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; kylema11201 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; kylema11201 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22549,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;f93d5cc8-5776-4473-99f6-c42913f58253&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; kylema11201 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; kylema11201 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15041,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;d50a9ea7-b111-46ee-9aa4-67cd709fcab1&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; kylema11201 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; kylema11201 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22143,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;3e57dbfa-3fa4-4c73-ba98-9f706b656f0c&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; kylema11201 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; kylema11201 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21092,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;6fd57bdc-7ad1-40fd-bc43-a9ff7f580b47&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; kylema11201 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; kylema11201 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15034,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;65700948-2c45-4842-a184-02a32ad399e5&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; kylema11201 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; kylema11201 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18571,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:195:35)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1089:28)\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1086:62&quot;},&quot;uuid&quot;:&quot;508a3d81-ecca-4ea6-8d3c-f2b7c2867840&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; kylema11201 -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; kylema11201 -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18280,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:195:35)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1089:28)\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1086:62&quot;},&quot;uuid&quot;:&quot;72a2af1b-fba7-46e7-a811-7f1db26c4170&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; kylema11201 -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; kylema11201 -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15033,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;5208d4c1-812c-4802-b9d3-3b84e42dbb54&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; kylema11201 -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; kylema11201 -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15626,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:195:35)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1089:28)\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1086:62&quot;},&quot;uuid&quot;:&quot;f5efa731-7c46-4009-b68a-f24191837b52&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; kylema11201 -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; kylema11201 -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23384,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;d0417e50-8d21-4a77-9567-2b19e70d76fc&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; kylema11201 -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; kylema11201 -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15034,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;ed89c347-bab8-4e02-9cc7-e3da85c1215c&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; kylema11201 -&gt; 14&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; kylema11201 -&gt; 14&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18257,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:195:35)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1089:28)\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1086:62&quot;},&quot;uuid&quot;:&quot;627fe3c4-0a94-40ba-9c2e-08f8f5732b81&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; kylema11201 -&gt; 15&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; kylema11201 -&gt; 15&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22614,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;dd5bfcb3-421e-4648-a41e-3b51757c2905&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; kylema11201 -&gt; 16&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; kylema11201 -&gt; 16&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21018,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;92e677a3-79ea-4515-93ef-1738461dd8a3&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; easy_assignment_hk -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; easy_assignment_hk -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15078,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;5c4f4ae8-b825-4931-9d7a-930b6aa050f5&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; easy_assignment_hk -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; easy_assignment_hk -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12676,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b7b7c253-6f4d-4341-bd95-c1ce844403a3&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; easy_assignment_hk -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; easy_assignment_hk -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10143,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a5d8fafc-31c1-4926-95fc-dca402524c6f&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; easy_assignment_hk -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; easy_assignment_hk -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9876,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e45cc3b-a8ea-4787-a837-963204162f23&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; easy_assignment_hk -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; easy_assignment_hk -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11204,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f76d6bc-2652-45eb-a7d1-afca37aee884&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; IT.godgunner -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; IT.godgunner -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10226,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;57b7d0bb-05a7-4ee6-ac59-a73b0c7cf094&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; IT.godgunner -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; IT.godgunner -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15100,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;5466ad67-15dc-4ec5-b1ee-5dc2563b7716&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; IT.godgunner -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; IT.godgunner -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9451,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6b277ec7-6c24-4d14-b8b9-cb8c74955b11&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; IT.godgunner -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; IT.godgunner -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15045,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;c6d82216-e870-4c24-981e-d60b6cae545c&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; IT.godgunner -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; IT.godgunner -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9775,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c5b3db93-deb8-48d4-b061-700a8b2d391a&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; IT.godgunner -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; IT.godgunner -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9826,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e6ba15df-df6a-4826-9765-3bb7e3c78f77&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; IT.godgunner -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; IT.godgunner -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14066,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;44984ef9-119d-4371-8133-abc3a88e41b9&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; IT.godgunner -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; IT.godgunner -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11302,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c4deb14c-ee3e-4e1e-93f4-059289213c20&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; IT.godgunner -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; IT.godgunner -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15055,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:208:63\n    at new Promise (&lt;anonymous&gt;)\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:207:16)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1105:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;fadbc368-806d-418b-b052-5575a0cfdb03&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; IT.godgunner -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; IT.godgunner -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10103,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9665921d-d04e-47ac-939c-51b9656c48da&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; codemyhomework -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; codemyhomework -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19625,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:195:35)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1089:28)\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1086:62&quot;},&quot;uuid&quot;:&quot;b43fb82d-ef90-4e42-8b34-0858780be026&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; codemyhomework -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; codemyhomework -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15837,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;5cc3164a-61e6-46b3-8cfe-8961d1f4bac6&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; codemyhomework -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; codemyhomework -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14497,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e8ba7514-4647-41ac-8f59-af3e73b423c3&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; shawnzhang1122 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; shawnzhang1122 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15049,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:208:63\n    at new Promise (&lt;anonymous&gt;)\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:207:16)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1105:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;fa104e52-a030-4ccd-9f61-ca940acbcc5b&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; shawnzhang1122 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; shawnzhang1122 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10494,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a944621f-bcd5-4229-90cf-086108069289&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; shawnzhang1122 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; shawnzhang1122 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15051,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:208:63\n    at new Promise (&lt;anonymous&gt;)\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:207:16)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1105:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;1a47ca15-afb0-4a21-ad33-09c8db2f113f&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; shawnzhang1122 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; shawnzhang1122 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8255,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;522e0a8c-365a-41a0-b5df-a4fde62f4ce5&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; shawnzhang1122 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; shawnzhang1122 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8403,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d6753b71-8d09-48a8-a8a7-91abeeeea04a&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; shawnzhang1122 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; shawnzhang1122 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14603,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7ddb1ae1-ed0b-4594-bfe7-e6b12cc5523e&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; shawnzhang1122 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; shawnzhang1122 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16572,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;e8e65fe4-370d-4834-b664-050e54eb7055&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; davidzhih16390 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; davidzhih16390 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10901,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;81aff5a1-cb19-4d8d-bc29-a6ca97cf1ad1&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; davidzhih16390 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; davidzhih16390 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11693,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fc87bd3b-c15e-4a36-8dbe-c46bf37da8a1&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; davidzhih16390 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; davidzhih16390 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7888,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;38fbaaea-420f-430e-adef-9753301f9bb2&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; davidzhih16390 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; davidzhih16390 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12009,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d2615471-3393-4368-b201-e8697c1c5347&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; davidzhih16390 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; davidzhih16390 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15074,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Receiver.receiverOnFinish (node_modules/ws/lib/websocket.js:1058:20)\n    at Receiver.emit (node:events:513:28)\n    at finish (node:internal/streams/writable:748:10)\n    at node:internal/streams/writable:726:13\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)&quot;},&quot;uuid&quot;:&quot;06fe338b-4ed5-49e7-8671-9a17bdcd4b12&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; davidzhih16390 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; davidzhih16390 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8667,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9e65a7c3-3007-4f1e-b7e5-5dbbccd72519&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; davidzhih16390 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; davidzhih16390 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15096,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;2e0e4d20-2f7b-46e0-be39-a85c7067eede&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; davidzhih16390 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; davidzhih16390 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9811,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d400ed0a-e8d7-4234-b6cd-058e0984152b&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; davidzhih16390 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; davidzhih16390 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15051,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;7890e51c-672f-4bbf-bc8e-dce691b12082&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; davidzhih16390 -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; davidzhih16390 -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15093,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;a40e5f57-1db6-4343-a7fb-19e529f17d8b&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; davidzhih16390 -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; davidzhih16390 -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18060,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;edfdc404-f8cc-48f7-a94c-4b37c39929d4&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; davidzhih16390 -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; davidzhih16390 -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8823,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4e58b4fc-8540-4d42-9af9-4eae6bc227e8&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; davidzhih16390 -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; davidzhih16390 -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15066,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0f4423c6-8d24-4e52-8444-1c57da8f7d79&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; davidzhih16390 -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; davidzhih16390 -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15073,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;3681c96b-c957-47a1-9e49-93d99c628e39&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10856,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7ab86127-77a5-4adc-a6a0-5bc0e207fc03&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16923,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;f3538c94-77e4-491c-aac5-cbcde6bc4eaf&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11369,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;61cc1605-71eb-4f3d-b149-0687838eb987&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15127,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;209c2544-363f-4c9e-8065-2aa3ad158416&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10503,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;be49a5f7-3652-4b8c-9b6f-4bb7fbb3cf24&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12470,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cfa8498a-6cb2-4d1c-bbb9-fa45a647c5f3&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10316,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fd265e47-76ff-4a18-966a-ffc04db0c190&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15057,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;921abe55-1c56-4c6b-807e-5fa15fad248f&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10969,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2ab3fe72-3f5d-4fc4-a49a-b0797185a790&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9749,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4191111e-fe64-4bc1-9012-dda7b757582a&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15083,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;f9411508-cddd-4df8-bc4c-607c2b75c0bd&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11326,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ea65bdab-c49f-4e94-b8cf-66f9245c0270&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10578,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a5cc1d0f-e8d4-4f5f-b2b3-0b5beecd592d&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9311,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9f2844dc-0f70-4ca4-9db3-4cd97dffdd78&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9138,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b4ddf49b-10ae-4eae-81ea-68e47d8c4054&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15092,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:208:63\n    at new Promise (&lt;anonymous&gt;)\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:207:16)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1105:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;583e3f66-bdee-495e-9b67-3b73f498823d&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10800,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;20603182-375b-4819-8205-721abb0b336e&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15081,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:208:63\n    at new Promise (&lt;anonymous&gt;)\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:207:16)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1105:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;86c050ce-bf1f-47a0-94d1-7186a6a95de5&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12374,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;af781dbc-36cd-42dc-a1bb-999ffb8d2044&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15514,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:208:63\n    at new Promise (&lt;anonymous&gt;)\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:207:16)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1105:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;528b63b1-1ef4-4a30-b903-cd540d0d2373&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12921,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ccea40ef-e9e7-477f-9e64-41cab62760b4&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15710,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:195:35)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1089:28)\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1086:62&quot;},&quot;uuid&quot;:&quot;d9b96dc0-bb68-42ce-b5f8-c24d24241a7e&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18395,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;b9f98dd8-8f28-426b-a3ee-faaeac0135fe&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11307,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b1a9a293-a667-4cb0-b837-05d9ec3f69c4&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; niotech_hk -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; niotech_hk -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15091,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Runtime.callFunctionOn): Target closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Runtime.callFunctionOn): Target closed.\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:208:63\n    at new Promise (&lt;anonymous&gt;)\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:207:16)\n    at ExecutionContext._evaluateInternal (node_modules/puppeteer-core/lib/cjs/puppeteer/common/ExecutionContext.js:201:50)\n    at ExecutionContext.evaluate (node_modules/puppeteer-core/lib/cjs/puppeteer/common/ExecutionContext.js:107:27)\n    at ElementHandle.evaluate (node_modules/puppeteer-core/lib/cjs/puppeteer/common/JSHandle.js:102:46)\n    at ElementHandle._scrollIntoViewIfNeeded (node_modules/puppeteer-core/lib/cjs/puppeteer/common/JSHandle.js:280:34)\n    at ElementHandle.click (node_modules/puppeteer-core/lib/cjs/puppeteer/common/JSHandle.js:389:20)\n    at Context.&lt;anonymous&gt; (test/click-test.js:121:33)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;5f82a49e-4c7d-40a8-a197-48cb23a53a85&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; niotech_hk -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; niotech_hk -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17844,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;7455b839-2721-4048-a2c7-dca0ea4440c8&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; niotech_hk -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; niotech_hk -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17950,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;814089ae-995f-4a51-bb79-4edb78874f4a&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; niotech_hk -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; niotech_hk -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15792,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;9db33272-4ad0-4c00-8ff5-8fea8338f5c2&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; niotech_hk -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; niotech_hk -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15863,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;10a86027-8234-4a3c-8748-9cf0b0f4d40f&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; niotech_hk -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; niotech_hk -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17873,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;38a9bdea-6ee5-466a-8a24-37df731b0649&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; niotech_hk -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; niotech_hk -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15890,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;c7cb0a59-c726-4786-b312-ff68b4bb9de0&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; niotech_hk -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; niotech_hk -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18044,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;bd48bca3-aea8-46f8-af8f-e547eb2f72f0&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; niotech_hk -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; niotech_hk -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15945,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;4c634ee3-a373-476b-8c69-59c553b19b88&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; hopeubest -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; hopeubest -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13939,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2aa224a3-3b51-49f5-bcea-ef23b57cab4d&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; hopeubest -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; hopeubest -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9574,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fb62b52d-aac5-421f-b5ad-124b46a3cf78&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; hopeubest -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; hopeubest -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12752,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ded6b3f-8bdd-4204-8bbd-31b3b5b60ec5&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10414,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4630f242-908e-4e0f-aaea-1700f4ed945f&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10790,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e706385c-6c56-45c8-86ac-25232a770408&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10270,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;682146d7-c205-4cd1-84b2-e2899c7146ce&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15058,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Page.captureScreenshot): Target closed.\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:208:63\n    at new Promise (&lt;anonymous&gt;)\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:207:16)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1105:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;43afc9fc-c61a-4c32-8613-e049d4209e6e&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12929,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2bf950e8-43fa-45d0-a82a-f32f4b4f5438&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13253,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c3a71d63-54c1-4aeb-9a62-44e692117ca4&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11473,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;16040606-1c66-437d-9212-6434dd03192c&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; memegod420 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; memegod420 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11698,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bcde843a-14b5-468a-b9cd-0a4efff99f88&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; memegod420 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; memegod420 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12145,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;437bdf41-d75f-482c-a1b4-690f8ab92634&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; memegod420 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; memegod420 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10285,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;96b98daa-0eca-400d-9785-841c6687946b&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; memegod420 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; memegod420 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10243,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cf88c838-6e8b-4734-aa31-de53acfbd91c&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; memegod420 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; memegod420 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11103,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f560c14c-f09b-495e-aec5-d49a1e4e23c5&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; memegod420 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; memegod420 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11393,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;56664c05-10dc-423a-ae9d-eabd356d872c&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; memegod420 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; memegod420 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10940,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0a548c46-9ee8-4fbb-9e0f-106f3bec5b3a&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; memegod420 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; memegod420 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10812,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5c170854-9a29-4649-9247-efbd0ace0036&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; memegod420 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; memegod420 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10521,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f82a211e-de89-4281-8536-3060eda2f6c4&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; memegod420 -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; memegod420 -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11695,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c5887ec4-9e9a-4f98-ac6e-f677ec8b35ea&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; memegod420 -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; memegod420 -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11358,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cd560a2a-b20f-4030-b3a5-2af5ba6c115f&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; memegod420 -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; memegod420 -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10183,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;76fc116b-2219-4e29-a770-736506b96ed4&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; memegod420 -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; memegod420 -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9794,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dc1d1a27-dee6-47a4-a6a8-e4a103d4db90&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; memegod420 -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; memegod420 -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11475,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1f455457-3aa9-4f3a-9b9a-1e04f2b90db1&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; memegod420 -&gt; 14&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; memegod420 -&gt; 14&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14673,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3fee6bee-1861-4280-bea9-d7b6ce8f2b6c&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; kylema11201 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; kylema11201 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23267,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;9344c592-7a5c-49da-a7dc-ecca144f4145&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; kylema11201 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; kylema11201 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22801,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;d694d1ac-53bf-4a68-8334-894080e3bc41&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; kylema11201 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; kylema11201 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23669,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;0b6753a0-dfe9-41fd-9778-d7605d228146&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; kylema11201 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; kylema11201 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24201,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;a4ea62c4-c173-4276-92d2-3017d6a05436&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; kylema11201 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; kylema11201 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19250,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:195:35)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1089:28)\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1086:62&quot;},&quot;uuid&quot;:&quot;d5146358-30fe-4fdc-9248-850cb6973bdb&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; kylema11201 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; kylema11201 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15884,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;e6db77d4-03e8-42f3-873e-af7696ee6219&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; kylema11201 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; kylema11201 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15023,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;89301924-3575-4af3-a927-e941c4ca5692&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; kylema11201 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; kylema11201 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23487,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;70c457b8-19d5-4f12-8e70-76bf619774f3&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; kylema11201 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; kylema11201 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15072,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;eb62ad5d-a113-4c25-8f9a-d8194b98fcc5&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; kylema11201 -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; kylema11201 -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22766,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;b93723f8-c277-420e-93fc-93eb5eb8c987&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; kylema11201 -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; kylema11201 -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17611,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:195:35)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1089:28)\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1086:62&quot;},&quot;uuid&quot;:&quot;5821972f-4ef2-4f1d-9ae8-af9f565bbc34&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; kylema11201 -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; kylema11201 -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24742,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;15fbd0ea-9087-4a74-af7c-140b9bd61969&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; kylema11201 -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; kylema11201 -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24048,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;c3ba58e4-0e98-46a3-9e93-30da48d0a56d&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11119,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e80e04f9-d542-4d77-ab3b-1461e8dcbf41&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9615,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2a2d6bb2-ce0c-4f42-a002-08d5df6a6a83&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10387,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1ef4fc69-9fe5-479c-8331-f1fe1386a5d1&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12976,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6a07fb7d-9615-4e4c-b02f-0c669705b758&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16068,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;e465227a-e760-4148-be9c-1ae63c22aef6&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10661,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;471076c8-8874-46ec-a258-4e35593208cc&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16515,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;6e650ab4-a081-47eb-998a-e9fdaa618f66&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16081,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;13ab474f-f143-4d39-a1db-e36f04263e0c&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18886,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;2ee59cab-b209-4a5a-93a0-14184531ebc0&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11129,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;57772ed5-e14f-4fbf-a9d4-36b414730247&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12507,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0f3149d6-e59e-42da-9d84-1ef95615bea5&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9931,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4a4a2e9e-6fb5-4504-b33a-2077bf7172ef&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; IT.godgunner -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; IT.godgunner -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17067,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;b9e2894a-d9f7-461a-b65e-e74e6972e8f4&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; IT.godgunner -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; IT.godgunner -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18144,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;416f953b-07ba-41ed-ba00-a4e8f1703a96&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; IT.godgunner -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; IT.godgunner -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15740,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;6f3ed22d-ac1a-46b0-a245-6f1076e7ffae&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; IT.godgunner -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; IT.godgunner -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17979,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:195:35)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1089:28)\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1086:62&quot;},&quot;uuid&quot;:&quot;96dc8bf6-3963-4edd-9887-92c2cb119bdd&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; IT.godgunner -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; IT.godgunner -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17944,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;1ddc73d6-f50b-4829-8219-8f947f428924&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; IT.godgunner -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; IT.godgunner -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17454,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;11258145-83df-40e4-93ee-c3cd715133e3&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; IT.godgunner -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; IT.godgunner -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16421,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;7fc102fb-b09c-4038-bb22-9fc2363927c3&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; IT.godgunner -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; IT.godgunner -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17166,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;06577176-d729-4a63-9002-3f8e050cbcd3&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; IT.godgunner -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; IT.godgunner -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17229,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;3bd57989-27c4-45ee-b4d4-f54e2d135087&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; IT.godgunner -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; IT.godgunner -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15841,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;87c6d90d-dd4e-4443-90e8-1bc481bcefeb&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; codemyhomework -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; codemyhomework -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14958,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4d72fdbc-0bdf-4809-aadf-cfd4c5015a36&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; codemyhomework -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; codemyhomework -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16684,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;b6a4b1b2-f60f-4744-9e1d-6dd5c77760c8&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; codemyhomework -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; codemyhomework -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16745,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;83c21701-ece1-44cb-b2d4-79e11b774b74&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; codemyhomework -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; codemyhomework -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19686,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:195:35)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1089:28)\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1086:62&quot;},&quot;uuid&quot;:&quot;30ede176-cb6c-44d7-8251-bc3b130161cf&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; codemyhomework -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; codemyhomework -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16290,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;977cf322-0219-4c16-9c95-13ec1276f3a5&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; codemyhomework -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; codemyhomework -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17860,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:195:35)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1089:28)\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1086:62&quot;},&quot;uuid&quot;:&quot;c44e14d3-a338-4952-9e8a-05374c3f6793&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; codemyhomework -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; codemyhomework -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18124,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;ab4742cd-1502-427f-8a64-3f605dacf652&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; codemyhomework -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; codemyhomework -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15657,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;350a8c9b-4d65-4e19-807b-007b5efa85f3&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; codemyhomework -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; codemyhomework -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18612,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:195:35)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1089:28)\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1086:62&quot;},&quot;uuid&quot;:&quot;50bed98e-5fcb-44e1-a888-43f9f80457b5&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; codemyhomework -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; codemyhomework -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14988,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1421f60e-1f4f-4c40-8b3c-02965b5d9971&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25220,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;3498a9a0-b163-4fd8-a369-a6cbbe70142b&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25100,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;90af4dd6-9046-4227-9e58-00ed4b5409ef&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18182,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:195:35)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1089:28)\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1086:62&quot;},&quot;uuid&quot;:&quot;a2540145-0609-4fa9-9905-87d2dffa0747&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23722,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;b2239fc9-7fbf-4426-a931-256a9e64bef0&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:27685,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;de35dbf8-01cf-4eef-993f-20b43e25653b&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25002,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;09cc655d-d553-40cb-93ce-045fc1553a74&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25173,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;24b6ff68-2961-4fbd-897d-b28082198a76&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23596,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;62e2006b-3c6a-4c49-b34b-29cbc2dbb3b0&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15411,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;ebb66813-58aa-4fb3-948a-a4e9ffae4597&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15559,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;dab11190-8cc4-41c9-a2db-fbc33fdad548&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15962,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;30e97ea5-1aea-4a44-8506-eb7695747cee&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15369,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;493cca8d-096b-42ef-9e95-eb0c483fbb9d&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16659,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;03ac2c69-b663-416b-8ccc-48ae2fdf147f&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15053,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:195:35)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1089:28)\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1086:62&quot;},&quot;uuid&quot;:&quot;69eede34-430a-419f-8dba-6149541ad46e&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17030,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;024a1fc3-39f3-42cc-bec2-ef244435db41&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16136,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;89e5b140-fe24-4463-befa-261bf7af28ad&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15054,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Target.closeTarget): Target closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Target.closeTarget): Target closed.\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:71:63\n    at new Promise (&lt;anonymous&gt;)\n    at Connection.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:70:16)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1199:44)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;62e5c9f5-1cf3-44cb-a178-cdf4673718e0&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15528,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;9bb6d4e2-d6e1-41cb-b85e-575ca2a30767&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; stocksamuel -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; stocksamuel -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17289,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;7a614094-1fdb-4091-957b-6d7ad67b8561&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; stocksamuel -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; stocksamuel -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10890,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;243db3d9-5fb8-4896-a8a8-dc295fcc038c&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; stocksamuel -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; stocksamuel -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9654,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;579f9ccd-e671-408e-91cc-99fd0e35ac5e&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; stocksamuel -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; stocksamuel -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10622,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;75943519-535e-4206-b9f0-57bb913139f1&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; stocksamuel -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; stocksamuel -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9805,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5204a737-172c-4616-bbaa-fffa3cb74bc7&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; stocksamuel -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; stocksamuel -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12161,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4fb9773c-7a47-4b7b-9b51-139a7f07d2b8&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; stocksamuel -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; stocksamuel -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16074,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:195:35)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1089:28)\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1086:62&quot;},&quot;uuid&quot;:&quot;66a275d0-07a8-4a8b-9062-c44c8e621678&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; abcdqwr -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; abcdqwr -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17069,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;a30dc0e4-f98b-4c40-ba7f-462c651ff355&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; abcdqwr -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; abcdqwr -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15676,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;8652884b-9d67-4439-a0a9-0ddfcc33afee&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; abcdqwr -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; abcdqwr -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15961,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:195:35)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1089:28)\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1086:62&quot;},&quot;uuid&quot;:&quot;69c34ea9-f2e7-4e7f-9702-111014ca6fd6&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19975,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;2bc0351c-3f26-4b7f-b945-1bcf9ae9d56b&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15043,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;e7c350ca-a559-4583-80e6-87e76f8fcd6a&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18705,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;98310b81-acbb-443b-9d63-96b10d6ef0a2&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16609,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;f86e758e-3a86-4751-b90f-7e520ff1b372&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19349,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;92262d7c-acc4-4bc1-b231-d1c1a06dc9d8&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18107,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;dcbba793-d1f5-476a-91e1-626a9e789ab2&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19054,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;6649bcff-3370-404d-b57d-8ba792a0290e&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17334,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;54c8eedc-3522-4874-9332-8536b16d1009&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20294,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;93982770-c629-4524-a17f-f6b0cc9ac28c&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21584,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;55288fce-190f-42c5-8dce-8dcb2198bb34&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20789,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;af2d389a-0e6d-41c2-b37e-06ec16386d77&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21736,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;8020f645-3c85-4705-9c80-7d613403bcf9&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17427,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;571e010e-78a0-4353-8853-64dbb2babe9e&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17529,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;616d5224-dbf8-4821-ac23-184ae935f088&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16834,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;0c357b3e-4fee-4918-888c-08f95d560070&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16304,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;281f2d96-a1aa-41a4-9a83-02e49bdf852c&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15718,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Target.activateTarget): Session closed. Most likely the page has been closed.\n    at CDPSession.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:195:35)\n    at Page._screenshotTask (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1089:28)\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1086:62&quot;},&quot;uuid&quot;:&quot;5467562e-6432-483e-a42c-04466ee51bc3&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16751,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;2ad932ab-48c8-48cb-ac09-2e38e9f46d31&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15046,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Navigation failed because browser has disconnected!&quot;,&quot;estack&quot;:&quot;Error: Navigation failed because browser has disconnected!\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/LifecycleWatcher.js:51:147\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:62\n    at Array.map (&lt;anonymous&gt;)\n    at Object.emit (node_modules/puppeteer-core/lib/cjs/vendor/mitt/src/index.js:51:43)\n    at CDPSession.emit (node_modules/puppeteer-core/lib/cjs/puppeteer/common/EventEmitter.js:72:22)\n    at CDPSession._onClosed (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:247:14)\n    at Connection._onClose (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:128:21)\n    at WebSocket.&lt;anonymous&gt; (node_modules/puppeteer-core/lib/cjs/puppeteer/node/NodeWebSocketTransport.js:17:30)\n    at WebSocket.onClose (node_modules/ws/lib/event-target.js:136:16)\n    at WebSocket.emit (node:events:513:28)\n    at WebSocket.emitClose (node_modules/ws/lib/websocket.js:246:10)\n    at Socket.socketOnClose (node_modules/ws/lib/websocket.js:1148:15)\n    at Socket.emit (node:events:513:28)\n    at TCP.&lt;anonymous&gt; (node:net:313:12)&quot;},&quot;uuid&quot;:&quot;80f3bde3-b64e-4624-a99b-2c43aed85c22&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16865,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;ddc21153-a6a4-4fd6-9844-1d4ffedd3695&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16244,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;95ea3d18-a3d1-4f48-9e74-92db8fc28979&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17990,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;d01e93b2-1456-463b-8630-9ea374b12745&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19042,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;1d364a76-3288-4a21-a34d-1fb70edf1ef7&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21495,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;4c4b7d26-2a54-4b63-98e1-7e22e12bc758&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18448,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;1db0f7ff-1391-47d1-994c-4722711a0621&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16294,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;4e1acb1c-b968-48bf-ba12-b49902733d5f&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18423,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;10300c0e-2b41-4a8a-9600-c55425f06109&quot;,&quot;parentUUID&quot;:&quot;890d9d00-d84f-4c01-8b39-25f92c9bc119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;95579d8d-7e11-4682-bd1d-625897321d3a&quot;,&quot;041c333a-f779-4b24-a12f-cdc29df89d82&quot;,&quot;6067dbba-1de9-4dcc-a7d4-374ae5a3b6ce&quot;,&quot;cd1b55af-9172-404a-bcdc-acc23f59fffd&quot;,&quot;f205a1e9-ef06-4310-aba8-747a44065af9&quot;,&quot;56989f67-43e7-4d9a-ae26-aade96079e14&quot;,&quot;36f95042-c070-4b1a-8c75-01eb1830ae38&quot;,&quot;6d89f6ae-5c86-4858-8e6b-f6b2aad9216a&quot;,&quot;1d6fd1aa-d434-4ab6-8c2b-32399bb1a43f&quot;,&quot;ee0a5b4c-80fe-4cad-80be-9a441f91446f&quot;,&quot;d8362ab0-47cd-4614-8ada-61b9e7d7a780&quot;,&quot;d8a0c223-373d-4af6-9623-69c5cd523f08&quot;,&quot;8a084138-e850-429e-8045-29bd842bde4f&quot;,&quot;6cd50f9f-77d6-4e01-bd87-74b3bb8a46a3&quot;,&quot;8aa06647-5d66-445d-8c96-b47a62cef0e2&quot;,&quot;58bc1b52-b468-48c7-ade1-cbc73d749ad2&quot;,&quot;f9a348fb-b5ab-4d12-b812-696156169b97&quot;,&quot;b9b10d1b-3a12-4e07-b034-00f9044f5627&quot;,&quot;1db7072e-f4ac-47b4-a7b6-1ffa90878e76&quot;,&quot;2da58c97-be39-4a77-aace-4c2cc1449045&quot;,&quot;0f661d0f-3bc2-4ee7-857d-7bdb736edb92&quot;,&quot;2e749213-b24a-4b96-8cae-e3f7f41dbeb6&quot;,&quot;c78ce0de-622f-4e59-b7f2-faeb1ec84b09&quot;,&quot;d7408c3b-0b79-46e8-97a1-644965c4fd3c&quot;,&quot;fce66972-2d56-418b-b616-1b74ba981d0d&quot;,&quot;cbc2cd70-5b26-4557-a265-72b096c02a04&quot;,&quot;58f6d80b-9ccf-4997-8e57-412d37fa471c&quot;,&quot;bd7cf9e2-e4ed-4914-9e19-b8c257c4f717&quot;,&quot;9c196673-827b-4528-9033-36d8e54189ab&quot;,&quot;8cc0cf73-8004-47f8-b5a7-6ce838b0206b&quot;,&quot;f854d58f-0036-4bfd-a794-0d8df1bcf548&quot;,&quot;cdf28e02-44f5-4ec2-852c-372289d78586&quot;,&quot;13946c26-80eb-405a-b0e3-2f6e19ba5991&quot;,&quot;f5461863-c604-4997-8a1a-611aa35c5ba9&quot;,&quot;b0eb7f44-d6b2-45b9-b5c1-de79b31f433c&quot;,&quot;e8f7cbb3-7733-4f30-88b5-44c65c10024b&quot;,&quot;c967a8c7-52dc-43d0-b3c7-4e29f00358ea&quot;,&quot;35d73c8b-28b0-4391-8444-10241d1be286&quot;,&quot;d17f87f2-d6f5-483b-a8e4-5fbeb10aafad&quot;,&quot;55b54149-2a80-429d-8046-05bb35260bfa&quot;,&quot;6ee87d81-0e87-44e1-bc3a-f1ead869876a&quot;,&quot;d6757de3-5561-4e00-aade-1e3c8984af9a&quot;,&quot;c10d5c12-4dc8-445d-8f56-02c7b509cffa&quot;,&quot;3c5e82a3-2241-40f3-becb-6ddaef3ed0b6&quot;,&quot;dcb240b8-402e-473a-99ce-56fbda90912a&quot;,&quot;2e0187b4-d53c-4ae6-b23b-8ac98cde612c&quot;,&quot;9ee748e9-08dd-472f-bc82-aa6b56010497&quot;,&quot;59da9e15-9f1f-48ab-b8b4-798adbb88ef6&quot;,&quot;c761681f-0784-44d9-9aea-6492f0015986&quot;,&quot;07f12165-423a-42c7-bcbc-9acc4df0fc7a&quot;,&quot;1aad0484-15dc-4bf7-a666-5cd3dbdcb0c3&quot;,&quot;e3140bdf-f257-4c9e-aa90-08d6dfeef890&quot;,&quot;a866ac05-fbf5-4ecc-9775-0ad58d1abdf6&quot;,&quot;1b0224f1-3a45-43fa-a22c-520d27c2e9f2&quot;,&quot;4d428312-3f13-4f98-b8d5-17fcf01bf873&quot;,&quot;63e9a225-8183-4d41-8e17-7fd18541a043&quot;,&quot;47307336-5e89-46aa-b783-eeeebdcf3c79&quot;,&quot;77da371d-67fa-4808-be92-94218d872e9e&quot;,&quot;ff6a4728-ce34-43ee-8b65-d8c2ec2e11e6&quot;,&quot;4835394f-6ec9-42df-951f-f9ad172d8e45&quot;,&quot;ee4fa6c7-c391-4033-8ebd-ba38ae9793bf&quot;,&quot;62b9360b-4afa-4e44-a7bc-0bf9c493dc38&quot;,&quot;9b371695-2fc1-48f8-a14e-04382700f607&quot;,&quot;b4077e84-929d-46b7-b95b-05a4e48c8eae&quot;,&quot;84e0c1f3-fe73-4676-a591-572bd30f9704&quot;,&quot;7df367b3-c52a-43d4-95c6-6ae64c0bb655&quot;,&quot;46c39c08-5357-4abc-8764-72c118e98b53&quot;,&quot;8a234ef9-4cc3-4ffc-8a22-2e75af6a5350&quot;,&quot;4bfc7710-02f0-4665-bca7-f7f62a2a9ca0&quot;,&quot;8479921b-79dd-48c8-b62d-5c76824c223b&quot;,&quot;6aa719a6-2c0e-435a-9ce5-91a706f9147e&quot;,&quot;59e5c314-3cbc-473b-b473-d52751baef3c&quot;,&quot;61991201-9a1a-486d-8ce5-a40a05caa000&quot;,&quot;668d3571-f682-48da-a436-6394d70ecf23&quot;,&quot;c04fcc4e-c288-4f73-9991-f06ee6ea1937&quot;,&quot;1dcca62e-afaf-4346-8f05-58a1d1427d8a&quot;,&quot;c5968c54-2752-414a-8803-d34f54f789d6&quot;,&quot;fcd18398-a6a1-4e8b-bfcf-575bf3635d65&quot;,&quot;3744fc7c-ea4d-4320-b4b2-b0364d6930c3&quot;,&quot;c295be1e-6a82-40b4-8b95-479ca491b507&quot;,&quot;0ba209ce-4072-4ce7-bfe1-847bdd6ef696&quot;,&quot;14c5de59-ddf2-4d65-a2a1-5b4fb025cbb5&quot;,&quot;43115c73-91fb-4b84-87e3-a0dfa4934cf8&quot;,&quot;3682bf5c-1663-479e-bb18-a68967736d47&quot;,&quot;4e07532e-2b79-4075-8fa8-7af8cdcf0d97&quot;,&quot;030ecfc0-7b9d-412d-93a1-3606870a829d&quot;,&quot;f60730e4-6f4f-4cde-8edf-8e0cf579f5c6&quot;,&quot;c8d2edf8-d231-4b8c-af5c-0d7df1ab09fb&quot;,&quot;330cfe8d-4b14-49ed-8bd8-df414ed3ddff&quot;,&quot;bc785ff7-b5f9-478c-9b2b-f1dc249fb75c&quot;,&quot;39c20873-f70a-4739-94f6-5a14edc88fcb&quot;,&quot;85f9fee3-6427-4d69-8963-f50e4731184d&quot;,&quot;8aab8a0c-7996-408a-bdc4-7ccef02de195&quot;,&quot;112324a6-be9e-49c4-b8f5-4f7285fc43b1&quot;,&quot;32440f0d-88d8-42b8-9ea6-dd89a4d44449&quot;,&quot;8e196187-791a-48ee-9e8c-51d860607500&quot;,&quot;f548fe76-01e2-4a78-8e85-1595179eaba7&quot;,&quot;ee35dd27-941b-423f-93b3-5971e4b0c6e8&quot;,&quot;550cbb46-079c-4393-9652-d8268ec2536c&quot;,&quot;3061aa85-e855-4980-8b44-388f09125972&quot;,&quot;5e1605da-545d-4147-89d9-2b2d8355465b&quot;,&quot;31c639b8-ddaa-4497-80d3-f5fd7e91192b&quot;,&quot;06a66163-b114-4413-92aa-ac71c04ae588&quot;,&quot;a4728c70-4329-40b8-9b7c-f93d019b44b7&quot;,&quot;8c37ad40-d606-4220-91db-acbf1af88931&quot;,&quot;7b4938a7-1d72-4f59-a4a0-2fca141837d2&quot;,&quot;fce4a014-1dda-499b-861c-e8ed955c9e45&quot;,&quot;9c20904f-1f15-432b-aa75-4fe33bc1bfab&quot;,&quot;a178fb6e-96c0-4424-8a87-68ec93cd6321&quot;,&quot;1e1df582-afa4-402f-9302-fddaf9a6634c&quot;,&quot;4b0d7c82-af5b-4d75-bae2-62a3e61e1e4a&quot;,&quot;f4911763-a869-477b-8274-efbf4415de0f&quot;,&quot;2af432ef-156f-49d7-97fc-4299854e7cef&quot;,&quot;ab7f9a9e-59f2-4dd2-a7c1-0997ecff30de&quot;,&quot;b7641591-dd8d-4d63-bb89-8fe080e1fee6&quot;,&quot;9e546dc5-cd8e-4ba2-b0c8-0dd1b8e0ce0d&quot;,&quot;f06362e6-0d87-479f-b756-cee114995905&quot;,&quot;6019d19d-362f-45d0-9ec6-4de45684f876&quot;,&quot;e9d08e67-c306-4f64-8333-c478abc3d0da&quot;,&quot;9fdb64ec-8293-4f65-b48f-172dc1d8c78b&quot;,&quot;2e542f31-2967-4da9-b6fb-a04315710b43&quot;,&quot;96195385-e5e1-4bae-bdec-7d5f408112e7&quot;,&quot;7da2cdda-4a09-4eae-8491-e61be6bc25dc&quot;,&quot;10203afe-e887-479b-88c4-e2a8f19e1538&quot;,&quot;9256b374-c45f-47a4-bd9e-1ddc7305fc20&quot;,&quot;7b09d41a-f8ae-4271-ba6f-b07f70faae8b&quot;,&quot;cd7250a9-3141-4295-a1bf-e8a75e8478ca&quot;,&quot;66c76e2b-24b1-4812-8023-9b1ca37b29a2&quot;,&quot;81b08b2c-089e-4f02-8491-7484a58fa788&quot;,&quot;2aada0a7-74c9-4c5d-bc14-3a7dcbcf545f&quot;,&quot;b58018a1-38ad-4015-b7ac-bd699aef37c3&quot;,&quot;1f0f82cd-8ecf-40a7-9987-306cfa2d5626&quot;,&quot;d90adc80-d67c-4f29-8ec1-aa130d3a59b4&quot;,&quot;b33096e5-b63e-4046-bf37-66b4e6041d87&quot;,&quot;ec0cffc3-0f2c-4d04-b047-3357617a9732&quot;,&quot;c7bd3f66-5d27-4fcb-aa6e-d02c66c054db&quot;,&quot;0ec82093-aba0-4121-a986-dfc2e0ddb415&quot;,&quot;6405bd02-d544-43cf-b85a-8bca8b8c03d8&quot;,&quot;dc176d4f-c687-4bfc-916c-6ef98b950261&quot;,&quot;16705dc0-84a1-48fd-b666-d84ea79cd1c7&quot;,&quot;321e33ea-5775-4700-a3a5-ca33b6ce3908&quot;,&quot;2b228183-cc44-46b0-9c1b-80d388d3a66a&quot;,&quot;90c855cb-ac33-4c0d-aa37-e840392fb17b&quot;,&quot;a1d2ccd7-1808-4262-b42e-921cde43e28e&quot;,&quot;0980b2f0-45c1-401f-9fd6-1fc21c70224f&quot;,&quot;271e44ca-1665-4dc7-929b-9ae02489e6cb&quot;,&quot;a972d764-da22-4abd-a6e3-c050c73892c2&quot;,&quot;079bc3e4-2baf-403e-98d5-4e1a6e9e3b35&quot;,&quot;57acc447-065b-489a-9d42-d2b3a2d52fa8&quot;,&quot;4a5dc7c6-b2d3-4d2b-8d61-4838a27dd4d6&quot;,&quot;843de2f8-f30d-4231-ad7e-39aeec368353&quot;,&quot;eae12c73-0cfd-4700-b958-dfdba813d4a5&quot;,&quot;3ec1cb18-382f-4a79-a908-3482f88ce040&quot;,&quot;7409f7ad-1588-4c81-a62d-7e299658f217&quot;,&quot;51d687b4-bfa6-44d1-9d8a-7840ec31e3bc&quot;,&quot;6fd1259d-6065-40c2-b9f1-f2ca7676ff06&quot;,&quot;b58897f4-6004-4f3f-8ef3-e83d119b4a38&quot;,&quot;6db73a96-d74c-4df6-9ce7-9c4c6baadf6b&quot;,&quot;f90e75ee-52b4-4309-be6a-05d89c1aa73f&quot;,&quot;a5a52f84-b932-41ea-9a72-7c27e8ea0e33&quot;,&quot;5a6792fd-b9f0-4d1e-8791-c9ecb7096f83&quot;,&quot;da06a8d5-2ae3-4b4f-850e-5f452e2b68d2&quot;,&quot;80951a81-4838-43dc-8315-e9f6be683c75&quot;,&quot;298ab27f-6bd9-45cf-9305-b8edc2f5ce03&quot;,&quot;7899f49c-b9ed-4a81-b25c-bd2218a8713f&quot;,&quot;430df4d7-0431-48fb-ba8f-2b55b53e8aed&quot;,&quot;82834ee9-5499-4b63-800d-6d25a442d57f&quot;,&quot;75ac3093-3d25-4c1b-9974-7b5021c0f573&quot;,&quot;b7b7c253-6f4d-4341-bd95-c1ce844403a3&quot;,&quot;a5d8fafc-31c1-4926-95fc-dca402524c6f&quot;,&quot;5e45cc3b-a8ea-4787-a837-963204162f23&quot;,&quot;8f76d6bc-2652-45eb-a7d1-afca37aee884&quot;,&quot;57b7d0bb-05a7-4ee6-ac59-a73b0c7cf094&quot;,&quot;6b277ec7-6c24-4d14-b8b9-cb8c74955b11&quot;,&quot;c5b3db93-deb8-48d4-b061-700a8b2d391a&quot;,&quot;e6ba15df-df6a-4826-9765-3bb7e3c78f77&quot;,&quot;44984ef9-119d-4371-8133-abc3a88e41b9&quot;,&quot;c4deb14c-ee3e-4e1e-93f4-059289213c20&quot;,&quot;9665921d-d04e-47ac-939c-51b9656c48da&quot;,&quot;e8ba7514-4647-41ac-8f59-af3e73b423c3&quot;,&quot;a944621f-bcd5-4229-90cf-086108069289&quot;,&quot;522e0a8c-365a-41a0-b5df-a4fde62f4ce5&quot;,&quot;d6753b71-8d09-48a8-a8a7-91abeeeea04a&quot;,&quot;7ddb1ae1-ed0b-4594-bfe7-e6b12cc5523e&quot;,&quot;81aff5a1-cb19-4d8d-bc29-a6ca97cf1ad1&quot;,&quot;fc87bd3b-c15e-4a36-8dbe-c46bf37da8a1&quot;,&quot;38fbaaea-420f-430e-adef-9753301f9bb2&quot;,&quot;d2615471-3393-4368-b201-e8697c1c5347&quot;,&quot;9e65a7c3-3007-4f1e-b7e5-5dbbccd72519&quot;,&quot;d400ed0a-e8d7-4234-b6cd-058e0984152b&quot;,&quot;4e58b4fc-8540-4d42-9af9-4eae6bc227e8&quot;,&quot;0f4423c6-8d24-4e52-8444-1c57da8f7d79&quot;,&quot;7ab86127-77a5-4adc-a6a0-5bc0e207fc03&quot;,&quot;61cc1605-71eb-4f3d-b149-0687838eb987&quot;,&quot;be49a5f7-3652-4b8c-9b6f-4bb7fbb3cf24&quot;,&quot;cfa8498a-6cb2-4d1c-bbb9-fa45a647c5f3&quot;,&quot;fd265e47-76ff-4a18-966a-ffc04db0c190&quot;,&quot;2ab3fe72-3f5d-4fc4-a49a-b0797185a790&quot;,&quot;4191111e-fe64-4bc1-9012-dda7b757582a&quot;,&quot;ea65bdab-c49f-4e94-b8cf-66f9245c0270&quot;,&quot;a5cc1d0f-e8d4-4f5f-b2b3-0b5beecd592d&quot;,&quot;9f2844dc-0f70-4ca4-9db3-4cd97dffdd78&quot;,&quot;b4ddf49b-10ae-4eae-81ea-68e47d8c4054&quot;,&quot;20603182-375b-4819-8205-721abb0b336e&quot;,&quot;af781dbc-36cd-42dc-a1bb-999ffb8d2044&quot;,&quot;ccea40ef-e9e7-477f-9e64-41cab62760b4&quot;,&quot;b1a9a293-a667-4cb0-b837-05d9ec3f69c4&quot;,&quot;2aa224a3-3b51-49f5-bcea-ef23b57cab4d&quot;,&quot;fb62b52d-aac5-421f-b5ad-124b46a3cf78&quot;,&quot;6ded6b3f-8bdd-4204-8bbd-31b3b5b60ec5&quot;,&quot;4630f242-908e-4e0f-aaea-1700f4ed945f&quot;,&quot;e706385c-6c56-45c8-86ac-25232a770408&quot;,&quot;682146d7-c205-4cd1-84b2-e2899c7146ce&quot;,&quot;2bf950e8-43fa-45d0-a82a-f32f4b4f5438&quot;,&quot;c3a71d63-54c1-4aeb-9a62-44e692117ca4&quot;,&quot;16040606-1c66-437d-9212-6434dd03192c&quot;,&quot;bcde843a-14b5-468a-b9cd-0a4efff99f88&quot;,&quot;437bdf41-d75f-482c-a1b4-690f8ab92634&quot;,&quot;96b98daa-0eca-400d-9785-841c6687946b&quot;,&quot;cf88c838-6e8b-4734-aa31-de53acfbd91c&quot;,&quot;f560c14c-f09b-495e-aec5-d49a1e4e23c5&quot;,&quot;56664c05-10dc-423a-ae9d-eabd356d872c&quot;,&quot;0a548c46-9ee8-4fbb-9e0f-106f3bec5b3a&quot;,&quot;5c170854-9a29-4649-9247-efbd0ace0036&quot;,&quot;f82a211e-de89-4281-8536-3060eda2f6c4&quot;,&quot;c5887ec4-9e9a-4f98-ac6e-f677ec8b35ea&quot;,&quot;cd560a2a-b20f-4030-b3a5-2af5ba6c115f&quot;,&quot;76fc116b-2219-4e29-a770-736506b96ed4&quot;,&quot;dc1d1a27-dee6-47a4-a6a8-e4a103d4db90&quot;,&quot;1f455457-3aa9-4f3a-9b9a-1e04f2b90db1&quot;,&quot;3fee6bee-1861-4280-bea9-d7b6ce8f2b6c&quot;,&quot;e80e04f9-d542-4d77-ab3b-1461e8dcbf41&quot;,&quot;2a2d6bb2-ce0c-4f42-a002-08d5df6a6a83&quot;,&quot;1ef4fc69-9fe5-479c-8331-f1fe1386a5d1&quot;,&quot;6a07fb7d-9615-4e4c-b02f-0c669705b758&quot;,&quot;471076c8-8874-46ec-a258-4e35593208cc&quot;,&quot;57772ed5-e14f-4fbf-a9d4-36b414730247&quot;,&quot;0f3149d6-e59e-42da-9d84-1ef95615bea5&quot;,&quot;4a4a2e9e-6fb5-4504-b33a-2077bf7172ef&quot;,&quot;4d72fdbc-0bdf-4809-aadf-cfd4c5015a36&quot;,&quot;1421f60e-1f4f-4c40-8b3c-02965b5d9971&quot;,&quot;243db3d9-5fb8-4896-a8a8-dc295fcc038c&quot;,&quot;579f9ccd-e671-408e-91cc-99fd0e35ac5e&quot;,&quot;75943519-535e-4206-b9f0-57bb913139f1&quot;,&quot;5204a737-172c-4616-bbaa-fffa3cb74bc7&quot;,&quot;4fb9773c-7a47-4b7b-9b51-139a7f07d2b8&quot;],&quot;failures&quot;:[&quot;15c2ae52-a3b5-4ab2-96df-14f50046f7dd&quot;,&quot;d12d2729-2e26-4f7a-87f1-dba6073befd8&quot;,&quot;f945bd73-4aee-4114-800b-5378ed8f23ee&quot;,&quot;1a4a0681-ce79-4a8c-aca3-3c7fdc288a8e&quot;,&quot;5e9f49bd-330e-4a8c-a026-1cdbea322f49&quot;,&quot;15553a6c-3908-4082-806d-6bd56ba96e71&quot;,&quot;ca0535d2-5f21-45fa-b053-61521c086c70&quot;,&quot;f2cddf18-8270-44ca-8655-a3429fafb5b5&quot;,&quot;c719f7a1-7591-4a3d-9ddd-791dc947fde4&quot;,&quot;9505d7c5-c646-45aa-b13f-87fcab1bbc26&quot;,&quot;25b4f310-cc1a-4ea7-b941-df6b362f3bc3&quot;,&quot;3a5fe484-0e3e-4a18-8a28-088ea0f42175&quot;,&quot;3014ea4a-bf96-48ac-ae64-877028044e45&quot;,&quot;30ce5274-4285-432a-90e5-48627b6574b7&quot;,&quot;3abd0a44-78c1-4e2f-ba83-a3289926dc2b&quot;,&quot;62704e6f-0d2f-41e9-a063-2616bb203c8a&quot;,&quot;b2f4338c-d714-4733-a54b-18570e7cc07b&quot;,&quot;02ab1bfe-4aa8-4a84-8c9d-25c03a680e4a&quot;,&quot;d048925f-c7e5-4567-a453-9e3ee1cde410&quot;,&quot;50828180-1eea-4e0d-960c-6b255eb90742&quot;,&quot;b8a1d260-5c38-430b-9632-94627c23c06d&quot;,&quot;d3a93122-3981-4ab8-a3cc-6d65aed9fe3a&quot;,&quot;cb773f1d-fb64-4c87-a3b7-dd6bd975ceaf&quot;,&quot;c70d784f-faa8-469b-8a16-f39a6d998350&quot;,&quot;78143046-8a18-4cff-a3c9-d9187c681a42&quot;,&quot;4bab8139-bc18-4ec0-b600-08c9fb865965&quot;,&quot;82d86136-c1ae-4e34-8a8d-524c936cdbdf&quot;,&quot;28b91049-f0c0-45d0-9812-28a6af923cbc&quot;,&quot;353195db-afe9-412d-9541-10fe924f0a78&quot;,&quot;ac0caf7b-1b79-4fb1-9b61-af78d05920f5&quot;,&quot;32e856d8-cdfa-4eeb-9961-6b17784ceb43&quot;,&quot;07d1cb76-c24a-4af6-bf54-a4510d5f1f4f&quot;,&quot;eb0e6bd1-d613-45e6-8856-ac5c38f2f5c0&quot;,&quot;14262fec-ad39-472d-a1d1-2a250323a795&quot;,&quot;b0f1547a-a0f2-42c9-8a25-4790369311a7&quot;,&quot;92fc72f1-063c-4505-a79c-a13600036008&quot;,&quot;9f573c93-3f99-48de-a3c7-d3f62f8a14d9&quot;,&quot;5a4f5d1f-82ca-47c4-bdf9-ab6c164464e3&quot;,&quot;0448afd0-de48-463b-90d4-1b784a513270&quot;,&quot;515edb63-260f-451b-9386-cd6763301d53&quot;,&quot;e957ddf5-1e58-4bfd-944e-d10000b52fad&quot;,&quot;055517fc-7851-4766-ada5-64c772cfa8e9&quot;,&quot;8f943e1b-d9cf-4614-b8d9-06b139b4cf64&quot;,&quot;4c53c607-b1ab-4324-a208-20c0bf812bb4&quot;,&quot;93ca313c-e6cd-45bc-a306-73c56d365d10&quot;,&quot;faefdf29-ad6f-4167-9026-545b40214cde&quot;,&quot;e1abcc93-d07b-461e-ae79-e458662fcc64&quot;,&quot;aeccda13-498d-4ec6-b323-064b9aea0b68&quot;,&quot;a97f442c-a3d4-483f-92f4-4a21e32fef22&quot;,&quot;b54dc153-e5f4-4aa1-aaf5-374a6ccd4d3d&quot;,&quot;78a80757-5fc8-4af1-84fa-953db6e07b82&quot;,&quot;cca1b298-0b2f-4f20-a7c5-172a98c15d1d&quot;,&quot;445de76e-5e17-4632-a9f7-5ae10796247c&quot;,&quot;087f61e0-4216-40e1-a8c3-c94ec298951b&quot;,&quot;246db998-e058-4c22-839f-7bbe1e6f4e69&quot;,&quot;f5851281-335a-4e74-a295-40daea47d0a9&quot;,&quot;1d923f3d-fa22-4a7b-b607-fc86edbbff3c&quot;,&quot;daa9710e-4778-423a-8fa3-dfbbc043ff68&quot;,&quot;c3c8b805-d0eb-4730-86bd-52ff52c45d22&quot;,&quot;21ac5774-d9ec-4fa1-9cc9-b91a4df9fc04&quot;,&quot;710d050a-e0b2-4a90-ba3b-1370ae0c7ec1&quot;,&quot;c15b6278-890a-470a-be42-8f2c6f128979&quot;,&quot;1f729ede-0887-471f-b3cb-6526a0a89cb4&quot;,&quot;90ce5411-29f4-443b-afc4-b1ed00a25558&quot;,&quot;78704f27-ab61-4c2a-968b-bdddd9230989&quot;,&quot;0461306c-9812-47c4-a8ff-2772c5a30119&quot;,&quot;d860a7a1-c0f6-49ca-8918-fbcaaba5f157&quot;,&quot;8b05e455-3606-4180-8228-470d8e2b11e5&quot;,&quot;be2a5211-5396-427f-a285-0d1af051948b&quot;,&quot;ec7274ae-d3ea-4377-ab9f-d45e6b20e35d&quot;,&quot;db43de9c-4e80-4fdf-9ce4-15aa1ef64057&quot;,&quot;54d075fa-ca9e-4ebc-81e0-f2ead9bbbdaf&quot;,&quot;069ab6a0-e647-4cdf-b315-f54a0183d62e&quot;,&quot;a86b93ce-ac58-4ff6-8e00-0642060baf8b&quot;,&quot;085d42f6-97cb-44c4-8f9b-6fbadc8642c8&quot;,&quot;75214c82-1fe0-41fa-b19d-5111bbc24908&quot;,&quot;c4274b3a-d387-4b94-99d9-dbdce09261b0&quot;,&quot;1ee1ed11-7b74-4cac-9eb9-88fea45221ad&quot;,&quot;f93d5cc8-5776-4473-99f6-c42913f58253&quot;,&quot;d50a9ea7-b111-46ee-9aa4-67cd709fcab1&quot;,&quot;3e57dbfa-3fa4-4c73-ba98-9f706b656f0c&quot;,&quot;6fd57bdc-7ad1-40fd-bc43-a9ff7f580b47&quot;,&quot;65700948-2c45-4842-a184-02a32ad399e5&quot;,&quot;508a3d81-ecca-4ea6-8d3c-f2b7c2867840&quot;,&quot;72a2af1b-fba7-46e7-a811-7f1db26c4170&quot;,&quot;5208d4c1-812c-4802-b9d3-3b84e42dbb54&quot;,&quot;f5efa731-7c46-4009-b68a-f24191837b52&quot;,&quot;d0417e50-8d21-4a77-9567-2b19e70d76fc&quot;,&quot;ed89c347-bab8-4e02-9cc7-e3da85c1215c&quot;,&quot;627fe3c4-0a94-40ba-9c2e-08f8f5732b81&quot;,&quot;dd5bfcb3-421e-4648-a41e-3b51757c2905&quot;,&quot;92e677a3-79ea-4515-93ef-1738461dd8a3&quot;,&quot;5c4f4ae8-b825-4931-9d7a-930b6aa050f5&quot;,&quot;5466ad67-15dc-4ec5-b1ee-5dc2563b7716&quot;,&quot;c6d82216-e870-4c24-981e-d60b6cae545c&quot;,&quot;fadbc368-806d-418b-b052-5575a0cfdb03&quot;,&quot;b43fb82d-ef90-4e42-8b34-0858780be026&quot;,&quot;5cc3164a-61e6-46b3-8cfe-8961d1f4bac6&quot;,&quot;fa104e52-a030-4ccd-9f61-ca940acbcc5b&quot;,&quot;1a47ca15-afb0-4a21-ad33-09c8db2f113f&quot;,&quot;e8e65fe4-370d-4834-b664-050e54eb7055&quot;,&quot;06fe338b-4ed5-49e7-8671-9a17bdcd4b12&quot;,&quot;2e0e4d20-2f7b-46e0-be39-a85c7067eede&quot;,&quot;7890e51c-672f-4bbf-bc8e-dce691b12082&quot;,&quot;a40e5f57-1db6-4343-a7fb-19e529f17d8b&quot;,&quot;edfdc404-f8cc-48f7-a94c-4b37c39929d4&quot;,&quot;3681c96b-c957-47a1-9e49-93d99c628e39&quot;,&quot;f3538c94-77e4-491c-aac5-cbcde6bc4eaf&quot;,&quot;209c2544-363f-4c9e-8065-2aa3ad158416&quot;,&quot;921abe55-1c56-4c6b-807e-5fa15fad248f&quot;,&quot;f9411508-cddd-4df8-bc4c-607c2b75c0bd&quot;,&quot;583e3f66-bdee-495e-9b67-3b73f498823d&quot;,&quot;86c050ce-bf1f-47a0-94d1-7186a6a95de5&quot;,&quot;528b63b1-1ef4-4a30-b903-cd540d0d2373&quot;,&quot;d9b96dc0-bb68-42ce-b5f8-c24d24241a7e&quot;,&quot;b9f98dd8-8f28-426b-a3ee-faaeac0135fe&quot;,&quot;5f82a49e-4c7d-40a8-a197-48cb23a53a85&quot;,&quot;7455b839-2721-4048-a2c7-dca0ea4440c8&quot;,&quot;814089ae-995f-4a51-bb79-4edb78874f4a&quot;,&quot;9db33272-4ad0-4c00-8ff5-8fea8338f5c2&quot;,&quot;10a86027-8234-4a3c-8748-9cf0b0f4d40f&quot;,&quot;38a9bdea-6ee5-466a-8a24-37df731b0649&quot;,&quot;c7cb0a59-c726-4786-b312-ff68b4bb9de0&quot;,&quot;bd48bca3-aea8-46f8-af8f-e547eb2f72f0&quot;,&quot;4c634ee3-a373-476b-8c69-59c553b19b88&quot;,&quot;43afc9fc-c61a-4c32-8613-e049d4209e6e&quot;,&quot;9344c592-7a5c-49da-a7dc-ecca144f4145&quot;,&quot;d694d1ac-53bf-4a68-8334-894080e3bc41&quot;,&quot;0b6753a0-dfe9-41fd-9778-d7605d228146&quot;,&quot;a4ea62c4-c173-4276-92d2-3017d6a05436&quot;,&quot;d5146358-30fe-4fdc-9248-850cb6973bdb&quot;,&quot;e6db77d4-03e8-42f3-873e-af7696ee6219&quot;,&quot;89301924-3575-4af3-a927-e941c4ca5692&quot;,&quot;70c457b8-19d5-4f12-8e70-76bf619774f3&quot;,&quot;eb62ad5d-a113-4c25-8f9a-d8194b98fcc5&quot;,&quot;b93723f8-c277-420e-93fc-93eb5eb8c987&quot;,&quot;5821972f-4ef2-4f1d-9ae8-af9f565bbc34&quot;,&quot;15fbd0ea-9087-4a74-af7c-140b9bd61969&quot;,&quot;c3ba58e4-0e98-46a3-9e93-30da48d0a56d&quot;,&quot;e465227a-e760-4148-be9c-1ae63c22aef6&quot;,&quot;6e650ab4-a081-47eb-998a-e9fdaa618f66&quot;,&quot;13ab474f-f143-4d39-a1db-e36f04263e0c&quot;,&quot;2ee59cab-b209-4a5a-93a0-14184531ebc0&quot;,&quot;b9e2894a-d9f7-461a-b65e-e74e6972e8f4&quot;,&quot;416f953b-07ba-41ed-ba00-a4e8f1703a96&quot;,&quot;6f3ed22d-ac1a-46b0-a245-6f1076e7ffae&quot;,&quot;96dc8bf6-3963-4edd-9887-92c2cb119bdd&quot;,&quot;1ddc73d6-f50b-4829-8219-8f947f428924&quot;,&quot;11258145-83df-40e4-93ee-c3cd715133e3&quot;,&quot;7fc102fb-b09c-4038-bb22-9fc2363927c3&quot;,&quot;06577176-d729-4a63-9002-3f8e050cbcd3&quot;,&quot;3bd57989-27c4-45ee-b4d4-f54e2d135087&quot;,&quot;87c6d90d-dd4e-4443-90e8-1bc481bcefeb&quot;,&quot;b6a4b1b2-f60f-4744-9e1d-6dd5c77760c8&quot;,&quot;83c21701-ece1-44cb-b2d4-79e11b774b74&quot;,&quot;30ede176-cb6c-44d7-8251-bc3b130161cf&quot;,&quot;977cf322-0219-4c16-9c95-13ec1276f3a5&quot;,&quot;c44e14d3-a338-4952-9e8a-05374c3f6793&quot;,&quot;ab4742cd-1502-427f-8a64-3f605dacf652&quot;,&quot;350a8c9b-4d65-4e19-807b-007b5efa85f3&quot;,&quot;50bed98e-5fcb-44e1-a888-43f9f80457b5&quot;,&quot;3498a9a0-b163-4fd8-a369-a6cbbe70142b&quot;,&quot;90af4dd6-9046-4227-9e58-00ed4b5409ef&quot;,&quot;a2540145-0609-4fa9-9905-87d2dffa0747&quot;,&quot;b2239fc9-7fbf-4426-a931-256a9e64bef0&quot;,&quot;de35dbf8-01cf-4eef-993f-20b43e25653b&quot;,&quot;09cc655d-d553-40cb-93ce-045fc1553a74&quot;,&quot;24b6ff68-2961-4fbd-897d-b28082198a76&quot;,&quot;62e2006b-3c6a-4c49-b34b-29cbc2dbb3b0&quot;,&quot;ebb66813-58aa-4fb3-948a-a4e9ffae4597&quot;,&quot;dab11190-8cc4-41c9-a2db-fbc33fdad548&quot;,&quot;30e97ea5-1aea-4a44-8506-eb7695747cee&quot;,&quot;493cca8d-096b-42ef-9e95-eb0c483fbb9d&quot;,&quot;03ac2c69-b663-416b-8ccc-48ae2fdf147f&quot;,&quot;69eede34-430a-419f-8dba-6149541ad46e&quot;,&quot;024a1fc3-39f3-42cc-bec2-ef244435db41&quot;,&quot;89e5b140-fe24-4463-befa-261bf7af28ad&quot;,&quot;62e5c9f5-1cf3-44cb-a178-cdf4673718e0&quot;,&quot;9bb6d4e2-d6e1-41cb-b85e-575ca2a30767&quot;,&quot;7a614094-1fdb-4091-957b-6d7ad67b8561&quot;,&quot;66a275d0-07a8-4a8b-9062-c44c8e621678&quot;,&quot;a30dc0e4-f98b-4c40-ba7f-462c651ff355&quot;,&quot;8652884b-9d67-4439-a0a9-0ddfcc33afee&quot;,&quot;69c34ea9-f2e7-4e7f-9702-111014ca6fd6&quot;,&quot;2bc0351c-3f26-4b7f-b945-1bcf9ae9d56b&quot;,&quot;e7c350ca-a559-4583-80e6-87e76f8fcd6a&quot;,&quot;98310b81-acbb-443b-9d63-96b10d6ef0a2&quot;,&quot;f86e758e-3a86-4751-b90f-7e520ff1b372&quot;,&quot;92262d7c-acc4-4bc1-b231-d1c1a06dc9d8&quot;,&quot;dcbba793-d1f5-476a-91e1-626a9e789ab2&quot;,&quot;6649bcff-3370-404d-b57d-8ba792a0290e&quot;,&quot;54c8eedc-3522-4874-9332-8536b16d1009&quot;,&quot;93982770-c629-4524-a17f-f6b0cc9ac28c&quot;,&quot;55288fce-190f-42c5-8dce-8dcb2198bb34&quot;,&quot;af2d389a-0e6d-41c2-b37e-06ec16386d77&quot;,&quot;8020f645-3c85-4705-9c80-7d613403bcf9&quot;,&quot;571e010e-78a0-4353-8853-64dbb2babe9e&quot;,&quot;616d5224-dbf8-4821-ac23-184ae935f088&quot;,&quot;0c357b3e-4fee-4918-888c-08f95d560070&quot;,&quot;281f2d96-a1aa-41a4-9a83-02e49bdf852c&quot;,&quot;5467562e-6432-483e-a42c-04466ee51bc3&quot;,&quot;2ad932ab-48c8-48cb-ac09-2e38e9f46d31&quot;,&quot;80f3bde3-b64e-4624-a99b-2c43aed85c22&quot;,&quot;ddc21153-a6a4-4fd6-9844-1d4ffedd3695&quot;,&quot;95ea3d18-a3d1-4f48-9e74-92db8fc28979&quot;,&quot;d01e93b2-1456-463b-8630-9ea374b12745&quot;,&quot;1d364a76-3288-4a21-a34d-1fb70edf1ef7&quot;,&quot;4c4b7d26-2a54-4b63-98e1-7e22e12bc758&quot;,&quot;1db0f7ff-1391-47d1-994c-4722711a0621&quot;,&quot;4e1acb1c-b968-48bf-ba12-b49902733d5f&quot;,&quot;10300c0e-2b41-4a8a-9600-c55425f06109&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6150815,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;906d00a7-0278-49e7-ab35-03862dda426f&quot;,&quot;title&quot;:&quot;sample test&quot;,&quot;fullFile&quot;:&quot;/usr/src/app/test/puppeteer-mocha-basic.js&quot;,&quot;file&quot;:&quot;/test/puppeteer-mocha-basic.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;helloworld&quot;,&quot;fullTitle&quot;:&quot;sample test helloworld&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:191,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\npage = await browser.newPage();\n// await page.goto(&#x27;http://192.168.10.180:5500&#x27;);\n// const [p_target_user] = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\nawait page.close();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eeeca712-b540-4aa4-a1a9-ec0930beff32&quot;,&quot;parentUUID&quot;:&quot;906d00a7-0278-49e7-ab35-03862dda426f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;eeeca712-b540-4aa4-a1a9-ec0930beff32&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:191,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.2.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;output&quot;:&quot;report.html&quot;},&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;app&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/usr/src/app/mochawesome-report/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/usr/src/app/mochawesome-report/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>