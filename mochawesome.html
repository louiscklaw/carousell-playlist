<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:2,&quot;tests&quot;:480,&quot;passes&quot;:354,&quot;pending&quot;:0,&quot;failures&quot;:126,&quot;start&quot;:&quot;2023-01-10T21:28:39.610Z&quot;,&quot;end&quot;:&quot;2023-01-10T23:02:01.132Z&quot;,&quot;duration&quot;:5601522,&quot;testsRegistered&quot;:480,&quot;passPercent&quot;:73.75,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;ae69e317-7116-4369-8c07-8c9d0e400b52&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;title&quot;:&quot;click test&quot;,&quot;fullFile&quot;:&quot;/usr/src/app/test/click-test.js&quot;,&quot;file&quot;:&quot;/test/click-test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;helloworld javascript -&gt; keung_2022 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; keung_2022 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9115,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;72aff6c1-5072-44f9-a437-661303efbc42&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; keung_2022 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; keung_2022 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7942,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;856375af-95ca-4d22-8a07-88b086d33448&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; keung_2022 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; keung_2022 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7751,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b1c97578-8451-4573-99c1-3d47348c03b0&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; keung_2022 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; keung_2022 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9480,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2d2a0cfb-90e8-4b78-aca9-fe139e4dff41&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; keung_2022 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; keung_2022 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11239,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;042d57bc-2d79-4454-9543-2c8665d99825&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; keung_2022 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; keung_2022 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8121,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;87ef2e27-e9d8-4127-8156-83fcf6f23383&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; keung_2022 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; keung_2022 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8163,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ca32da8d-aad9-41e1-b93c-da4beeef824d&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; keung_2022 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; keung_2022 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8590,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ff9eb146-c030-460a-bc85-74e7c29d6677&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; keung_2022 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; keung_2022 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7616,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cf7f8f41-2b58-48b3-885f-939a1611945c&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; keung_2022 -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; keung_2022 -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8353,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dfbc5713-f8a4-4174-93d4-1ae88737da0c&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; keung_2022 -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; keung_2022 -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7969,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;da0f51cc-40a5-45b7-9933-e541d50d99b0&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; keung_2022 -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; keung_2022 -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8061,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bfe2841d-d955-4ffa-baa3-f335e681de4d&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7881,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;da8841d4-673d-4344-9deb-61dda57bf91e&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8423,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5ec0a738-2424-4925-8275-779a845af8cb&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8041,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e336cc56-1620-4812-ac22-f82d39f60f3e&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7996,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2dad66e4-9542-4927-a0f5-407bd7a9058a&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7923,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e2a07603-9b64-4889-a195-d9cafe4215ee&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8581,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c1ed5e31-ad74-4c4a-bff5-4be304751a02&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7654,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e402a6b2-1b74-4389-be17-7174b941d6bf&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8147,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;63d12812-351c-4556-a317-1b036050a5da&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8614,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b2fe530a-2cb2-4c14-8c6a-9a61f6d967e5&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8068,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b55c4f70-5797-44dd-bbe1-81a9be5f3543&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8120,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd0b453a-c6b5-4387-8024-ac4d324f4716&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8650,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1175ec04-8af4-4195-b707-34a28e9e525e&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7831,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8d7e6e08-4453-407e-90ef-0c339d9b36ae&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7780,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eefb57c9-87d5-40bd-bf12-8d6b6f9cc92d&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 14&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 14&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8080,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;76b3f0d3-b60e-4197-ba41-4b275d54c27e&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 15&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 15&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8085,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8c4e3e6c-fea2-475e-81f1-bf8420426bfb&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; kylema11201 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; kylema11201 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8080,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0e543ba9-2978-4d1d-9d9e-75ce002517ee&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; kylema11201 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; kylema11201 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8538,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5db3b1dd-92ed-4577-ace8-c762d53dec34&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; kylema11201 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; kylema11201 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8027,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9aa369ac-9bf1-4251-b193-12016a891b29&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; kylema11201 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; kylema11201 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7947,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;830aa9f3-34c5-43dc-9e73-04da5e7bc70c&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; kylema11201 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; kylema11201 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8107,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9e94d0be-ce23-4375-9003-aba7cbf3c34f&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; kylema11201 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; kylema11201 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8337,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6cc19270-77b9-43d5-ba81-637f51fa0390&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; kylema11201 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; kylema11201 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7595,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;85ca43d5-0417-4766-b6d0-c9bf041d645a&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; kylema11201 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; kylema11201 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7824,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;69d93be1-3c67-4365-8121-1b6044a973e3&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; kylema11201 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; kylema11201 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7822,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e97586f1-ffc6-49ff-9658-6ea9008d1e2e&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; kylema11201 -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; kylema11201 -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8069,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;afa8f610-d6e7-4645-8074-6c2c9a5be937&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; easy_assignment_hk -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; easy_assignment_hk -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8141,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;11c8ba91-0e50-4f68-ba37-3c894d20ed2a&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; easy_assignment_hk -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; easy_assignment_hk -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8044,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7358530e-73fc-448c-9ce9-bc09ddd2cbb6&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; easy_assignment_hk -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; easy_assignment_hk -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8226,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;de411806-4893-41bd-ad5f-22e0e755290f&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; easy_assignment_hk -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; easy_assignment_hk -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7818,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7ce94a2b-7d14-4a64-8a45-27a24b487fa1&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; easy_assignment_hk -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; easy_assignment_hk -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7818,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;94b202dc-e80e-47a6-a9ce-4713e94db39f&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; easy_assignment_hk -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; easy_assignment_hk -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8052,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b51a97a3-be46-4265-ad05-20cbdcdcb7b9&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; easy_assignment_hk -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; easy_assignment_hk -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8268,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0ae8fdbd-6d6b-48b6-99cf-83558ea7f07d&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; easy_assignment_hk -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; easy_assignment_hk -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8241,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c3476ae8-2c71-4c2a-a695-61aaf56a0a07&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; easy_assignment_hk -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; easy_assignment_hk -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8245,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b42c017f-2119-4348-bdbd-4949d19a42e5&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; easy_assignment_hk -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; easy_assignment_hk -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8076,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;97a5ef2c-83a4-4cfc-b25d-f842404b2705&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; easy_assignment_hk -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; easy_assignment_hk -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8005,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b5509c47-bbf3-4384-bc5b-435831749a54&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; easy_assignment_hk -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; easy_assignment_hk -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8253,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;055ea68b-09c3-4850-822b-7cabf02e1b5e&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; easy_assignment_hk -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; easy_assignment_hk -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7770,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3ea1eca9-8471-4e7e-9876-b578c3f5373e&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; easy_assignment_hk -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; easy_assignment_hk -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8373,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f1db16fe-c38b-4268-97d6-8a96f3f11dac&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8843,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;137c76b0-2c96-4142-9895-17093ec6e8c1&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8233,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7b0ae909-ee4a-495b-bce8-280703579087&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8019,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f7bbaf6f-7544-4184-b0f7-a51068e49f3b&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7991,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1f5a6893-841a-49bc-9471-c9f72caccc97&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7472,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dd374613-fc4d-4784-af46-e9386fed57fc&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8445,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3a02c75a-565b-49f6-841a-97878328a669&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8628,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7da9a9f5-db3c-4330-8a76-8d1786fde305&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8295,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e28a0bc-e81f-4382-9d89-3277dac93cd0&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8151,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e440121-b604-497e-8d5b-f1fd6d88e5d7&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8234,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2ae810c5-9b1d-4883-90b7-99e3972eef84&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8707,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;50f78bd0-2ff6-41ae-9c9f-e2745c597852&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8105,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2e355eb8-2cda-4492-bd16-57a38096902e&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7977,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0c57f784-04e7-446a-b8cb-b58e40fb5dcb&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7999,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;580e92aa-1b2f-43b1-ae59-50c8408c1ac1&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8026,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;45d9b7bf-753c-4f06-a7b5-7aa0b74eb1a4&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8091,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ad92688e-d6ea-4363-86b3-1f21e2ab289d&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7933,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2eb9b50f-b73a-4190-a3ae-ee939a3dc021&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7991,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4c9b3f8e-d2e7-4d40-a69e-70b20d4d109a&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11653,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4024d50d-d2b8-404c-ac4f-30179d690243&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8082,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f0c1122c-404d-4a45-8572-0619ef987b79&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8435,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;73d33368-a7de-4901-99a4-d91dfc4b9d9d&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8591,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fc387516-d04f-42d5-bf6a-8f133d0e0027&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7562,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;29de8c3e-c61f-4f67-9345-92d52f865779&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8293,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;09e467fc-0b6d-4b92-8d6f-340f3eb2f77b&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8086,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e37ba87f-8df7-42b5-aca6-306493d5668f&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8297,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3bbffe09-84bb-41a1-9bec-a5ffdf7e8f90&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7621,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;18f333b4-4718-43b5-bbc1-38f071215aed&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; shawnzhang1122 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; shawnzhang1122 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8181,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e02925da-9729-4b63-9c09-f9a976a39246&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; shawnzhang1122 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; shawnzhang1122 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8311,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2b030320-18a1-425f-819e-5cc2558abed5&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; shawnzhang1122 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; shawnzhang1122 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8066,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3a4cc912-dd2a-4db3-8588-b2a9f35c8138&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; shawnzhang1122 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; shawnzhang1122 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8200,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a3ced3a3-c268-4954-a8ba-01b64eb6f67c&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; shawnzhang1122 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; shawnzhang1122 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8356,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d3a86f24-0039-489b-ad8b-2a292ae2d005&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; shawnzhang1122 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; shawnzhang1122 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7887,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;be0d03d4-8141-4252-aadf-91053c578a12&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; shawnzhang1122 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; shawnzhang1122 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8417,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8aa9b418-b31a-45c8-a31c-bff069b373dd&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; shawnzhang1122 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; shawnzhang1122 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7737,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1c91fc8e-04ff-4b95-9312-f2e41f3fb3ca&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; shawnzhang1122 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; shawnzhang1122 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8081,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;69110359-acf2-4f9c-9d7f-ce9c954cd6f6&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; shawnzhang1122 -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; shawnzhang1122 -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12219,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f1140405-2081-409a-abed-9f3a5b294c38&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; shawnzhang1122 -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; shawnzhang1122 -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8429,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b96caaa4-b2ae-41cc-a5e2-be25ddba868d&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; shawnzhang1122 -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; shawnzhang1122 -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8112,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0fd09e34-b2db-4ce8-b1e3-8636063228e0&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; shawnzhang1122 -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; shawnzhang1122 -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8745,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;73f5a2d2-7c01-4c02-a30e-b3a53af8fdcf&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; shawnzhang1122 -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; shawnzhang1122 -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7969,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7c010b91-a779-474a-be6a-1861af631100&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; shawnzhang1122 -&gt; 14&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; shawnzhang1122 -&gt; 14&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8368,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aa5beb4a-1f03-4863-aade-a9cb9fe1cd15&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; davidzhih16390 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; davidzhih16390 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8103,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ea12074a-0063-46df-9433-18f4212bf3de&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; davidzhih16390 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; davidzhih16390 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8051,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cad0e530-c72b-4be9-8c3b-e96d12c15167&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; davidzhih16390 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; davidzhih16390 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7542,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;01032b94-efa1-4709-a785-8e97e3223e83&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; davidzhih16390 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; davidzhih16390 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8181,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8377af12-7a66-4dcf-a263-8d1645d7b53f&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; davidzhih16390 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; davidzhih16390 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7939,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;166922aa-845b-4888-bc03-0342be01ef66&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; davidzhih16390 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; davidzhih16390 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8018,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;58da6735-73bb-4a55-95db-a0ccf96b803f&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; davidzhih16390 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; davidzhih16390 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7914,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fcf00185-b30c-49f8-a23d-9ee867472fd2&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; stocksamuel -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; stocksamuel -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9096,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6dc81731-37ee-431f-ad91-2e650b2a0d6c&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; stocksamuel -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; stocksamuel -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8290,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8353787f-0bdd-45ca-b261-9a8930f1fdf5&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; stocksamuel -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; stocksamuel -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8443,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a4256028-4151-47c9-8b0b-499ee1c922d4&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; stocksamuel -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; stocksamuel -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8142,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a82185dc-f5da-40cb-94e0-6feabd727cd3&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; stocksamuel -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; stocksamuel -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7896,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e8f816c1-aaec-4aec-84ab-8733476cd0ad&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; stocksamuel -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; stocksamuel -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8185,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;16017c74-3c7c-4c14-829c-b4c9f68c4cf8&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; stocksamuel -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; stocksamuel -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8145,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2b94d8fd-d767-49a1-a8e2-a7ae3bc6ce07&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; stocksamuel -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; stocksamuel -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8482,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9c1c10bb-8ba5-46f7-ae12-08f7f99a24b8&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; stocksamuel -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; stocksamuel -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8173,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e0d5a3ea-a8de-4a36-b1a3-0b0badc7919a&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; stocksamuel -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; stocksamuel -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8165,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a1c0d390-9d41-4471-9a36-c153808429fb&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; abcdqwr -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; abcdqwr -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8154,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3e6ce290-29ff-4710-b133-92b8e883d5e3&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; abcdqwr -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; abcdqwr -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8243,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2e15d361-be4d-4ee0-952f-482392bdac14&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; abcdqwr -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; abcdqwr -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8108,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;578abb6e-fa7e-4507-9022-c89e29ffbe9e&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; abcdqwr -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; abcdqwr -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8232,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1e6425fd-3635-43ef-8c6d-9a2de76af760&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; abcdqwr -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; abcdqwr -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7737,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e57f330-6860-44ae-9102-271afef7af89&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; abcdqwr -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; abcdqwr -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8187,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a6f2d4cf-fde7-4d1d-b9f0-75403fa0ac3c&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; abcdqwr -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; abcdqwr -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8097,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f3a195d2-f6b7-4b82-8afc-3022b588d8ae&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; abcdqwr -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; abcdqwr -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7726,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;792cd9a3-2861-40d2-ba17-23af8631e6b3&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; abcdqwr -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; abcdqwr -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8226,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;90881e5d-d9de-4c7c-bc52-4cde48f2686a&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; abcdqwr -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; abcdqwr -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7774,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;69bd7a96-990f-4631-9a56-6eeeca07e891&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8195,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7d5dd4d2-c5c3-4bb6-91fd-0b6af5af740b&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8063,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7b54a29e-91e2-4f12-922a-3b77ffb1330a&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8218,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1b016c81-c02f-4e90-bbb8-67781ea9530d&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8426,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b5aef41d-0228-4503-af6c-563f1b3456f9&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8435,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ecebc62-cb76-4a29-9f80-229309f33095&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7770,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;75c5fec9-8ec6-4e08-aa8d-dd48f433619d&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; hopeubest -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; hopeubest -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7998,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f452599a-db51-46a3-9e3b-38600e89d8ee&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; hopeubest -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; hopeubest -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8061,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0933fad7-1df0-48bc-8551-57530d1bcfba&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; hopeubest -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; hopeubest -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8624,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8df78910-a7d4-47c3-8b9a-33e7712efa4a&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; hopeubest -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; hopeubest -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7573,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;41701ee4-a2d3-4da7-970b-a21134baaf1c&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; hopeubest -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; hopeubest -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7657,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;be1c2583-aa99-44e5-bc93-f5c50bb13954&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; hopeubest -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; hopeubest -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7755,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cbdc2073-9aba-4255-95d3-4d2852bdf2e2&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; hopeubest -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; hopeubest -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8077,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7109febc-9eec-4db9-ba22-9a47e2466ad9&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; hopeubest -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; hopeubest -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8126,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;479e637e-d8dc-422f-b603-6520b804bc56&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; hopeubest -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; hopeubest -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8500,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8e2718dc-8380-45bf-817d-fef9218d0d7f&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; hopeubest -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; hopeubest -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8058,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0359c707-bda6-40d5-a440-656fb77bb60a&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; keung_2022 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; keung_2022 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15327,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;4fb6eb36-09ca-4b87-82ed-337a076e7f4c&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; keung_2022 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; keung_2022 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14831,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;df411806-51b5-4fc4-bb3a-061c636c8d65&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; keung_2022 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; keung_2022 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15727,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;9da6a71e-1619-4168-85a6-45e0ed5bbb30&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; memegod420 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; memegod420 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10086,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9351e983-8e17-4ac4-b246-ac9d1191ee18&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; memegod420 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; memegod420 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9567,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1dd96997-31ce-470c-803e-f71679ea272d&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; memegod420 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; memegod420 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9789,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;332dc57d-5c63-47fb-aa0d-6f4c7af52cd9&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; memegod420 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; memegod420 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9235,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fba544d9-aaff-4aa4-8df1-ca643f703e50&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; memegod420 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; memegod420 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9682,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;71baddb7-c168-4195-8743-b228e3f16596&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; memegod420 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; memegod420 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10093,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7b9e5ff6-16ac-48af-ae3d-a53304099236&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; memegod420 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; memegod420 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9866,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b56b9aa2-ab60-4bf3-860c-7e2d812829ab&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; memegod420 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; memegod420 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9818,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;929a829e-02b0-49fe-97bd-6de43a806aa3&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; memegod420 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; memegod420 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8831,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eff05ead-987e-47e4-aee5-a79a1b6dd183&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; memegod420 -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; memegod420 -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9891,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e13d8fc9-d791-4848-9559-f5c07e613d3f&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; memegod420 -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; memegod420 -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9196,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;50cdbf27-56cf-4bc0-827e-481564cb3908&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; memegod420 -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; memegod420 -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10115,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;382b777f-94ab-4d7c-ae50-6b9899b0fde0&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; memegod420 -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; memegod420 -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8669,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;51b8958f-677b-4b19-a8f7-1ec53a861d50&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; memegod420 -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; memegod420 -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9967,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8c586f23-7a49-47be-9423-28508a2a997a&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; kylema11201 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; kylema11201 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23125,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;1e8ebf4f-3dd4-4fc4-a78f-898c0883e249&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; kylema11201 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; kylema11201 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23159,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;427a94a0-6c09-4a69-875e-f514bbcd2776&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; kylema11201 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; kylema11201 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23145,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;51d9d9d7-e699-4b9d-871f-952dcc4bf94e&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; kylema11201 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; kylema11201 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23015,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;6d518e6b-194c-4b82-aa31-c1c521068039&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; kylema11201 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; kylema11201 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16161,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;cfd573f6-6077-418b-91b3-6cbf5689880e&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; kylema11201 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; kylema11201 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22877,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;f030d29a-2b31-4588-9b54-6bbcb3e25344&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; kylema11201 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; kylema11201 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23166,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;5d67727a-d857-4e6d-9e5a-e5d51ec455e3&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; kylema11201 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; kylema11201 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23284,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;ab8bd899-5118-4537-9126-87002fc87ef6&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; kylema11201 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; kylema11201 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23065,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;e2a5b60c-70aa-4a56-95a9-52ffb43b3b60&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; kylema11201 -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; kylema11201 -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21174,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;03042178-66af-42c8-93fd-9e41d9273509&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; easy_assignment_hk -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; easy_assignment_hk -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9755,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eefed303-a896-4aa2-958d-5e028d8903ce&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; easy_assignment_hk -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; easy_assignment_hk -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9839,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;128063a9-5caa-4ac3-89a4-0a8bf3bdc0e4&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; easy_assignment_hk -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; easy_assignment_hk -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10121,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;22fd57f1-1202-42d8-961c-5ba0cfc6faef&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; easy_assignment_hk -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; easy_assignment_hk -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9945,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;256dea7a-0334-4f3b-b850-747e676cd78d&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9550,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ef833e3a-5424-43b1-a54f-ebc06ee90964&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9889,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6e532237-f420-410b-98e4-7965f1ab0273&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9213,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;acc8acea-21cb-47c3-8dc7-098ac7c10880&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9800,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;23b9b19e-8611-447c-abf1-2962986692a4&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9623,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dd78dad1-8ad6-42fa-a5d8-083a9db762ba&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9257,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3a7b1ba5-2b58-42c6-b7db-66d1bdc81137&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9703,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb9e6ccd-b6b2-4ce0-b4ed-5b2b0c8082ce&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9371,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1a41c98c-0dfc-4558-8a45-f3795355bd45&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; codemyhomework -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; codemyhomework -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10156,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3508610a-9753-4d9f-97b6-be364a87b377&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; codemyhomework -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; codemyhomework -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10033,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3f96ed20-d584-4c68-9219-b9a97a3a96d9&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; codemyhomework -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; codemyhomework -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9670,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7adb81f6-5a45-424d-aca5-7eac0e3b9c0a&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; codemyhomework -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; codemyhomework -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8591,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;69752f8c-7d3f-44e5-8d6a-6aa6933d9b1b&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; codemyhomework -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; codemyhomework -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9844,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3f53c52e-7ad2-4843-9fc6-db09628f888a&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; shawnzhang1122 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; shawnzhang1122 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24019,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;dc378a8e-b730-405e-ac37-5ff1457c7935&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; shawnzhang1122 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; shawnzhang1122 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24286,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;3392a955-25bd-4a0c-9deb-4e57f6ec8fa5&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; shawnzhang1122 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; shawnzhang1122 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24595,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;e111541f-8d97-4f67-8e42-34478e4541e0&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; shawnzhang1122 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; shawnzhang1122 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24138,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;a2d7a14e-68a6-4710-b2d3-a5181741d10a&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; shawnzhang1122 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; shawnzhang1122 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24331,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;b42858b7-1e2a-4c89-bda2-dddc73657cf6&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; shawnzhang1122 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; shawnzhang1122 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24032,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;cc677b6d-49de-4374-90e9-82253b07d499&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; shawnzhang1122 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; shawnzhang1122 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23296,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;cc1fede1-6ec1-4bcc-9fb8-f6c930034799&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; shawnzhang1122 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; shawnzhang1122 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24353,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;63c618bb-df34-4370-938e-7c04b9bb773b&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; shawnzhang1122 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; shawnzhang1122 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25143,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;4d6e824c-f502-47ef-83c1-5351fa6c24a1&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; shawnzhang1122 -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; shawnzhang1122 -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23606,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;bbf32a9b-148b-45d9-8457-31e7e15e353b&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; davidzhih16390 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; davidzhih16390 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15179,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;b45873d1-1c17-4ff5-9bf4-d612f9a64ec9&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; davidzhih16390 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; davidzhih16390 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15563,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;46ba9250-7a97-4812-8777-9dcbd33c3adf&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; davidzhih16390 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; davidzhih16390 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15524,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;4e5074c8-9af3-45ff-8b0d-4c14ce19031b&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; davidzhih16390 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; davidzhih16390 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15079,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;7b34c13b-3f8f-48d1-9837-4e04ccf5dd62&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; davidzhih16390 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; davidzhih16390 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15781,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;1e39631a-d161-4347-9080-c4f1b54232df&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; davidzhih16390 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; davidzhih16390 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16192,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;d47b8dbe-2a12-4fcd-bce1-20aaa0ec223e&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9872,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2338e317-1090-49f3-8435-71e5cd030392&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9617,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a52f4eca-cce7-4a7c-a514-f29d5253e207&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9905,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a2f02181-abac-40b6-b8cb-ac1fd528764d&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10394,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;21332f8d-d484-418d-9292-1a06e3341beb&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10172,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8c225fe2-d214-45f3-9112-b72d94447b6e&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9761,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;69bd0f9b-0f04-4133-ac03-5cfa5595ce62&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9094,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;44bbb12b-99d3-4527-875d-918075b1e5c6&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9981,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6b19a317-c6a2-4944-b6ea-a83d91de8382&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10357,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e62654fe-562c-47ff-8588-d76f34bcc388&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10017,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ce895902-b4dd-40ff-9ab8-28127059f216&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9834,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;155ff05b-2c8b-4269-a3e2-59aa7d36c980&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10401,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;da760ff1-af40-479d-8f90-eabb47d34dd6&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18870,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;c2f3dea2-ea11-495d-ac58-812cbdd51681&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9645,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3379cb80-be86-4b27-9f7b-bc0e01aac7ec&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 14&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 14&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9145,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e33ebe1b-8a22-489f-a509-e8399f7ae0d2&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 15&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 15&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9984,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;add76953-cd0a-4bd8-b24a-bf028a77c213&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 16&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 16&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10329,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;958a73cc-4a8a-47ac-9f64-bfd8b26ad5ea&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; abcdqwr -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; abcdqwr -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16430,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;89993dcc-2035-4eff-891d-2a339c345c2c&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; abcdqwr -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; abcdqwr -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16151,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;ae562830-19dc-47f9-b922-95cbd7c816df&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; abcdqwr -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; abcdqwr -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16029,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;20727009-9502-45d5-bd04-798a411dd0e7&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; niotech_hk -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; niotech_hk -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9633,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4c1ec771-3814-4438-b5cd-5fbdef796cae&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; niotech_hk -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; niotech_hk -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9926,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0566177e-aad3-463b-af03-53a78c858ea9&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; niotech_hk -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; niotech_hk -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10180,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;67e9fce3-919b-43a3-a5c9-8a85a365e139&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; niotech_hk -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; niotech_hk -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9031,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;67867343-b0df-4347-b926-821e5abde1f1&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; niotech_hk -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; niotech_hk -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9837,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;412fadb5-f292-4710-bcd1-80baf5a8360f&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; niotech_hk -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; niotech_hk -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10098,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4cddc803-ec48-4cd8-8b85-309abbe10972&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; niotech_hk -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; niotech_hk -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9690,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2489d220-4936-42c9-aa2e-df2fec825cea&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; niotech_hk -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; niotech_hk -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10476,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e4a7014f-f097-4f63-8c60-da45c26760ee&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; niotech_hk -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; niotech_hk -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9694,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7725e8dd-604c-48f2-b674-50ec726039ac&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; niotech_hk -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; niotech_hk -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9853,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7c57a77b-9a56-4957-b63a-9503899c515f&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; niotech_hk -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; niotech_hk -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11079,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0b55c838-2d0b-417f-af5c-086b0de21f2a&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; hopeubest -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; hopeubest -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9405,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec61a516-4381-4e33-bc82-eadda5d92f2a&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; hopeubest -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; hopeubest -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9455,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;39727674-124e-4d9f-9551-765deae44bb7&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; hopeubest -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; hopeubest -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10431,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f4eb2b39-1f94-4f1a-b9c2-2b0eaa1a27a1&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; hopeubest -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; hopeubest -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9755,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9b7f3ca0-0e9b-424b-8579-90c3ce6cdfbf&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; hopeubest -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; hopeubest -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10021,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eb3e2b9d-feb5-4777-877d-c1ff0c27492e&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; hopeubest -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; hopeubest -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9767,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;550b06bb-08b9-413b-8d4e-5615edf65c76&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; hopeubest -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; hopeubest -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10424,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;373ad103-7b09-4114-8288-e5777a1e0b3d&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; hopeubest -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; hopeubest -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9668,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3575b1f3-1178-4a3c-b907-6e3ba177fcec&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; hopeubest -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; hopeubest -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9031,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5d067c40-5422-4d6f-9b3f-37a5368596dc&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; hopeubest -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; hopeubest -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9432,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7dc66e4d-345c-469b-beca-8608c5e9daac&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; hopeubest -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; hopeubest -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9599,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c3aeb02e-fd52-4b09-b902-e797f14003ef&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; hopeubest -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; hopeubest -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9146,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f988018c-d51e-4edd-971f-f718c382dab3&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; keung_2022 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; keung_2022 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9062,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;179eb6c9-32b4-42d9-ae1a-9d1e461e237f&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; keung_2022 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; keung_2022 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9468,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;92cd1c50-ba95-4df3-b287-4c2ca3facdfd&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; keung_2022 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; keung_2022 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9726,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;06ac9434-8467-4aa2-9d02-76d4878485b8&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; keung_2022 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; keung_2022 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10075,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5c13d87f-4230-4189-b56e-ece0bb5c9b50&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; keung_2022 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; keung_2022 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9571,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0eecd07b-9392-4ed7-974c-ba222d15523b&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; keung_2022 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; keung_2022 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9572,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;487bf1a3-2864-4d35-861e-781b20836536&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; keung_2022 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; keung_2022 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9685,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e04dacd8-0e57-45b0-adec-86cddb52bbb9&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; keung_2022 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; keung_2022 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9286,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;70ee08ea-2f7b-4143-afbc-905a4919d001&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9375,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;703377ee-f249-440c-99bd-a262a7a5691e&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9974,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;93d5768d-a74d-40f9-b420-036cc454e3eb&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8890,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3b5fe7d7-bc60-4d42-be91-222f9d87f782&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8948,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ef2f0f0c-eaa3-45b3-9726-281211f428c4&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10459,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1d042a4e-1312-484c-bd6e-c9581fd35bb9&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9376,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f96bd45-f269-4fb0-8ca2-5fb24c55ec9e&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9262,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d785c822-267b-4e31-aafd-7e2c57ad2657&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10658,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4ef08311-ffa9-474b-b090-8e36d64c054b&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9581,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3b5139cc-5264-4e28-bd48-a39855f668a7&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9822,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;12643dca-6512-4d4d-ba96-163e854aea27&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9995,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b5f91291-0567-47cd-b7d4-9a3461824810&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9635,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6d188aae-2919-4930-82e9-9d29ed160433&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9635,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0cf834c6-ab8e-46f1-a6e8-5bb2cc442fdf&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; kylema11201 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; kylema11201 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22979,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;bd1ff79f-fb6d-4d8b-8742-9c9519abccb1&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; kylema11201 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; kylema11201 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22811,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;6c8717f8-46f5-442d-8bac-601da29f733a&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; kylema11201 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; kylema11201 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22771,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;003fd81f-2dd8-4f73-8955-33855f2dd7a9&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; kylema11201 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; kylema11201 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22967,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;840e627f-e8c2-4112-87d1-30e2930b535a&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; kylema11201 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; kylema11201 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23185,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;3baa25bb-c011-4114-8cbf-42ff3032271c&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; kylema11201 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; kylema11201 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22774,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;6dd3618e-8665-4b85-829b-0d926d006800&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; easy_assignment_hk -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; easy_assignment_hk -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10259,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;352cf587-f230-49a4-9230-cff010d884e8&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; easy_assignment_hk -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; easy_assignment_hk -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8279,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;16be5cc3-3821-467c-94c0-08f245631326&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; easy_assignment_hk -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; easy_assignment_hk -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9494,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5bd5398d-47ea-48c9-b55c-5f8c7201f2a1&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; easy_assignment_hk -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; easy_assignment_hk -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9611,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d1e70d2c-af9c-4e0c-88af-38c3f8973dc9&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; IT.godgunner -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; IT.godgunner -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9250,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3a14241c-1d0b-4808-98eb-70ebdaaf54e8&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; IT.godgunner -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; IT.godgunner -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10504,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6aab9311-83ea-4519-b7fa-53084c47760f&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; IT.godgunner -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; IT.godgunner -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10046,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;afb40f72-fdda-4f8b-a51e-2fecf82dbfe8&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; IT.godgunner -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; IT.godgunner -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9669,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d1ccdba2-615c-41d1-b17f-47345525836a&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; IT.godgunner -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; IT.godgunner -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9448,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a748e262-8327-4734-98e0-e8066dd2d1cf&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; IT.godgunner -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; IT.godgunner -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9255,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b2a46eb2-1d19-4f6e-8c99-c02c050d0072&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; IT.godgunner -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; IT.godgunner -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9785,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;46bc8478-adba-4ef7-a4eb-89c121cfb7f9&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; IT.godgunner -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; IT.godgunner -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9108,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e1dcdc14-f582-4d96-9845-4bcf0f98dec2&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; IT.godgunner -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; IT.godgunner -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10270,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;412dc893-d295-4623-b404-abb36e3579c2&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; IT.godgunner -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; IT.godgunner -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9587,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4f21fed5-ec0a-4751-9f56-3e996d2160ba&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; IT.godgunner -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; IT.godgunner -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12591,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;538e23c7-7eaa-472e-9384-060e9fd4cc59&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; IT.godgunner -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; IT.godgunner -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9689,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;64249715-9ce0-422e-bc8e-487851300497&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; IT.godgunner -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; IT.godgunner -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9774,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f05b7e2-4083-49f2-83d3-57c330b32271&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; IT.godgunner -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; IT.godgunner -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9227,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4618fe6c-2b53-4f50-8f60-9b0ff6a141fd&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; codemyhomework -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; codemyhomework -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15194,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;c1705af9-a25e-464b-9c4c-c998a9f60ccb&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; codemyhomework -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; codemyhomework -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14841,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e3d67b96-f80a-4e42-8d24-c8730ccc0b1b&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; codemyhomework -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; codemyhomework -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14989,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;af7d802b-936f-4c74-a80b-979e2faef2ea&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; codemyhomework -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; codemyhomework -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15243,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;d5f838d3-6f0d-4d26-b8e2-74ca796f04cf&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; codemyhomework -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; codemyhomework -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15115,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;37f74d5e-ed05-4042-ab0d-d2c2a6d8ac8a&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; codemyhomework -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; codemyhomework -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15149,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;b2cda22d-651d-45cf-acac-111837e0d5a0&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; shawnzhang1122 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; shawnzhang1122 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8956,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb368876-1b1b-44fc-9dfa-a35e8f2033be&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; shawnzhang1122 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; shawnzhang1122 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10091,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;807fe2fb-8fd1-4675-809a-48fd0b9bb671&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; shawnzhang1122 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; shawnzhang1122 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9308,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0bba391a-8da2-4483-a278-2eebbf9b9d2d&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; shawnzhang1122 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; shawnzhang1122 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9875,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f6ef968f-de3b-4abd-aec7-5ef782d24602&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; shawnzhang1122 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; shawnzhang1122 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10666,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3088992e-6421-42ee-a79a-d03a7410d68b&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; shawnzhang1122 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; shawnzhang1122 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9247,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;48d07f3e-083f-4c67-a41c-1b239e176288&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; shawnzhang1122 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; shawnzhang1122 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9095,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0730afcf-8a8c-4a73-b223-f5516c660367&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; shawnzhang1122 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; shawnzhang1122 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9978,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;25dd3f02-791a-4131-bcac-4ddc73e75b58&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; davidzhih16390 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; davidzhih16390 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11010,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec1e7823-9acb-4970-8b7f-4d9e55a562eb&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; davidzhih16390 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; davidzhih16390 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10478,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b269229f-b7cd-46bf-9b12-e8fbf82c7ed6&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; davidzhih16390 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; davidzhih16390 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9114,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f7864d4a-6721-40bd-b0db-2b507fdec60f&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; davidzhih16390 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; davidzhih16390 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10078,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b176c69c-e687-4cb5-b017-9f4ec81d208b&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; davidzhih16390 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; davidzhih16390 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9448,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;65d960db-53d9-45b6-a29b-216f0af0516b&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; davidzhih16390 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; davidzhih16390 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9418,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4986aea9-2868-4540-974e-da0df1194664&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; davidzhih16390 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; davidzhih16390 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9644,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3bc31ad9-fad6-4808-9f04-a033df7f4fd6&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; davidzhih16390 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; davidzhih16390 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9662,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2b0447a6-f88f-4a62-abb6-41643b1250d1&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; davidzhih16390 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; davidzhih16390 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8918,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ea354755-c365-4f8d-bf5c-6a173ccad5ce&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; davidzhih16390 -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; davidzhih16390 -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9413,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;42ed84a8-365e-483d-bde6-b5d296ae85ca&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8817,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5eb0b955-7c52-4e35-8e18-9776914c6e69&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9072,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cf801bbb-eba7-4195-b8cf-2ac15c9b1e25&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9760,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;661f20e1-f2f7-4f27-bcba-0221dd710bd0&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9315,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7dd49788-d11f-475c-9e5a-09827d4687f9&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8624,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a0221281-1ce9-4283-a515-ecf41dd69aa6&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10145,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;85393819-1ea9-4b4b-93a5-e86452ecee12&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9141,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;80481c53-b8a4-491e-ad9b-2a5292caa30b&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11995,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;50fc1434-d4cb-47ad-ba84-fdca2c55348e&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10578,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;250fc906-1ff7-495c-a220-1b8a4b2f3aa0&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10165,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;804a5bb2-a5cc-442b-bd5f-ff087b0e548e&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10449,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;08860dca-f56e-44ab-8e32-fdd7f1775d0f&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9423,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3c305b0f-3f24-4c35-9c94-3ae0af1d0da4&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10070,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7de0f991-c005-4ccf-b5ea-4765c41735e2&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9368,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6e40b97f-f699-464a-9f72-2efb26e4ddf3&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 14&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 14&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9877,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;58162be3-10cd-4f69-8e14-11d2e665e5b6&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 15&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 15&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9559,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ac984928-fe76-4b0b-947d-26972bb10ba9&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8325,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ff40d58a-07ed-429f-ad6b-eefbc7becf3b&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10516,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d7ec0cf7-3270-4823-958c-649853da6174&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9623,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b88239bb-8e91-4d7f-b6c0-6a3e6c37282a&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10394,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9fbb6c79-6817-4dda-a207-e93fc540da66&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9194,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;02343c38-9a47-4eea-8796-31f7aa51dcdf&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9766,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0109e2bc-fe00-4033-9e92-ba7ec9afdf26&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9083,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec2f5bc3-5f52-4a78-be9f-5ffe9ba62036&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9426,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;72d37678-b5e9-416e-ac71-989d61a71d57&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10149,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1bcc64c8-32e5-402d-b9da-38e05791410f&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10064,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3b8960f4-e994-49f2-9ff8-1b53c9db3721&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; niotech_hk -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; niotech_hk -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15836,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;f731e4d2-80b2-4103-a046-e42f043e57c8&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; niotech_hk -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; niotech_hk -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15882,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;aaab0e86-81cb-4f57-a9ca-1e72e1c56f8e&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; niotech_hk -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; niotech_hk -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15364,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;7b049412-13c7-42b9-93e3-a22a0836eb65&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; niotech_hk -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; niotech_hk -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15793,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;a64ed82e-f53e-4d20-8e51-27f8baf5f993&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; niotech_hk -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; niotech_hk -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16167,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;c14d9d6e-25f0-456a-86fa-6134e4c8c226&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; niotech_hk -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; niotech_hk -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14829,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;de5e1d33-60a1-47a4-83d4-6b39fee92ee0&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; niotech_hk -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; niotech_hk -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15231,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;68e8628c-880b-4fbc-867c-4ed2987a6141&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; niotech_hk -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; niotech_hk -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15761,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;06a2fbb5-7f33-480e-90f6-183b276dcec1&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; hopeubest -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; hopeubest -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9500,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;822e2a43-3b16-4e4f-a7da-760c75ca77e4&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; hopeubest -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; hopeubest -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9830,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9bcc71cc-2a58-4373-b28c-cf5a6c570aba&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; hopeubest -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; hopeubest -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9832,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c8679513-8984-4280-b4f9-e611e305e6b5&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; hopeubest -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; hopeubest -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8969,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1ab786f5-e511-4d3a-8f8b-73f824665212&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; hopeubest -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; hopeubest -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9347,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d5784457-31b6-422e-a8ea-47789fb51e7a&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; hopeubest -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; hopeubest -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9939,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;29787ce0-8276-4500-bd2b-1d4e0fb991f2&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; hopeubest -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; hopeubest -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10621,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e7638259-7b1f-406e-aeae-e88adde11b18&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; hopeubest -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; hopeubest -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10412,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3c6284c5-1918-4643-bdd0-55db341492f1&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10131,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;246d070e-59b6-4b3d-824b-221615ad2bad&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9315,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3f594687-6629-4d8c-b983-3ddc43101381&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9127,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;30557d1c-2c5a-497b-853c-a03e3f453e2b&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9583,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;40e9d727-b660-438d-b30f-5085d9d0b382&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10606,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b94a0217-ec85-4889-a59a-5903a9621322&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10350,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4de6aca6-e489-4486-88c7-3d6d9d70d3cc&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10064,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;33307d96-1c14-4af8-911d-1a724e524275&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10220,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;49192dd6-256d-4889-a30a-f7806d089e46&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9526,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ca0d6a49-ff47-4cdc-9b0e-4a4d4cd38fd0&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9620,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a2002128-3018-4f28-86ce-7ced2b39bc98&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; memegod420 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; memegod420 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10288,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3909c25c-b9dc-4335-828e-8f73222dbe8a&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; memegod420 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; memegod420 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9242,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cbe8549b-34e6-4897-9f5f-d1ab4497e5f3&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; memegod420 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; memegod420 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9832,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;71578c47-28b5-476b-9def-6587a19ff7ff&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; memegod420 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; memegod420 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10175,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1c4b7035-f846-4cac-8dcf-4173b1e9f3cd&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; memegod420 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; memegod420 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9745,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;23d7dc2b-0cd8-48f1-93cb-0d36daf0c97d&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; memegod420 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; memegod420 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9380,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;98de52a1-d9b6-4d24-abb4-8ad13d0adfa9&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; memegod420 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; memegod420 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9473,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;06517386-c870-40af-8092-cd269be6fb8c&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; memegod420 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; memegod420 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9951,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4cb81552-63d1-4ab5-8d38-3eae7cea2b3e&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; memegod420 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; memegod420 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9820,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6432db1c-67fc-4e09-8b4b-095db45aae7e&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; kylema11201 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; kylema11201 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23333,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;c337dd8e-31bb-4033-9a6d-8865e938f77e&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; kylema11201 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; kylema11201 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22916,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;3d15c032-cebe-490f-9574-0e87b9263b39&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; kylema11201 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; kylema11201 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23044,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;c4175c39-390c-4597-ae46-fbad47263825&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; kylema11201 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; kylema11201 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23312,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;ca2b081b-1e3d-4be9-8764-1a4b899cc1a4&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; kylema11201 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; kylema11201 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22999,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;d0d9dadf-307f-4242-815f-a8b45a8c8250&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; kylema11201 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; kylema11201 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23834,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;33f90d0f-e391-449b-a10b-2892fcffa697&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10049,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb50e2f2-afa6-41f2-a64d-fbf3f1f18516&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9185,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f5fbb971-bed8-498f-ab60-8c55c33e64f0&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10243,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b3259724-4366-47fb-8784-c425b216c9ba&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9380,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0155a776-f3af-4135-baa9-93a1fbedfe7f&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9333,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;657b3cab-c9cf-4117-9835-b314ab3178d1&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10080,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b71a6497-9280-4f91-909d-6e422217334d&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9363,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a45b7dd1-b20a-4f87-bcb9-7b6496a10692&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8850,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3f49201a-a101-4fc6-beb3-8cad1d9f452e&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9408,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5cf3a579-6f8b-481d-b7dd-f2f32cbaaad4&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9778,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a9f5cfc7-18a1-46fa-8e7b-e6861a5e241d&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9493,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b1944b8d-38b0-4c17-b686-58f1f1983be8&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10475,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5ddb314a-3f9a-4fb2-b50c-54df625c0acd&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9804,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3caee997-ae9b-497d-855e-bdd09cf189b4&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9997,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;81fcca60-9c96-415c-8a52-37c77fc079a6&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 14&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 14&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9729,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec4ed467-3d5e-4a85-a41a-eae8aceb1e71&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 15&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 15&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10253,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3a0b259b-059d-4c8e-9005-01499088a18e&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 16&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 16&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9248,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cec12863-fab1-4d9b-bcc0-d4bf91d81587&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; IT.godgunner -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; IT.godgunner -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16437,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;f9430bf1-645f-4a6a-91d3-1323eb95316f&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; IT.godgunner -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; IT.godgunner -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15982,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;7a009800-3ab1-4332-be12-92683fd2f499&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; IT.godgunner -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; IT.godgunner -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16073,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;f9c265da-f103-4c03-814d-e74d950bac64&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; codemyhomework -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; codemyhomework -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15516,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;edf50624-c4c5-4087-97b2-7425d98add21&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; codemyhomework -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; codemyhomework -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15496,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;b9d6d5bd-b4bd-4c01-8c18-17383db6c578&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; codemyhomework -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; codemyhomework -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15056,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Target.closeTarget): Target closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Target.closeTarget): Target closed.\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:71:63\n    at new Promise (&lt;anonymous&gt;)\n    at Connection.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:70:16)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1199:44)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;f85c2f6c-ab1d-4a63-bbe7-1da758b45b60&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; codemyhomework -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; codemyhomework -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15305,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;3890b202-87bd-4dcb-a4cb-7c40b03369d6&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; codemyhomework -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; codemyhomework -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15234,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;93a7a589-ef22-4946-adf7-316c9dc51aa0&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; codemyhomework -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; codemyhomework -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15649,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;1890d64d-82ff-4b36-a0f5-1e6c4c56b6fd&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; codemyhomework -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; codemyhomework -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14989,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;522f0395-8b7b-4e2c-85a3-df9fc375068f&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; codemyhomework -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; codemyhomework -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15387,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;f8569b0b-717f-46a0-a0a5-7da05866e248&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; codemyhomework -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; codemyhomework -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14853,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d04e1928-a048-477a-acc1-fa6c8d463284&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24228,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;358c1505-857c-4177-94e2-5ee17793ad85&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24245,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;44580e7b-aaa1-4f9e-8d89-0a80a8a6a6b1&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24355,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;e013e016-d032-41c8-87fa-9aad9a6f5caf&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23393,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;25d41fbb-f84f-4dfe-999f-8c83f31fa5ef&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24296,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;9a3ded5a-30b0-4f83-beab-4ab42406c3ec&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23977,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;5099d721-ab3c-418d-9518-4f86c254718b&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23963,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;a1b53dd9-61ff-4659-b5d5-17c6da3a884f&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23731,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;6aa9bdbd-8b89-433e-90b4-294e01d090cd&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25139,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;3052c63f-1c9d-4a00-bb57-8fcf38606cd2&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24368,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;dd979cd3-cddd-4d17-b158-0f45cfe8349d&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23949,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;0378829f-ea67-4f80-9248-7fc889b71b74&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23449,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;c3ad2a5d-50ac-43f2-983a-cf371d75a34f&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24166,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;0af7de1e-79e0-4cb4-a6c2-01deebd4086b&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15576,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;104f8b60-7171-42b4-bf76-e80d4796221e&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15426,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;64260776-4e64-4f08-9183-01b53687ee28&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15851,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;91b5060f-3f15-4ddf-9c35-fded5431bb6f&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15843,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;556f07fe-ab0a-4eec-83a4-73a0f5dc9e41&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15408,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;7e053b05-80ff-4eae-8771-c512672169fb&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15485,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;cbae9172-f50a-4cd4-87a4-d2059c93b7cd&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15311,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;99ead2e3-4558-4ce6-8213-6e1888d15b5b&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15547,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;d72445bc-c999-43fb-9ee9-87a0211b7074&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18753,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;5e480124-8ceb-4e13-9ab3-bee60037bd82&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; stocksamuel -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; stocksamuel -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9764,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e04a706f-9c5e-45ca-aaa3-ff0af0812d91&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; stocksamuel -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; stocksamuel -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8987,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8eac0252-44f8-4722-8244-e0be1cd7fdf4&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; stocksamuel -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; stocksamuel -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9784,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;920a7c67-8f77-46b0-8a41-c4d4a12b37be&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; stocksamuel -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; stocksamuel -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9583,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;43c3cacc-b17e-48af-a969-4160f3cce937&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; stocksamuel -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; stocksamuel -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10479,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ea3c1ab-68db-451b-996a-6ed3a73bd4ee&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; stocksamuel -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; stocksamuel -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10191,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;455d7484-0380-42c1-89ee-68dde29a754f&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; stocksamuel -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; stocksamuel -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11309,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f6cdc370-5127-4345-ac27-c403e47513c3&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; stocksamuel -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; stocksamuel -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10051,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0d730004-828f-479c-8c3b-36cc543f5a2b&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; stocksamuel -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; stocksamuel -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8822,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;de9ace5f-fc76-4c7b-9506-347bba74c6b9&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; stocksamuel -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; stocksamuel -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10080,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bcb8b321-42d3-4b90-b334-b92b7b97b735&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; stocksamuel -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; stocksamuel -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9247,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;36644222-9922-46b9-a580-69a4b3b64725&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; stocksamuel -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; stocksamuel -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10586,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;33dda841-b701-48e6-ac9c-0183ef862093&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; stocksamuel -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; stocksamuel -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9212,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1e6c58ae-f6c2-4548-b4f5-a973a91a8d0b&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; abcdqwr -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; abcdqwr -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16791,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;81cf4211-4518-4eef-80b9-2d42868afa17&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; abcdqwr -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; abcdqwr -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16256,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;0ac5cc5a-733d-43b7-9443-f30697978d23&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; abcdqwr -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; abcdqwr -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15719,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;c8c499a3-e8bd-40be-8eb5-5daf82284134&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; abcdqwr -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; abcdqwr -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17276,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;5874e620-51ea-4749-9c6f-528b0ad7f210&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; abcdqwr -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; abcdqwr -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15963,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;42226697-4d3d-4066-aceb-f884cf2e89e5&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; abcdqwr -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; abcdqwr -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15522,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;504dfa39-291e-44cb-a579-f8079009babe&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; abcdqwr -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; abcdqwr -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15788,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;357024af-9716-49aa-96de-8a958da8bd82&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; abcdqwr -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; abcdqwr -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16164,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;013aff5a-2e2c-49ad-8fe5-7c0728e7a3b1&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; abcdqwr -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; abcdqwr -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15647,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;755c69be-709f-4137-8eda-088f8bc4d7c4&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; abcdqwr -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; abcdqwr -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16359,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;482cd698-5e59-48e2-94fa-4bdf8b53460b&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; abcdqwr -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; abcdqwr -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15874,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;5e58e6a0-dbdd-4e6a-9fdc-bebb50f13906&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; abcdqwr -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; abcdqwr -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16355,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;5f27d717-ede2-4485-8ba7-651f894c30b9&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; abcdqwr -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; abcdqwr -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15870,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;0928ae48-9c77-4e51-b557-93f0caad0b2e&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; abcdqwr -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; abcdqwr -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15816,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;46b5e64f-d3c0-47fe-b7e2-667b52aa1048&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16039,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;ac02e6da-d097-4980-8139-035acbbdace1&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15367,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;a5de16cc-69ba-4bbd-a601-ae43574f2a20&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15720,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;64f3b3f7-9c2c-4a83-8883-fade4350cfdf&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15038,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;6c641dec-8f98-442d-8505-d678958fa328&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15757,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;20e60042-7a06-40bc-98fb-77d6ee86e449&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16146,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;ffbe02f4-7d9a-4148-aeab-d9e2a9e9a079&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15064,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;d3e74a73-4d98-4322-84a1-23437cb65c1f&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16478,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;37797a78-2da0-458c-8d69-9925bc90c1f4&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15473,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;e0b01cc8-aca7-45e3-8459-81666f69964a&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16071,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;18f0247e-d05a-491b-83c4-9722428196eb&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15547,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;6ae98206-feda-49af-8499-ddddd324b04d&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15966,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;35b8fa32-082e-47ce-8522-f3df5ee66cbf&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16144,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;c48b8450-c893-41cb-b9f8-c3a7c77b6cd6&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16384,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;e66d711e-d1b5-4757-8941-1b075458cf3d&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16261,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;e52106bf-7113-4c1f-b9af-cb750077e610&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16206,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;41c02f62-f11f-4f69-ada3-584d81a989f2&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15518,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;930d092c-54ed-4140-91a8-c8dd556d67c1&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16598,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;8056627d-f3f5-41fb-9d87-67d6a211b5a7&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16402,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;6fe5d882-cabb-441f-bfc7-b3588a932534&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16195,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;ea652236-938e-4ee1-b695-0b57b31b7e67&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16176,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;627b9a63-5edb-450f-9949-80dbcd39d2f2&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16323,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;756ffe60-8118-4b54-9906-067b8937f4f2&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15636,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;241e9e65-1efe-434f-b249-9dd7362876f6&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15732,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;417d73db-0988-4b4b-a8ba-ebc0d65fa567&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15546,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;09303048-4946-46cd-a45c-07b090774e84&quot;,&quot;parentUUID&quot;:&quot;fdf4ca8d-0340-4b4f-bd19-a23d73f13ddb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;72aff6c1-5072-44f9-a437-661303efbc42&quot;,&quot;856375af-95ca-4d22-8a07-88b086d33448&quot;,&quot;b1c97578-8451-4573-99c1-3d47348c03b0&quot;,&quot;2d2a0cfb-90e8-4b78-aca9-fe139e4dff41&quot;,&quot;042d57bc-2d79-4454-9543-2c8665d99825&quot;,&quot;87ef2e27-e9d8-4127-8156-83fcf6f23383&quot;,&quot;ca32da8d-aad9-41e1-b93c-da4beeef824d&quot;,&quot;ff9eb146-c030-460a-bc85-74e7c29d6677&quot;,&quot;cf7f8f41-2b58-48b3-885f-939a1611945c&quot;,&quot;dfbc5713-f8a4-4174-93d4-1ae88737da0c&quot;,&quot;da0f51cc-40a5-45b7-9933-e541d50d99b0&quot;,&quot;bfe2841d-d955-4ffa-baa3-f335e681de4d&quot;,&quot;da8841d4-673d-4344-9deb-61dda57bf91e&quot;,&quot;5ec0a738-2424-4925-8275-779a845af8cb&quot;,&quot;e336cc56-1620-4812-ac22-f82d39f60f3e&quot;,&quot;2dad66e4-9542-4927-a0f5-407bd7a9058a&quot;,&quot;e2a07603-9b64-4889-a195-d9cafe4215ee&quot;,&quot;c1ed5e31-ad74-4c4a-bff5-4be304751a02&quot;,&quot;e402a6b2-1b74-4389-be17-7174b941d6bf&quot;,&quot;63d12812-351c-4556-a317-1b036050a5da&quot;,&quot;b2fe530a-2cb2-4c14-8c6a-9a61f6d967e5&quot;,&quot;b55c4f70-5797-44dd-bbe1-81a9be5f3543&quot;,&quot;bd0b453a-c6b5-4387-8024-ac4d324f4716&quot;,&quot;1175ec04-8af4-4195-b707-34a28e9e525e&quot;,&quot;8d7e6e08-4453-407e-90ef-0c339d9b36ae&quot;,&quot;eefb57c9-87d5-40bd-bf12-8d6b6f9cc92d&quot;,&quot;76b3f0d3-b60e-4197-ba41-4b275d54c27e&quot;,&quot;8c4e3e6c-fea2-475e-81f1-bf8420426bfb&quot;,&quot;0e543ba9-2978-4d1d-9d9e-75ce002517ee&quot;,&quot;5db3b1dd-92ed-4577-ace8-c762d53dec34&quot;,&quot;9aa369ac-9bf1-4251-b193-12016a891b29&quot;,&quot;830aa9f3-34c5-43dc-9e73-04da5e7bc70c&quot;,&quot;9e94d0be-ce23-4375-9003-aba7cbf3c34f&quot;,&quot;6cc19270-77b9-43d5-ba81-637f51fa0390&quot;,&quot;85ca43d5-0417-4766-b6d0-c9bf041d645a&quot;,&quot;69d93be1-3c67-4365-8121-1b6044a973e3&quot;,&quot;e97586f1-ffc6-49ff-9658-6ea9008d1e2e&quot;,&quot;afa8f610-d6e7-4645-8074-6c2c9a5be937&quot;,&quot;11c8ba91-0e50-4f68-ba37-3c894d20ed2a&quot;,&quot;7358530e-73fc-448c-9ce9-bc09ddd2cbb6&quot;,&quot;de411806-4893-41bd-ad5f-22e0e755290f&quot;,&quot;7ce94a2b-7d14-4a64-8a45-27a24b487fa1&quot;,&quot;94b202dc-e80e-47a6-a9ce-4713e94db39f&quot;,&quot;b51a97a3-be46-4265-ad05-20cbdcdcb7b9&quot;,&quot;0ae8fdbd-6d6b-48b6-99cf-83558ea7f07d&quot;,&quot;c3476ae8-2c71-4c2a-a695-61aaf56a0a07&quot;,&quot;b42c017f-2119-4348-bdbd-4949d19a42e5&quot;,&quot;97a5ef2c-83a4-4cfc-b25d-f842404b2705&quot;,&quot;b5509c47-bbf3-4384-bc5b-435831749a54&quot;,&quot;055ea68b-09c3-4850-822b-7cabf02e1b5e&quot;,&quot;3ea1eca9-8471-4e7e-9876-b578c3f5373e&quot;,&quot;f1db16fe-c38b-4268-97d6-8a96f3f11dac&quot;,&quot;137c76b0-2c96-4142-9895-17093ec6e8c1&quot;,&quot;7b0ae909-ee4a-495b-bce8-280703579087&quot;,&quot;f7bbaf6f-7544-4184-b0f7-a51068e49f3b&quot;,&quot;1f5a6893-841a-49bc-9471-c9f72caccc97&quot;,&quot;dd374613-fc4d-4784-af46-e9386fed57fc&quot;,&quot;3a02c75a-565b-49f6-841a-97878328a669&quot;,&quot;7da9a9f5-db3c-4330-8a76-8d1786fde305&quot;,&quot;5e28a0bc-e81f-4382-9d89-3277dac93cd0&quot;,&quot;5e440121-b604-497e-8d5b-f1fd6d88e5d7&quot;,&quot;2ae810c5-9b1d-4883-90b7-99e3972eef84&quot;,&quot;50f78bd0-2ff6-41ae-9c9f-e2745c597852&quot;,&quot;2e355eb8-2cda-4492-bd16-57a38096902e&quot;,&quot;0c57f784-04e7-446a-b8cb-b58e40fb5dcb&quot;,&quot;580e92aa-1b2f-43b1-ae59-50c8408c1ac1&quot;,&quot;45d9b7bf-753c-4f06-a7b5-7aa0b74eb1a4&quot;,&quot;ad92688e-d6ea-4363-86b3-1f21e2ab289d&quot;,&quot;2eb9b50f-b73a-4190-a3ae-ee939a3dc021&quot;,&quot;4c9b3f8e-d2e7-4d40-a69e-70b20d4d109a&quot;,&quot;4024d50d-d2b8-404c-ac4f-30179d690243&quot;,&quot;f0c1122c-404d-4a45-8572-0619ef987b79&quot;,&quot;73d33368-a7de-4901-99a4-d91dfc4b9d9d&quot;,&quot;fc387516-d04f-42d5-bf6a-8f133d0e0027&quot;,&quot;29de8c3e-c61f-4f67-9345-92d52f865779&quot;,&quot;09e467fc-0b6d-4b92-8d6f-340f3eb2f77b&quot;,&quot;e37ba87f-8df7-42b5-aca6-306493d5668f&quot;,&quot;3bbffe09-84bb-41a1-9bec-a5ffdf7e8f90&quot;,&quot;18f333b4-4718-43b5-bbc1-38f071215aed&quot;,&quot;e02925da-9729-4b63-9c09-f9a976a39246&quot;,&quot;2b030320-18a1-425f-819e-5cc2558abed5&quot;,&quot;3a4cc912-dd2a-4db3-8588-b2a9f35c8138&quot;,&quot;a3ced3a3-c268-4954-a8ba-01b64eb6f67c&quot;,&quot;d3a86f24-0039-489b-ad8b-2a292ae2d005&quot;,&quot;be0d03d4-8141-4252-aadf-91053c578a12&quot;,&quot;8aa9b418-b31a-45c8-a31c-bff069b373dd&quot;,&quot;1c91fc8e-04ff-4b95-9312-f2e41f3fb3ca&quot;,&quot;69110359-acf2-4f9c-9d7f-ce9c954cd6f6&quot;,&quot;f1140405-2081-409a-abed-9f3a5b294c38&quot;,&quot;b96caaa4-b2ae-41cc-a5e2-be25ddba868d&quot;,&quot;0fd09e34-b2db-4ce8-b1e3-8636063228e0&quot;,&quot;73f5a2d2-7c01-4c02-a30e-b3a53af8fdcf&quot;,&quot;7c010b91-a779-474a-be6a-1861af631100&quot;,&quot;aa5beb4a-1f03-4863-aade-a9cb9fe1cd15&quot;,&quot;ea12074a-0063-46df-9433-18f4212bf3de&quot;,&quot;cad0e530-c72b-4be9-8c3b-e96d12c15167&quot;,&quot;01032b94-efa1-4709-a785-8e97e3223e83&quot;,&quot;8377af12-7a66-4dcf-a263-8d1645d7b53f&quot;,&quot;166922aa-845b-4888-bc03-0342be01ef66&quot;,&quot;58da6735-73bb-4a55-95db-a0ccf96b803f&quot;,&quot;fcf00185-b30c-49f8-a23d-9ee867472fd2&quot;,&quot;6dc81731-37ee-431f-ad91-2e650b2a0d6c&quot;,&quot;8353787f-0bdd-45ca-b261-9a8930f1fdf5&quot;,&quot;a4256028-4151-47c9-8b0b-499ee1c922d4&quot;,&quot;a82185dc-f5da-40cb-94e0-6feabd727cd3&quot;,&quot;e8f816c1-aaec-4aec-84ab-8733476cd0ad&quot;,&quot;16017c74-3c7c-4c14-829c-b4c9f68c4cf8&quot;,&quot;2b94d8fd-d767-49a1-a8e2-a7ae3bc6ce07&quot;,&quot;9c1c10bb-8ba5-46f7-ae12-08f7f99a24b8&quot;,&quot;e0d5a3ea-a8de-4a36-b1a3-0b0badc7919a&quot;,&quot;a1c0d390-9d41-4471-9a36-c153808429fb&quot;,&quot;3e6ce290-29ff-4710-b133-92b8e883d5e3&quot;,&quot;2e15d361-be4d-4ee0-952f-482392bdac14&quot;,&quot;578abb6e-fa7e-4507-9022-c89e29ffbe9e&quot;,&quot;1e6425fd-3635-43ef-8c6d-9a2de76af760&quot;,&quot;5e57f330-6860-44ae-9102-271afef7af89&quot;,&quot;a6f2d4cf-fde7-4d1d-b9f0-75403fa0ac3c&quot;,&quot;f3a195d2-f6b7-4b82-8afc-3022b588d8ae&quot;,&quot;792cd9a3-2861-40d2-ba17-23af8631e6b3&quot;,&quot;90881e5d-d9de-4c7c-bc52-4cde48f2686a&quot;,&quot;69bd7a96-990f-4631-9a56-6eeeca07e891&quot;,&quot;7d5dd4d2-c5c3-4bb6-91fd-0b6af5af740b&quot;,&quot;7b54a29e-91e2-4f12-922a-3b77ffb1330a&quot;,&quot;1b016c81-c02f-4e90-bbb8-67781ea9530d&quot;,&quot;b5aef41d-0228-4503-af6c-563f1b3456f9&quot;,&quot;6ecebc62-cb76-4a29-9f80-229309f33095&quot;,&quot;75c5fec9-8ec6-4e08-aa8d-dd48f433619d&quot;,&quot;f452599a-db51-46a3-9e3b-38600e89d8ee&quot;,&quot;0933fad7-1df0-48bc-8551-57530d1bcfba&quot;,&quot;8df78910-a7d4-47c3-8b9a-33e7712efa4a&quot;,&quot;41701ee4-a2d3-4da7-970b-a21134baaf1c&quot;,&quot;be1c2583-aa99-44e5-bc93-f5c50bb13954&quot;,&quot;cbdc2073-9aba-4255-95d3-4d2852bdf2e2&quot;,&quot;7109febc-9eec-4db9-ba22-9a47e2466ad9&quot;,&quot;479e637e-d8dc-422f-b603-6520b804bc56&quot;,&quot;8e2718dc-8380-45bf-817d-fef9218d0d7f&quot;,&quot;0359c707-bda6-40d5-a440-656fb77bb60a&quot;,&quot;df411806-51b5-4fc4-bb3a-061c636c8d65&quot;,&quot;9351e983-8e17-4ac4-b246-ac9d1191ee18&quot;,&quot;1dd96997-31ce-470c-803e-f71679ea272d&quot;,&quot;332dc57d-5c63-47fb-aa0d-6f4c7af52cd9&quot;,&quot;fba544d9-aaff-4aa4-8df1-ca643f703e50&quot;,&quot;71baddb7-c168-4195-8743-b228e3f16596&quot;,&quot;7b9e5ff6-16ac-48af-ae3d-a53304099236&quot;,&quot;b56b9aa2-ab60-4bf3-860c-7e2d812829ab&quot;,&quot;929a829e-02b0-49fe-97bd-6de43a806aa3&quot;,&quot;eff05ead-987e-47e4-aee5-a79a1b6dd183&quot;,&quot;e13d8fc9-d791-4848-9559-f5c07e613d3f&quot;,&quot;50cdbf27-56cf-4bc0-827e-481564cb3908&quot;,&quot;382b777f-94ab-4d7c-ae50-6b9899b0fde0&quot;,&quot;51b8958f-677b-4b19-a8f7-1ec53a861d50&quot;,&quot;8c586f23-7a49-47be-9423-28508a2a997a&quot;,&quot;eefed303-a896-4aa2-958d-5e028d8903ce&quot;,&quot;128063a9-5caa-4ac3-89a4-0a8bf3bdc0e4&quot;,&quot;22fd57f1-1202-42d8-961c-5ba0cfc6faef&quot;,&quot;256dea7a-0334-4f3b-b850-747e676cd78d&quot;,&quot;ef833e3a-5424-43b1-a54f-ebc06ee90964&quot;,&quot;6e532237-f420-410b-98e4-7965f1ab0273&quot;,&quot;acc8acea-21cb-47c3-8dc7-098ac7c10880&quot;,&quot;23b9b19e-8611-447c-abf1-2962986692a4&quot;,&quot;dd78dad1-8ad6-42fa-a5d8-083a9db762ba&quot;,&quot;3a7b1ba5-2b58-42c6-b7db-66d1bdc81137&quot;,&quot;bb9e6ccd-b6b2-4ce0-b4ed-5b2b0c8082ce&quot;,&quot;1a41c98c-0dfc-4558-8a45-f3795355bd45&quot;,&quot;3508610a-9753-4d9f-97b6-be364a87b377&quot;,&quot;3f96ed20-d584-4c68-9219-b9a97a3a96d9&quot;,&quot;7adb81f6-5a45-424d-aca5-7eac0e3b9c0a&quot;,&quot;69752f8c-7d3f-44e5-8d6a-6aa6933d9b1b&quot;,&quot;3f53c52e-7ad2-4843-9fc6-db09628f888a&quot;,&quot;2338e317-1090-49f3-8435-71e5cd030392&quot;,&quot;a52f4eca-cce7-4a7c-a514-f29d5253e207&quot;,&quot;a2f02181-abac-40b6-b8cb-ac1fd528764d&quot;,&quot;21332f8d-d484-418d-9292-1a06e3341beb&quot;,&quot;8c225fe2-d214-45f3-9112-b72d94447b6e&quot;,&quot;69bd0f9b-0f04-4133-ac03-5cfa5595ce62&quot;,&quot;44bbb12b-99d3-4527-875d-918075b1e5c6&quot;,&quot;6b19a317-c6a2-4944-b6ea-a83d91de8382&quot;,&quot;e62654fe-562c-47ff-8588-d76f34bcc388&quot;,&quot;ce895902-b4dd-40ff-9ab8-28127059f216&quot;,&quot;155ff05b-2c8b-4269-a3e2-59aa7d36c980&quot;,&quot;da760ff1-af40-479d-8f90-eabb47d34dd6&quot;,&quot;3379cb80-be86-4b27-9f7b-bc0e01aac7ec&quot;,&quot;e33ebe1b-8a22-489f-a509-e8399f7ae0d2&quot;,&quot;add76953-cd0a-4bd8-b24a-bf028a77c213&quot;,&quot;958a73cc-4a8a-47ac-9f64-bfd8b26ad5ea&quot;,&quot;4c1ec771-3814-4438-b5cd-5fbdef796cae&quot;,&quot;0566177e-aad3-463b-af03-53a78c858ea9&quot;,&quot;67e9fce3-919b-43a3-a5c9-8a85a365e139&quot;,&quot;67867343-b0df-4347-b926-821e5abde1f1&quot;,&quot;412fadb5-f292-4710-bcd1-80baf5a8360f&quot;,&quot;4cddc803-ec48-4cd8-8b85-309abbe10972&quot;,&quot;2489d220-4936-42c9-aa2e-df2fec825cea&quot;,&quot;e4a7014f-f097-4f63-8c60-da45c26760ee&quot;,&quot;7725e8dd-604c-48f2-b674-50ec726039ac&quot;,&quot;7c57a77b-9a56-4957-b63a-9503899c515f&quot;,&quot;0b55c838-2d0b-417f-af5c-086b0de21f2a&quot;,&quot;ec61a516-4381-4e33-bc82-eadda5d92f2a&quot;,&quot;39727674-124e-4d9f-9551-765deae44bb7&quot;,&quot;f4eb2b39-1f94-4f1a-b9c2-2b0eaa1a27a1&quot;,&quot;9b7f3ca0-0e9b-424b-8579-90c3ce6cdfbf&quot;,&quot;eb3e2b9d-feb5-4777-877d-c1ff0c27492e&quot;,&quot;550b06bb-08b9-413b-8d4e-5615edf65c76&quot;,&quot;373ad103-7b09-4114-8288-e5777a1e0b3d&quot;,&quot;3575b1f3-1178-4a3c-b907-6e3ba177fcec&quot;,&quot;5d067c40-5422-4d6f-9b3f-37a5368596dc&quot;,&quot;7dc66e4d-345c-469b-beca-8608c5e9daac&quot;,&quot;c3aeb02e-fd52-4b09-b902-e797f14003ef&quot;,&quot;f988018c-d51e-4edd-971f-f718c382dab3&quot;,&quot;179eb6c9-32b4-42d9-ae1a-9d1e461e237f&quot;,&quot;92cd1c50-ba95-4df3-b287-4c2ca3facdfd&quot;,&quot;06ac9434-8467-4aa2-9d02-76d4878485b8&quot;,&quot;5c13d87f-4230-4189-b56e-ece0bb5c9b50&quot;,&quot;0eecd07b-9392-4ed7-974c-ba222d15523b&quot;,&quot;487bf1a3-2864-4d35-861e-781b20836536&quot;,&quot;e04dacd8-0e57-45b0-adec-86cddb52bbb9&quot;,&quot;70ee08ea-2f7b-4143-afbc-905a4919d001&quot;,&quot;703377ee-f249-440c-99bd-a262a7a5691e&quot;,&quot;93d5768d-a74d-40f9-b420-036cc454e3eb&quot;,&quot;3b5fe7d7-bc60-4d42-be91-222f9d87f782&quot;,&quot;ef2f0f0c-eaa3-45b3-9726-281211f428c4&quot;,&quot;1d042a4e-1312-484c-bd6e-c9581fd35bb9&quot;,&quot;2f96bd45-f269-4fb0-8ca2-5fb24c55ec9e&quot;,&quot;d785c822-267b-4e31-aafd-7e2c57ad2657&quot;,&quot;4ef08311-ffa9-474b-b090-8e36d64c054b&quot;,&quot;3b5139cc-5264-4e28-bd48-a39855f668a7&quot;,&quot;12643dca-6512-4d4d-ba96-163e854aea27&quot;,&quot;b5f91291-0567-47cd-b7d4-9a3461824810&quot;,&quot;6d188aae-2919-4930-82e9-9d29ed160433&quot;,&quot;0cf834c6-ab8e-46f1-a6e8-5bb2cc442fdf&quot;,&quot;352cf587-f230-49a4-9230-cff010d884e8&quot;,&quot;16be5cc3-3821-467c-94c0-08f245631326&quot;,&quot;5bd5398d-47ea-48c9-b55c-5f8c7201f2a1&quot;,&quot;d1e70d2c-af9c-4e0c-88af-38c3f8973dc9&quot;,&quot;3a14241c-1d0b-4808-98eb-70ebdaaf54e8&quot;,&quot;6aab9311-83ea-4519-b7fa-53084c47760f&quot;,&quot;afb40f72-fdda-4f8b-a51e-2fecf82dbfe8&quot;,&quot;d1ccdba2-615c-41d1-b17f-47345525836a&quot;,&quot;a748e262-8327-4734-98e0-e8066dd2d1cf&quot;,&quot;b2a46eb2-1d19-4f6e-8c99-c02c050d0072&quot;,&quot;46bc8478-adba-4ef7-a4eb-89c121cfb7f9&quot;,&quot;e1dcdc14-f582-4d96-9845-4bcf0f98dec2&quot;,&quot;412dc893-d295-4623-b404-abb36e3579c2&quot;,&quot;4f21fed5-ec0a-4751-9f56-3e996d2160ba&quot;,&quot;538e23c7-7eaa-472e-9384-060e9fd4cc59&quot;,&quot;64249715-9ce0-422e-bc8e-487851300497&quot;,&quot;8f05b7e2-4083-49f2-83d3-57c330b32271&quot;,&quot;4618fe6c-2b53-4f50-8f60-9b0ff6a141fd&quot;,&quot;e3d67b96-f80a-4e42-8d24-c8730ccc0b1b&quot;,&quot;af7d802b-936f-4c74-a80b-979e2faef2ea&quot;,&quot;bb368876-1b1b-44fc-9dfa-a35e8f2033be&quot;,&quot;807fe2fb-8fd1-4675-809a-48fd0b9bb671&quot;,&quot;0bba391a-8da2-4483-a278-2eebbf9b9d2d&quot;,&quot;f6ef968f-de3b-4abd-aec7-5ef782d24602&quot;,&quot;3088992e-6421-42ee-a79a-d03a7410d68b&quot;,&quot;48d07f3e-083f-4c67-a41c-1b239e176288&quot;,&quot;0730afcf-8a8c-4a73-b223-f5516c660367&quot;,&quot;25dd3f02-791a-4131-bcac-4ddc73e75b58&quot;,&quot;ec1e7823-9acb-4970-8b7f-4d9e55a562eb&quot;,&quot;b269229f-b7cd-46bf-9b12-e8fbf82c7ed6&quot;,&quot;f7864d4a-6721-40bd-b0db-2b507fdec60f&quot;,&quot;b176c69c-e687-4cb5-b017-9f4ec81d208b&quot;,&quot;65d960db-53d9-45b6-a29b-216f0af0516b&quot;,&quot;4986aea9-2868-4540-974e-da0df1194664&quot;,&quot;3bc31ad9-fad6-4808-9f04-a033df7f4fd6&quot;,&quot;2b0447a6-f88f-4a62-abb6-41643b1250d1&quot;,&quot;ea354755-c365-4f8d-bf5c-6a173ccad5ce&quot;,&quot;42ed84a8-365e-483d-bde6-b5d296ae85ca&quot;,&quot;5eb0b955-7c52-4e35-8e18-9776914c6e69&quot;,&quot;cf801bbb-eba7-4195-b8cf-2ac15c9b1e25&quot;,&quot;661f20e1-f2f7-4f27-bcba-0221dd710bd0&quot;,&quot;7dd49788-d11f-475c-9e5a-09827d4687f9&quot;,&quot;a0221281-1ce9-4283-a515-ecf41dd69aa6&quot;,&quot;85393819-1ea9-4b4b-93a5-e86452ecee12&quot;,&quot;80481c53-b8a4-491e-ad9b-2a5292caa30b&quot;,&quot;50fc1434-d4cb-47ad-ba84-fdca2c55348e&quot;,&quot;250fc906-1ff7-495c-a220-1b8a4b2f3aa0&quot;,&quot;804a5bb2-a5cc-442b-bd5f-ff087b0e548e&quot;,&quot;08860dca-f56e-44ab-8e32-fdd7f1775d0f&quot;,&quot;3c305b0f-3f24-4c35-9c94-3ae0af1d0da4&quot;,&quot;7de0f991-c005-4ccf-b5ea-4765c41735e2&quot;,&quot;6e40b97f-f699-464a-9f72-2efb26e4ddf3&quot;,&quot;58162be3-10cd-4f69-8e14-11d2e665e5b6&quot;,&quot;ac984928-fe76-4b0b-947d-26972bb10ba9&quot;,&quot;ff40d58a-07ed-429f-ad6b-eefbc7becf3b&quot;,&quot;d7ec0cf7-3270-4823-958c-649853da6174&quot;,&quot;b88239bb-8e91-4d7f-b6c0-6a3e6c37282a&quot;,&quot;9fbb6c79-6817-4dda-a207-e93fc540da66&quot;,&quot;02343c38-9a47-4eea-8796-31f7aa51dcdf&quot;,&quot;0109e2bc-fe00-4033-9e92-ba7ec9afdf26&quot;,&quot;ec2f5bc3-5f52-4a78-be9f-5ffe9ba62036&quot;,&quot;72d37678-b5e9-416e-ac71-989d61a71d57&quot;,&quot;1bcc64c8-32e5-402d-b9da-38e05791410f&quot;,&quot;3b8960f4-e994-49f2-9ff8-1b53c9db3721&quot;,&quot;de5e1d33-60a1-47a4-83d4-6b39fee92ee0&quot;,&quot;822e2a43-3b16-4e4f-a7da-760c75ca77e4&quot;,&quot;9bcc71cc-2a58-4373-b28c-cf5a6c570aba&quot;,&quot;c8679513-8984-4280-b4f9-e611e305e6b5&quot;,&quot;1ab786f5-e511-4d3a-8f8b-73f824665212&quot;,&quot;d5784457-31b6-422e-a8ea-47789fb51e7a&quot;,&quot;29787ce0-8276-4500-bd2b-1d4e0fb991f2&quot;,&quot;e7638259-7b1f-406e-aeae-e88adde11b18&quot;,&quot;3c6284c5-1918-4643-bdd0-55db341492f1&quot;,&quot;246d070e-59b6-4b3d-824b-221615ad2bad&quot;,&quot;3f594687-6629-4d8c-b983-3ddc43101381&quot;,&quot;30557d1c-2c5a-497b-853c-a03e3f453e2b&quot;,&quot;40e9d727-b660-438d-b30f-5085d9d0b382&quot;,&quot;b94a0217-ec85-4889-a59a-5903a9621322&quot;,&quot;4de6aca6-e489-4486-88c7-3d6d9d70d3cc&quot;,&quot;33307d96-1c14-4af8-911d-1a724e524275&quot;,&quot;49192dd6-256d-4889-a30a-f7806d089e46&quot;,&quot;ca0d6a49-ff47-4cdc-9b0e-4a4d4cd38fd0&quot;,&quot;a2002128-3018-4f28-86ce-7ced2b39bc98&quot;,&quot;3909c25c-b9dc-4335-828e-8f73222dbe8a&quot;,&quot;cbe8549b-34e6-4897-9f5f-d1ab4497e5f3&quot;,&quot;71578c47-28b5-476b-9def-6587a19ff7ff&quot;,&quot;1c4b7035-f846-4cac-8dcf-4173b1e9f3cd&quot;,&quot;23d7dc2b-0cd8-48f1-93cb-0d36daf0c97d&quot;,&quot;98de52a1-d9b6-4d24-abb4-8ad13d0adfa9&quot;,&quot;06517386-c870-40af-8092-cd269be6fb8c&quot;,&quot;4cb81552-63d1-4ab5-8d38-3eae7cea2b3e&quot;,&quot;6432db1c-67fc-4e09-8b4b-095db45aae7e&quot;,&quot;bb50e2f2-afa6-41f2-a64d-fbf3f1f18516&quot;,&quot;f5fbb971-bed8-498f-ab60-8c55c33e64f0&quot;,&quot;b3259724-4366-47fb-8784-c425b216c9ba&quot;,&quot;0155a776-f3af-4135-baa9-93a1fbedfe7f&quot;,&quot;657b3cab-c9cf-4117-9835-b314ab3178d1&quot;,&quot;b71a6497-9280-4f91-909d-6e422217334d&quot;,&quot;a45b7dd1-b20a-4f87-bcb9-7b6496a10692&quot;,&quot;3f49201a-a101-4fc6-beb3-8cad1d9f452e&quot;,&quot;5cf3a579-6f8b-481d-b7dd-f2f32cbaaad4&quot;,&quot;a9f5cfc7-18a1-46fa-8e7b-e6861a5e241d&quot;,&quot;b1944b8d-38b0-4c17-b686-58f1f1983be8&quot;,&quot;5ddb314a-3f9a-4fb2-b50c-54df625c0acd&quot;,&quot;3caee997-ae9b-497d-855e-bdd09cf189b4&quot;,&quot;81fcca60-9c96-415c-8a52-37c77fc079a6&quot;,&quot;ec4ed467-3d5e-4a85-a41a-eae8aceb1e71&quot;,&quot;3a0b259b-059d-4c8e-9005-01499088a18e&quot;,&quot;cec12863-fab1-4d9b-bcc0-d4bf91d81587&quot;,&quot;522f0395-8b7b-4e2c-85a3-df9fc375068f&quot;,&quot;d04e1928-a048-477a-acc1-fa6c8d463284&quot;,&quot;e04a706f-9c5e-45ca-aaa3-ff0af0812d91&quot;,&quot;8eac0252-44f8-4722-8244-e0be1cd7fdf4&quot;,&quot;920a7c67-8f77-46b0-8a41-c4d4a12b37be&quot;,&quot;43c3cacc-b17e-48af-a969-4160f3cce937&quot;,&quot;6ea3c1ab-68db-451b-996a-6ed3a73bd4ee&quot;,&quot;455d7484-0380-42c1-89ee-68dde29a754f&quot;,&quot;f6cdc370-5127-4345-ac27-c403e47513c3&quot;,&quot;0d730004-828f-479c-8c3b-36cc543f5a2b&quot;,&quot;de9ace5f-fc76-4c7b-9506-347bba74c6b9&quot;,&quot;bcb8b321-42d3-4b90-b334-b92b7b97b735&quot;,&quot;36644222-9922-46b9-a580-69a4b3b64725&quot;,&quot;33dda841-b701-48e6-ac9c-0183ef862093&quot;,&quot;1e6c58ae-f6c2-4548-b4f5-a973a91a8d0b&quot;],&quot;failures&quot;:[&quot;4fb6eb36-09ca-4b87-82ed-337a076e7f4c&quot;,&quot;9da6a71e-1619-4168-85a6-45e0ed5bbb30&quot;,&quot;1e8ebf4f-3dd4-4fc4-a78f-898c0883e249&quot;,&quot;427a94a0-6c09-4a69-875e-f514bbcd2776&quot;,&quot;51d9d9d7-e699-4b9d-871f-952dcc4bf94e&quot;,&quot;6d518e6b-194c-4b82-aa31-c1c521068039&quot;,&quot;cfd573f6-6077-418b-91b3-6cbf5689880e&quot;,&quot;f030d29a-2b31-4588-9b54-6bbcb3e25344&quot;,&quot;5d67727a-d857-4e6d-9e5a-e5d51ec455e3&quot;,&quot;ab8bd899-5118-4537-9126-87002fc87ef6&quot;,&quot;e2a5b60c-70aa-4a56-95a9-52ffb43b3b60&quot;,&quot;03042178-66af-42c8-93fd-9e41d9273509&quot;,&quot;dc378a8e-b730-405e-ac37-5ff1457c7935&quot;,&quot;3392a955-25bd-4a0c-9deb-4e57f6ec8fa5&quot;,&quot;e111541f-8d97-4f67-8e42-34478e4541e0&quot;,&quot;a2d7a14e-68a6-4710-b2d3-a5181741d10a&quot;,&quot;b42858b7-1e2a-4c89-bda2-dddc73657cf6&quot;,&quot;cc677b6d-49de-4374-90e9-82253b07d499&quot;,&quot;cc1fede1-6ec1-4bcc-9fb8-f6c930034799&quot;,&quot;63c618bb-df34-4370-938e-7c04b9bb773b&quot;,&quot;4d6e824c-f502-47ef-83c1-5351fa6c24a1&quot;,&quot;bbf32a9b-148b-45d9-8457-31e7e15e353b&quot;,&quot;b45873d1-1c17-4ff5-9bf4-d612f9a64ec9&quot;,&quot;46ba9250-7a97-4812-8777-9dcbd33c3adf&quot;,&quot;4e5074c8-9af3-45ff-8b0d-4c14ce19031b&quot;,&quot;7b34c13b-3f8f-48d1-9837-4e04ccf5dd62&quot;,&quot;1e39631a-d161-4347-9080-c4f1b54232df&quot;,&quot;d47b8dbe-2a12-4fcd-bce1-20aaa0ec223e&quot;,&quot;c2f3dea2-ea11-495d-ac58-812cbdd51681&quot;,&quot;89993dcc-2035-4eff-891d-2a339c345c2c&quot;,&quot;ae562830-19dc-47f9-b922-95cbd7c816df&quot;,&quot;20727009-9502-45d5-bd04-798a411dd0e7&quot;,&quot;bd1ff79f-fb6d-4d8b-8742-9c9519abccb1&quot;,&quot;6c8717f8-46f5-442d-8bac-601da29f733a&quot;,&quot;003fd81f-2dd8-4f73-8955-33855f2dd7a9&quot;,&quot;840e627f-e8c2-4112-87d1-30e2930b535a&quot;,&quot;3baa25bb-c011-4114-8cbf-42ff3032271c&quot;,&quot;6dd3618e-8665-4b85-829b-0d926d006800&quot;,&quot;c1705af9-a25e-464b-9c4c-c998a9f60ccb&quot;,&quot;d5f838d3-6f0d-4d26-b8e2-74ca796f04cf&quot;,&quot;37f74d5e-ed05-4042-ab0d-d2c2a6d8ac8a&quot;,&quot;b2cda22d-651d-45cf-acac-111837e0d5a0&quot;,&quot;f731e4d2-80b2-4103-a046-e42f043e57c8&quot;,&quot;aaab0e86-81cb-4f57-a9ca-1e72e1c56f8e&quot;,&quot;7b049412-13c7-42b9-93e3-a22a0836eb65&quot;,&quot;a64ed82e-f53e-4d20-8e51-27f8baf5f993&quot;,&quot;c14d9d6e-25f0-456a-86fa-6134e4c8c226&quot;,&quot;68e8628c-880b-4fbc-867c-4ed2987a6141&quot;,&quot;06a2fbb5-7f33-480e-90f6-183b276dcec1&quot;,&quot;c337dd8e-31bb-4033-9a6d-8865e938f77e&quot;,&quot;3d15c032-cebe-490f-9574-0e87b9263b39&quot;,&quot;c4175c39-390c-4597-ae46-fbad47263825&quot;,&quot;ca2b081b-1e3d-4be9-8764-1a4b899cc1a4&quot;,&quot;d0d9dadf-307f-4242-815f-a8b45a8c8250&quot;,&quot;33f90d0f-e391-449b-a10b-2892fcffa697&quot;,&quot;f9430bf1-645f-4a6a-91d3-1323eb95316f&quot;,&quot;7a009800-3ab1-4332-be12-92683fd2f499&quot;,&quot;f9c265da-f103-4c03-814d-e74d950bac64&quot;,&quot;edf50624-c4c5-4087-97b2-7425d98add21&quot;,&quot;b9d6d5bd-b4bd-4c01-8c18-17383db6c578&quot;,&quot;f85c2f6c-ab1d-4a63-bbe7-1da758b45b60&quot;,&quot;3890b202-87bd-4dcb-a4cb-7c40b03369d6&quot;,&quot;93a7a589-ef22-4946-adf7-316c9dc51aa0&quot;,&quot;1890d64d-82ff-4b36-a0f5-1e6c4c56b6fd&quot;,&quot;f8569b0b-717f-46a0-a0a5-7da05866e248&quot;,&quot;358c1505-857c-4177-94e2-5ee17793ad85&quot;,&quot;44580e7b-aaa1-4f9e-8d89-0a80a8a6a6b1&quot;,&quot;e013e016-d032-41c8-87fa-9aad9a6f5caf&quot;,&quot;25d41fbb-f84f-4dfe-999f-8c83f31fa5ef&quot;,&quot;9a3ded5a-30b0-4f83-beab-4ab42406c3ec&quot;,&quot;5099d721-ab3c-418d-9518-4f86c254718b&quot;,&quot;a1b53dd9-61ff-4659-b5d5-17c6da3a884f&quot;,&quot;6aa9bdbd-8b89-433e-90b4-294e01d090cd&quot;,&quot;3052c63f-1c9d-4a00-bb57-8fcf38606cd2&quot;,&quot;dd979cd3-cddd-4d17-b158-0f45cfe8349d&quot;,&quot;0378829f-ea67-4f80-9248-7fc889b71b74&quot;,&quot;c3ad2a5d-50ac-43f2-983a-cf371d75a34f&quot;,&quot;0af7de1e-79e0-4cb4-a6c2-01deebd4086b&quot;,&quot;104f8b60-7171-42b4-bf76-e80d4796221e&quot;,&quot;64260776-4e64-4f08-9183-01b53687ee28&quot;,&quot;91b5060f-3f15-4ddf-9c35-fded5431bb6f&quot;,&quot;556f07fe-ab0a-4eec-83a4-73a0f5dc9e41&quot;,&quot;7e053b05-80ff-4eae-8771-c512672169fb&quot;,&quot;cbae9172-f50a-4cd4-87a4-d2059c93b7cd&quot;,&quot;99ead2e3-4558-4ce6-8213-6e1888d15b5b&quot;,&quot;d72445bc-c999-43fb-9ee9-87a0211b7074&quot;,&quot;5e480124-8ceb-4e13-9ab3-bee60037bd82&quot;,&quot;81cf4211-4518-4eef-80b9-2d42868afa17&quot;,&quot;0ac5cc5a-733d-43b7-9443-f30697978d23&quot;,&quot;c8c499a3-e8bd-40be-8eb5-5daf82284134&quot;,&quot;5874e620-51ea-4749-9c6f-528b0ad7f210&quot;,&quot;42226697-4d3d-4066-aceb-f884cf2e89e5&quot;,&quot;504dfa39-291e-44cb-a579-f8079009babe&quot;,&quot;357024af-9716-49aa-96de-8a958da8bd82&quot;,&quot;013aff5a-2e2c-49ad-8fe5-7c0728e7a3b1&quot;,&quot;755c69be-709f-4137-8eda-088f8bc4d7c4&quot;,&quot;482cd698-5e59-48e2-94fa-4bdf8b53460b&quot;,&quot;5e58e6a0-dbdd-4e6a-9fdc-bebb50f13906&quot;,&quot;5f27d717-ede2-4485-8ba7-651f894c30b9&quot;,&quot;0928ae48-9c77-4e51-b557-93f0caad0b2e&quot;,&quot;46b5e64f-d3c0-47fe-b7e2-667b52aa1048&quot;,&quot;ac02e6da-d097-4980-8139-035acbbdace1&quot;,&quot;a5de16cc-69ba-4bbd-a601-ae43574f2a20&quot;,&quot;64f3b3f7-9c2c-4a83-8883-fade4350cfdf&quot;,&quot;6c641dec-8f98-442d-8505-d678958fa328&quot;,&quot;20e60042-7a06-40bc-98fb-77d6ee86e449&quot;,&quot;ffbe02f4-7d9a-4148-aeab-d9e2a9e9a079&quot;,&quot;d3e74a73-4d98-4322-84a1-23437cb65c1f&quot;,&quot;37797a78-2da0-458c-8d69-9925bc90c1f4&quot;,&quot;e0b01cc8-aca7-45e3-8459-81666f69964a&quot;,&quot;18f0247e-d05a-491b-83c4-9722428196eb&quot;,&quot;6ae98206-feda-49af-8499-ddddd324b04d&quot;,&quot;35b8fa32-082e-47ce-8522-f3df5ee66cbf&quot;,&quot;c48b8450-c893-41cb-b9f8-c3a7c77b6cd6&quot;,&quot;e66d711e-d1b5-4757-8941-1b075458cf3d&quot;,&quot;e52106bf-7113-4c1f-b9af-cb750077e610&quot;,&quot;41c02f62-f11f-4f69-ada3-584d81a989f2&quot;,&quot;930d092c-54ed-4140-91a8-c8dd556d67c1&quot;,&quot;8056627d-f3f5-41fb-9d87-67d6a211b5a7&quot;,&quot;6fe5d882-cabb-441f-bfc7-b3588a932534&quot;,&quot;ea652236-938e-4ee1-b695-0b57b31b7e67&quot;,&quot;627b9a63-5edb-450f-9949-80dbcd39d2f2&quot;,&quot;756ffe60-8118-4b54-9906-067b8937f4f2&quot;,&quot;241e9e65-1efe-434f-b249-9dd7362876f6&quot;,&quot;417d73db-0988-4b4b-a8ba-ebc0d65fa567&quot;,&quot;09303048-4946-46cd-a45c-07b090774e84&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5600331,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;4f2edf2f-895c-4aa6-ab9c-6170b2dc9dfc&quot;,&quot;title&quot;:&quot;sample test&quot;,&quot;fullFile&quot;:&quot;/usr/src/app/test/puppeteer-mocha-basic.js&quot;,&quot;file&quot;:&quot;/test/puppeteer-mocha-basic.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;helloworld&quot;,&quot;fullTitle&quot;:&quot;sample test helloworld&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:183,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\npage = await browser.newPage();\n// await page.goto(&#x27;http://192.168.10.180:5500&#x27;);\n// const [p_target_user] = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\nawait page.close();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;02bfb727-df7f-4474-9261-7d0d0919fc78&quot;,&quot;parentUUID&quot;:&quot;4f2edf2f-895c-4aa6-ab9c-6170b2dc9dfc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;02bfb727-df7f-4474-9261-7d0d0919fc78&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:183,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.2.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;output&quot;:&quot;report.html&quot;},&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;app&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/usr/src/app/mochawesome-report/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/usr/src/app/mochawesome-report/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>