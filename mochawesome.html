<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:2,&quot;tests&quot;:491,&quot;passes&quot;:309,&quot;pending&quot;:0,&quot;failures&quot;:182,&quot;start&quot;:&quot;2023-01-10T15:39:32.802Z&quot;,&quot;end&quot;:&quot;2023-01-10T17:22:39.592Z&quot;,&quot;duration&quot;:6186790,&quot;testsRegistered&quot;:491,&quot;passPercent&quot;:62.93279022403259,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;3b911f18-2cbf-409d-8f41-ce0863615894&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;title&quot;:&quot;click test&quot;,&quot;fullFile&quot;:&quot;/usr/src/app/test/click-test.js&quot;,&quot;file&quot;:&quot;/test/click-test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;helloworld javascript -&gt; keung_2022 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; keung_2022 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8995,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3b71b28e-3789-4866-a566-af8b9a677446&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; keung_2022 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; keung_2022 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8502,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b11ac9a2-bb94-494d-86b2-c275cbf5b31b&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; keung_2022 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; keung_2022 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7758,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ba7b03b5-f302-402a-aa71-f95d9659ab63&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; keung_2022 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; keung_2022 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7547,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fa452d02-7e85-4ffc-a89a-fa85e5771ec5&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; keung_2022 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; keung_2022 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8492,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bab04a6a-d59e-45af-ad32-aa203640b45d&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; keung_2022 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; keung_2022 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8007,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ab0866e3-c744-4ce4-ac1d-1b4f5fc33116&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8376,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2cdc3930-8300-4537-aaa6-c6df56f74354&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7497,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;93aa96f6-a527-49f6-84db-d506e5da3d47&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8027,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4511613c-75c8-4be0-941f-a50b50080a10&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8312,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;278665c0-9b65-4037-a56f-d8c61669b7d0&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8349,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2999e3fb-5568-44d9-b3e2-b7125365cf34&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7842,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9d61c351-ebc3-430f-a5c0-8a89a1505cef&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7711,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d54614b6-4071-45a5-909d-eb2d7b4c6ca9&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; memegod420 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; memegod420 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8345,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8484aacd-4c2b-4236-ae59-3393d64e4de0&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; kylema11201 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; kylema11201 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7994,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e74ec574-c620-43d0-8f4d-3c37cac4b091&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; kylema11201 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; kylema11201 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8368,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;519bb9ae-b4c5-4fe7-8f09-24634dcefddd&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; kylema11201 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; kylema11201 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8523,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9fb4ec89-077f-4d08-9ff5-064fc8f96908&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; kylema11201 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; kylema11201 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8682,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7622bd02-6aa6-4e23-872b-34c7c16d0ed5&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; kylema11201 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; kylema11201 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7466,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;23a88aa0-a673-43be-9468-6b15b8a29fd5&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; easy_assignment_hk -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; easy_assignment_hk -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8496,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d83442f7-0a81-4eea-a486-9563a24e0ff2&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; easy_assignment_hk -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; easy_assignment_hk -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9208,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7382e753-fbe2-4f26-8c23-33120e290eea&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; easy_assignment_hk -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; easy_assignment_hk -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7975,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;53f71f50-6db3-415f-b5e4-4e1414af8603&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8465,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3008f43a-e0d9-42a6-848b-79eba5af85de&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8000,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8602a527-dffe-4094-a68d-39522e9f5344&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8369,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;83a974f5-5a24-41bb-a44f-0fb28060f93a&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7870,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c790ce62-7d7c-4738-9e04-492b1b921ff7&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8464,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e44ec646-2779-44a5-ae63-10a19c37dc2e&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7701,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c1fd9621-b0bc-4c51-9c07-1854620cecac&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8297,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4cb7c46e-2eab-4e3b-82b4-53bdbee98b10&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; IT.godgunner -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; IT.godgunner -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8410,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8cd001b7-b4b4-45c8-b749-0d04a04e29e5&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8065,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ce72427e-c901-4a69-8e18-50254a27ef84&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7872,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c4cb5346-3fa4-4069-8deb-249c5ed7b103&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8263,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;28962e99-e460-4486-bbd6-8182482af4a3&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9194,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0b2be9f7-3a27-43d7-9225-8c5fbc7ef3de&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7770,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fcd87c22-8b2a-4bdc-85eb-a36aef3d8137&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8090,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c2b097a0-58cd-4fae-9e77-956b7bf6ff12&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8189,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;77354ce3-3b88-4865-bdcb-0b17d589a09d&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8590,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;534ff563-081a-43d7-9a7f-ac872cb712b9&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7594,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0c4409f5-9b14-43fd-b9c3-58650762f93f&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7851,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f09fea9-75d4-4d54-88c5-36c0fa7749c2&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7973,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8fdd0138-fb29-40d4-9020-34b545f7a43b&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; codemyhomework -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; codemyhomework -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8087,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b6311454-f428-4d3c-9613-3cd8cb6d3d1a&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; shawnzhang1122 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; shawnzhang1122 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8547,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;019dbdef-8688-465c-94e2-055f7f24a3d0&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; shawnzhang1122 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; shawnzhang1122 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8278,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;87a354ae-a794-484c-9704-dbe3d861444b&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; shawnzhang1122 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; shawnzhang1122 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8554,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e797094a-0d37-49c8-9bcf-b6e5a90b1431&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; shawnzhang1122 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; shawnzhang1122 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8271,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fbf8af95-0c7f-473c-8030-0560cdd21122&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; shawnzhang1122 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; shawnzhang1122 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8177,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c07511f9-32e1-42d5-9175-e603381126f3&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; davidzhih16390 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; davidzhih16390 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8668,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6e80f30d-b9f1-4c50-b6b9-57fa25620527&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; davidzhih16390 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; davidzhih16390 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8820,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2125b356-2443-4c3f-a2da-6afafacb56d1&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; davidzhih16390 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; davidzhih16390 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8082,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;892a66fd-ed27-4a64-898c-bbedd80e1b4f&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; davidzhih16390 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; davidzhih16390 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7693,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a738ab62-fe8e-411d-9d13-e9de043a8d34&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; davidzhih16390 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; davidzhih16390 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7246,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;56ba786b-4a9f-4fd9-862c-e034222db98d&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; davidzhih16390 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; davidzhih16390 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8160,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;41b6def5-f7d2-4cc2-b549-cf01c12a8050&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; davidzhih16390 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; davidzhih16390 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8343,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b62a3fe1-32d7-44a0-8a81-86a3191a7793&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; davidzhih16390 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; davidzhih16390 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8273,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f4ef6221-f078-4cc6-9e03-968d91d838d9&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; davidzhih16390 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; davidzhih16390 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8160,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1b92c1a2-b4e6-4588-bc9f-61b7575e4889&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; davidzhih16390 -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; davidzhih16390 -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8328,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47c677fe-940a-4844-a2be-1865c55fc607&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; davidzhih16390 -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; davidzhih16390 -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7140,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e9e4adc1-20fb-4643-afcd-ded101fa09bd&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; davidzhih16390 -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; davidzhih16390 -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8129,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;72f73409-3e31-4ee8-8ed0-117bf2d67a80&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; davidzhih16390 -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; davidzhih16390 -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11458,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f7439aef-93d4-4f8b-9cb1-33f49b5cbccf&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; davidzhih16390 -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; davidzhih16390 -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8430,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e3465140-ff04-4768-ad66-4a58211615ab&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; stocksamuel -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; stocksamuel -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9233,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb7f0b97-f4e6-46f6-bfdb-bf1031ee13ab&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; stocksamuel -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; stocksamuel -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8218,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c12cffce-e2b5-4f13-a0b9-077a316bda77&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; stocksamuel -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; stocksamuel -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8166,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a4b25d42-d590-4f45-8d59-5bd06605fd3f&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; stocksamuel -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; stocksamuel -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8907,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;30f2c9df-668f-4cf1-bbe2-70b57bb237bd&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; stocksamuel -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; stocksamuel -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8286,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;60fe4481-2312-4fca-bd9a-383e3d1d32da&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; stocksamuel -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; stocksamuel -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8232,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4d43ebc3-120f-4f11-9476-1b9b4dbbb4bf&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; stocksamuel -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; stocksamuel -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7989,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f79dc03a-6246-4366-ae96-7de0f0cd546b&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; stocksamuel -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; stocksamuel -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9549,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;41992b40-fe1d-43fe-bb8a-2bfb5b98ab12&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; stocksamuel -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; stocksamuel -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7972,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;01b68599-9a48-4258-a2a1-11de3a8d2db6&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; abcdqwr -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; abcdqwr -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8213,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;db93201e-c4b1-4a28-a713-404f612dcabc&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; abcdqwr -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; abcdqwr -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8349,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;341780dd-751b-466d-b458-4d87b2d0a9ba&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; abcdqwr -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; abcdqwr -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8271,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9e9109e7-5101-4f2a-9f46-101b82ad918b&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8071,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f9193f8a-9438-460d-8caa-d53645f11686&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8314,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;929db3c4-15a4-472c-a177-903a1f8522a8&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7675,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8321c8f1-8f09-4275-86c5-71fdd484f880&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8227,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fa519f9a-6d11-4509-b169-2e962f08d20f&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7591,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dcf3e69f-c4e5-4ba5-8370-6c7659c7cdd4&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8273,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b0c0b6a8-71bf-46fe-bd3f-73ce8781dc2c&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8347,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;93a5893c-7c96-41d6-81e0-d6373af53e8c&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7835,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7989b63b-ce83-471e-985c-8258c905d6e8&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7946,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;533f27aa-7eab-4cf1-99df-6c0674b66b36&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8308,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a72c9865-0967-4fa1-8154-88a8c034f323&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7978,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a896e2e3-508e-460d-b170-c9db0a2d101b&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7113,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5538c45d-b53f-4032-b536-4ec2d8cc8b8c&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7514,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a6360eec-fadb-40c1-a25f-8a19024d72dc&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; niotech_hk -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; niotech_hk -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8014,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7674cb0b-e5bb-45bd-9b15-7b1af6d68c7f&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; hopeubest -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; hopeubest -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8214,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5165f1bc-3258-4b17-a961-285f0291172c&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; hopeubest -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; hopeubest -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8431,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;df8b125f-2b11-4ee2-90f0-7a697c098efa&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; hopeubest -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; hopeubest -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7592,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;929e1817-9d9b-4348-9ab3-cc1d6495a2f4&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; hopeubest -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; hopeubest -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7715,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;13264534-4c5c-43a3-b27a-fb802b855069&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld javascript -&gt; hopeubest -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld javascript -&gt; hopeubest -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7667,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aa271bca-a40e-4184-b1ad-16fe3ef4c7df&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; keung_2022 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; keung_2022 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19260,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;d65b27e7-7881-4903-9289-64dba64cd39b&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; keung_2022 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; keung_2022 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15461,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;8093b7e7-665b-41a6-92eb-b10cad67c200&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; keung_2022 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; keung_2022 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15733,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;d0c78ced-463a-44b0-9588-707182c617ea&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; keung_2022 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; keung_2022 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15828,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;d8ac57fd-6110-4e90-8d04-158ada7d462e&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; keung_2022 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; keung_2022 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16016,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;cde3891c-8b8a-4958-8c0d-407e66796277&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; keung_2022 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; keung_2022 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16124,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;98ead225-4734-436a-ab74-06d33cf37c5a&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; keung_2022 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; keung_2022 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15824,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;75427cb0-2414-4030-9159-ad449e84c1a7&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; keung_2022 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; keung_2022 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15976,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;83271ef1-6722-41b4-99d1-08b119463197&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; keung_2022 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; keung_2022 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16141,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;bfbc7a9e-ca88-4f0a-bf29-9e418463c636&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; keung_2022 -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; keung_2022 -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15631,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;ecbcd180-c545-42d7-96d5-258d80e09011&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; keung_2022 -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; keung_2022 -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16241,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;4e353e8e-6b28-4419-ad6b-785294c5221a&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; keung_2022 -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; keung_2022 -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15989,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;70bf468f-f05c-497e-a72b-76f74022c468&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; keung_2022 -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; keung_2022 -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14952,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c2ac9904-af65-4869-a044-fc44822b6b05&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; keung_2022 -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; keung_2022 -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16241,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;3edf7aae-07a8-4e8a-9b60-e0fa4234664a&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; memegod420 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; memegod420 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9716,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;54e07a55-ef74-41c2-83c1-cf4ac61cd27c&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; memegod420 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; memegod420 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10391,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1d296cdf-2a3b-4af4-a0c6-8302f468359d&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; memegod420 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; memegod420 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9661,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;21a505a5-9f40-48cc-b2f4-a19d91accfb5&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; memegod420 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; memegod420 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10691,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e31c13bf-535a-4eec-921b-30786364622f&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; memegod420 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; memegod420 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10573,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ce6efc41-9b46-46c2-aa74-919f0c50c80c&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; memegod420 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; memegod420 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10569,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5452c917-849b-4d19-a51e-61901b0da5b7&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; memegod420 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; memegod420 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10960,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;547330f4-6e07-41c3-831f-fdcd9a21c070&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; memegod420 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; memegod420 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9919,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;75583d31-6e09-4c36-93b8-c07ef09feab3&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; memegod420 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; memegod420 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9620,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3a4541ae-d028-4247-ba19-2ca3b2696c7e&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; kylema11201 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; kylema11201 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22649,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;b63bd484-518d-4cae-9f11-dc92caa4bd92&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; kylema11201 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; kylema11201 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21720,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;eeaf211f-0d19-44ca-ab05-5e08087f47a0&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; kylema11201 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; kylema11201 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21881,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;fe5352d6-b048-42c1-9ba6-92ea8b2a5f11&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; kylema11201 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; kylema11201 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12044,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e4de20c9-a45d-454b-a41b-04c7e985577f&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; kylema11201 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; kylema11201 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21930,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;8f4dc781-9478-45a8-8f87-9aae2eb4677b&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; kylema11201 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; kylema11201 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22619,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;8a0c9a44-ea6b-4adb-afe9-b9d6827187b9&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; kylema11201 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; kylema11201 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21890,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;f8585ccd-ced0-4579-82f7-15483749d44c&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; easy_assignment_hk -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; easy_assignment_hk -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9355,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;002194c7-bccb-462c-9e1c-55902ba59625&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; easy_assignment_hk -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; easy_assignment_hk -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9523,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fbc56031-c589-470b-b492-4a1fcd032d6a&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; easy_assignment_hk -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; easy_assignment_hk -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9079,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a1c5ef0a-f4d3-4867-8f09-bdd08433c2e1&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; easy_assignment_hk -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; easy_assignment_hk -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10078,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e0d82d66-637e-43c4-a812-0890395df7aa&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; easy_assignment_hk -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; easy_assignment_hk -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9211,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e2221979-2924-4a95-b218-2dcc48f7cf4b&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; easy_assignment_hk -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; easy_assignment_hk -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10643,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8a6f1b94-1bad-4957-9639-85d5d27409ce&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; easy_assignment_hk -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; easy_assignment_hk -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9900,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9089d764-530b-419c-b4f4-a531222c47b8&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; easy_assignment_hk -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; easy_assignment_hk -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10339,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;92ebf42c-4a57-455f-b02b-c2bbfa9ca738&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; easy_assignment_hk -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; easy_assignment_hk -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9623,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f1752fab-33f9-46c0-9bba-b8232b5cb0c5&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; easy_assignment_hk -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; easy_assignment_hk -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10479,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b266a183-48ac-471b-b31e-e0c3adf23fc6&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; easy_assignment_hk -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; easy_assignment_hk -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10130,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3a936604-b445-4830-aafd-27adf88b88df&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; easy_assignment_hk -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; easy_assignment_hk -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9429,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d6ebb78f-120f-40af-8593-08d1a034d3eb&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; easy_assignment_hk -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; easy_assignment_hk -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9410,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8ca0cff2-2448-41d1-9cb5-7f5749504a18&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; easy_assignment_hk -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; easy_assignment_hk -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10482,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;832d1acd-8def-4fb2-8720-12464b6fd6d2&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9849,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3336c768-c107-4f27-8025-022779b31e6d&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9475,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3a2bfea4-48ee-43c9-b962-9fe8da676ebe&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9279,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9b79270c-4861-4f57-a6b3-7fd54f517f23&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10225,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c93f36ae-dee2-4300-9399-8c98d3d93b24&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9886,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;71f5340c-1cb4-4bb2-9b16-2ac3ec23dcf1&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9140,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f1ebdc38-1313-4efd-9547-abc1ee4e5180&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9584,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cb99b84e-975c-4a0b-ae0a-cf2ae13f2106&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10568,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b2eee973-e7a4-4458-9c14-c3e7c9ccbc5f&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9286,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;01850b8e-edce-4043-a93b-f1674c33e955&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10654,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cb7432b3-b924-4958-a132-bb3da07d50c2&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10035,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3f098fb7-50ed-4dae-a335-d95d793f9cd7&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10921,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;186e8a68-5278-46d0-8c7a-a17ac1cd0fc4&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; IT.godgunner -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; IT.godgunner -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9555,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;900f2231-573b-40ab-ad11-3d08deb3005e&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; codemyhomework -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; codemyhomework -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9522,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8a629ef4-5625-411d-8a8d-c36ab96b7e7b&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; codemyhomework -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; codemyhomework -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10269,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;147873f6-ddc7-4db7-80d5-e40376a9a3b4&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; codemyhomework -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; codemyhomework -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9098,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f94e28a4-f62e-42cf-b8d4-123210bc0996&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; codemyhomework -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; codemyhomework -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10281,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ef6573ba-3a30-42a9-9f4f-8e6d59544673&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; codemyhomework -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; codemyhomework -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8900,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;506017ad-3e77-4a43-8bb2-99f99f7dc25c&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; codemyhomework -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; codemyhomework -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10683,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;244660ca-118a-4474-8ace-d8b32aed97ff&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; codemyhomework -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; codemyhomework -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10493,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7433fbcb-ffc7-486c-8a1a-ca80ad297e13&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; codemyhomework -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; codemyhomework -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10939,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f799df1c-aac8-4481-bde8-7fb4813f7373&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; codemyhomework -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; codemyhomework -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10413,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;406e6a4e-a9d0-4963-b2fd-27e0a2a254e3&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; codemyhomework -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; codemyhomework -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8913,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b5ca63b4-7cba-44e8-9ed7-799eac605722&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; codemyhomework -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; codemyhomework -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11118,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a962f652-95f7-42e6-bb9f-5d182258b774&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; codemyhomework -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; codemyhomework -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10135,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;93f9cc24-a3a5-4724-958e-454e14830354&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; codemyhomework -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; codemyhomework -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9696,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dc2959ef-0f9a-420c-80a0-f816734fd221&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; codemyhomework -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; codemyhomework -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8416,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7bede8fb-27b3-415b-b1a8-aa4be137d07a&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; codemyhomework -&gt; 14&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; codemyhomework -&gt; 14&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10280,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;70248f8d-d386-4d32-aca8-7ea2c4d3c1cb&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; codemyhomework -&gt; 15&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; codemyhomework -&gt; 15&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9511,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b6939c69-6ea5-4ce9-a4ad-0f4d84684b56&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; codemyhomework -&gt; 16&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; codemyhomework -&gt; 16&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10174,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e3ae2e62-5fd1-4f35-b406-a285a1eb0893&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; shawnzhang1122 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; shawnzhang1122 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22486,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;69f9f5e6-b9ed-46e8-9273-53a4a84db8cb&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; shawnzhang1122 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; shawnzhang1122 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22586,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;8487fbdd-e279-4328-b070-03eaed1975fa&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; shawnzhang1122 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; shawnzhang1122 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22747,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;0530de95-1e23-4c12-81bd-ca78c581d66a&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; shawnzhang1122 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; shawnzhang1122 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22817,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;5a8c38c5-de73-4e31-a187-6f939c1d353e&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; shawnzhang1122 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; shawnzhang1122 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22366,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;4f4b3eba-0da6-47fe-819a-ff0ba931a66e&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; davidzhih16390 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; davidzhih16390 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15867,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;c033f57f-7ef5-46bb-8be2-e9fb88569549&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; davidzhih16390 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; davidzhih16390 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15126,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;253ebb15-7dfb-48eb-9c67-62683b75b708&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; davidzhih16390 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; davidzhih16390 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15127,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;c8ce073d-153e-41bd-802a-4321c25d9709&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; davidzhih16390 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; davidzhih16390 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18225,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;289fe481-c4d0-4ef0-93f6-c262a3748abf&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; davidzhih16390 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; davidzhih16390 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15381,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;5a956bc4-849a-4f6f-ba9c-306a2ad466b3&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; davidzhih16390 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; davidzhih16390 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15663,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;6e1c6371-92aa-4a0a-9756-862158fd49fa&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; davidzhih16390 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; davidzhih16390 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16165,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;2282dc52-36e8-45a7-81f5-b28d9bfd7ead&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; davidzhih16390 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; davidzhih16390 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15549,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;8677cdd7-ab9d-41db-83c2-5905749edb37&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; davidzhih16390 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; davidzhih16390 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16048,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;c27961e9-9e1d-4653-b217-cab10c680c90&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; davidzhih16390 -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; davidzhih16390 -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16117,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;b88bb2b0-fb76-40f2-acae-5dfdb2ad2b2b&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; davidzhih16390 -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; davidzhih16390 -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15420,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;8a7977b4-f0ec-4b21-85b6-1750741fa3da&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; davidzhih16390 -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; davidzhih16390 -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15640,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;416cfd3d-1215-4c55-a4ad-123b90486ca8&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; davidzhih16390 -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; davidzhih16390 -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15700,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;b5d21122-5f97-4e96-8e4c-e37b5dcf1ac4&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; davidzhih16390 -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; davidzhih16390 -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15292,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;1788fea1-2925-478c-bf0c-423060377680&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; davidzhih16390 -&gt; 14&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; davidzhih16390 -&gt; 14&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15692,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;6c001b47-331c-41c0-b3f7-b0f69154017b&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; davidzhih16390 -&gt; 15&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; davidzhih16390 -&gt; 15&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16253,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;e7166a6b-4b52-46bc-a184-1927a970a3eb&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9132,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7c439648-ab0b-4397-9360-f75091772f00&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9060,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;31c2503b-6727-4ba3-b9cf-da454587b6cd&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10088,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b3ba8ad2-448f-4469-9403-2988eed9f4ff&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10363,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6edaf4df-5f9a-443e-9117-bbb985191092&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10294,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eecde793-f30f-4e9c-9d19-54ee99721130&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10904,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a94995d5-1a2c-45cd-98c4-1c9bc3b5fca7&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; stocksamuel -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; stocksamuel -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9998,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2bf59c55-67d8-421e-bb94-afdcd6123f64&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; abcdqwr -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; abcdqwr -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16444,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;d5a7c266-bb3f-45dc-b867-78169265d744&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; abcdqwr -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; abcdqwr -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16056,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;8bb756df-bffb-4460-a5e4-350fb98f206a&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; abcdqwr -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; abcdqwr -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17007,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;0798b80d-84d8-44e0-a933-edb32628af65&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; abcdqwr -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; abcdqwr -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16773,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;b1ed4e15-f5b3-4ef8-a580-b92ef08becd7&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; abcdqwr -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; abcdqwr -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16248,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;6a9c46cf-0369-48b0-9438-2326c131dbfa&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; abcdqwr -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; abcdqwr -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16212,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;d82c6505-f2f2-457f-9101-277344c1fca0&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; abcdqwr -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; abcdqwr -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16277,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;f08b1c86-e904-43d3-856d-3cfdf4461b09&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; abcdqwr -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; abcdqwr -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16499,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;8d3dc57f-cd1b-4597-ae32-d4e405bdf795&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; abcdqwr -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; abcdqwr -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17130,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;9f383526-98d6-4917-949b-60c0eafc0cd5&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; abcdqwr -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; abcdqwr -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16019,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;015e1a6a-f442-4d9b-bf04-bf2760ccbc1b&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; niotech_hk -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; niotech_hk -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10411,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8ddec749-6b29-4064-a659-ae8192568b78&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; niotech_hk -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; niotech_hk -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9682,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e6aae4b0-273a-4864-9eb3-25d3d790279a&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; niotech_hk -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; niotech_hk -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9342,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;83417de8-5dd8-4903-8e44-8cbf0c6c9302&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; niotech_hk -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; niotech_hk -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11464,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b1c73e6e-3d89-48fe-8a2c-e2173f33606c&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; niotech_hk -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; niotech_hk -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10477,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;912a6a2b-072f-4e01-9ce4-83552837e5f2&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; niotech_hk -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; niotech_hk -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10306,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0ad0a82b-c11a-4c12-8c7a-eb7b3372d106&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; niotech_hk -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; niotech_hk -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10501,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5b1d4564-64d2-4449-a782-c2e0b9b7f4e6&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; niotech_hk -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; niotech_hk -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10193,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;140918fa-01ab-489e-a6a1-b7cf8f9f96fa&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; niotech_hk -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; niotech_hk -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10324,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5010b763-e215-4157-8f82-564e0e25452e&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; niotech_hk -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; niotech_hk -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9463,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4074020d-1043-4c1a-8bef-48507e3eb1e8&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; hopeubest -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; hopeubest -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9456,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e95ad52-155e-4fd5-965f-9a8deaf16525&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; hopeubest -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; hopeubest -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10509,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1279b73c-b7c3-40f6-bdb6-bf7da8bfc276&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld python -&gt; hopeubest -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld python -&gt; hopeubest -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9491,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2bf4d308-8d37-4eaa-b881-6c66a46f0afc&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; keung_2022 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; keung_2022 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9352,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f09fc9f-300c-46ef-99c2-14aa9b22e7f0&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; keung_2022 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; keung_2022 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10562,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b297b31b-4a99-442a-ab31-f58394ac8284&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; keung_2022 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; keung_2022 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10379,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dfbed96a-c7aa-4492-b0eb-d9eab8ae2af0&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; keung_2022 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; keung_2022 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10486,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;61ab9c0c-9fbe-4c6e-8df8-3d064f338434&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; keung_2022 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; keung_2022 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10464,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4d372358-1e8f-44a7-bf0f-2aebccc261a9&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; keung_2022 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; keung_2022 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9693,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;43c321b4-a5f0-458f-b2e5-700154506cf0&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; keung_2022 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; keung_2022 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10820,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4276e647-d625-4765-bdf1-2e2aa745eac7&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; keung_2022 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; keung_2022 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9855,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8d93efd2-288b-40a3-974c-d97b09019d2a&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9445,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5919eadd-f1b1-4f23-ba81-bbd4f137b72c&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9841,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ef378d26-d4dd-4a28-97f8-7a4fdb623ba4&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9233,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e1c4170-460e-415a-b8da-e59f73e7938a&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9784,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f237fca3-d044-4ab6-9c85-ded561e14023&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11595,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fe7324b3-46e1-4cb5-97c4-077deaadd4ff&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10241,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fd47006f-6e23-48c1-84e1-8118ec4e6efb&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9725,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1c068081-feed-4655-a63e-4aed235a1ca2&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9255,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;18dc66b8-c266-44f5-9527-cd129b08db87&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9446,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e83f5b5b-4a56-468e-be2d-1a639f3159a1&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10238,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e78fe087-e7b2-4865-a899-834c7e676e4d&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11460,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d885d0ec-4cc5-496b-be5e-e4963674a0dd&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; memegod420 -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; memegod420 -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10658,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1ede931e-ebb4-4730-b84f-4ed237efd4e6&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; kylema11201 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; kylema11201 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22108,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;3b97160c-db6c-4aa2-966d-0331400b25ae&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; kylema11201 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; kylema11201 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22006,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;e38e8b3e-d92f-4948-b5b4-630a0b0f87b7&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; kylema11201 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; kylema11201 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22471,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;3c8bb32e-0493-403f-8273-9fed7f31da15&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; kylema11201 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; kylema11201 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22626,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;1528b847-8f2d-48af-bde2-adf609de267d&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; kylema11201 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; kylema11201 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22630,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;001f3008-ee87-45a7-ab4d-6384f1bdb92e&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; kylema11201 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; kylema11201 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22143,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;c894ab85-ad70-48b5-b1ce-7278ca4e488a&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; kylema11201 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; kylema11201 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22723,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;adf0ba07-62cd-4b96-8988-a5cf15672ed7&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; kylema11201 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; kylema11201 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22260,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;f7d32125-b3b3-4545-a07d-09a5641ff1f9&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; kylema11201 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; kylema11201 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20904,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;6a06e124-6754-48f9-ad72-2a1f374f23f3&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; easy_assignment_hk -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; easy_assignment_hk -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9376,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;97af373e-14aa-4f46-8910-af550061b6c4&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; easy_assignment_hk -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; easy_assignment_hk -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9152,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b06fed29-94cf-4885-bb50-ca78fa59ca05&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; easy_assignment_hk -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; easy_assignment_hk -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10185,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;481a3129-1288-453c-bc43-5237224826fe&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; easy_assignment_hk -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; easy_assignment_hk -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10595,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;61098086-095c-480d-bd46-92f2ab1cd91c&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; easy_assignment_hk -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; easy_assignment_hk -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10670,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f40ecdb-6135-4227-b0ca-9056a2c6cf24&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; easy_assignment_hk -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; easy_assignment_hk -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10662,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7311656c-3120-40ed-9894-078dbd719dc9&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; easy_assignment_hk -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; easy_assignment_hk -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9902,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9b5fb06-7e17-4af2-8435-c7c6bfd7aec8&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; easy_assignment_hk -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; easy_assignment_hk -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9745,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9bd6dfc3-951a-4aa1-bec9-b80841d00ffc&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; easy_assignment_hk -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; easy_assignment_hk -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9924,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3661a2d0-f529-484f-a85b-ef1206363b5b&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; easy_assignment_hk -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; easy_assignment_hk -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10217,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;01a6cf36-1a63-4779-9d43-1112f024c2cf&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; easy_assignment_hk -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; easy_assignment_hk -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9888,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5ea849e0-a069-4bf3-b7a1-19624515de4e&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; easy_assignment_hk -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; easy_assignment_hk -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9301,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;af5ea5d7-1ac8-45aa-8ad5-e2b748f2b025&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; easy_assignment_hk -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; easy_assignment_hk -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9563,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f1c58aa-ade7-4571-9669-5529297f0ad4&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; easy_assignment_hk -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; easy_assignment_hk -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10193,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;650ef513-5c4a-4e9f-aeeb-3faa03d3269a&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; easy_assignment_hk -&gt; 14&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; easy_assignment_hk -&gt; 14&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10591,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f280d0ce-fb82-4ffb-92d2-da74e12b262c&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; easy_assignment_hk -&gt; 15&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; easy_assignment_hk -&gt; 15&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9318,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;32a626c6-f413-42ac-a29b-f3ff3b46403a&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; easy_assignment_hk -&gt; 16&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; easy_assignment_hk -&gt; 16&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10301,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2bd97b74-da54-4800-8d48-4a9ce2295877&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; IT.godgunner -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; IT.godgunner -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9891,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b048d922-f1c0-48a5-ae4d-609e7ef508fe&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; IT.godgunner -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; IT.godgunner -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10524,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0f9bbc46-715e-4e97-929e-68612841ef9e&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; IT.godgunner -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; IT.godgunner -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10329,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;833a7a7b-20fe-45e9-9589-c5587416135a&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; IT.godgunner -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; IT.godgunner -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10359,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b0e1f53e-5d65-46a3-865b-fca75b350d69&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; IT.godgunner -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; IT.godgunner -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10103,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;941e44f1-6209-4136-8517-499a4ddf70a0&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; IT.godgunner -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; IT.godgunner -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9264,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;05c5e926-a3a9-4cc4-8094-d1605164f753&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; IT.godgunner -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; IT.godgunner -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9768,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2cfe6cf9-2cc2-46f4-87c7-4cba93b56c12&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; codemyhomework -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; codemyhomework -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16058,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;e4584598-d25b-4127-b011-b20f82ab7141&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; codemyhomework -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; codemyhomework -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15695,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;15375109-317e-4c4d-b5a8-1afd163fa40d&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; codemyhomework -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; codemyhomework -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15634,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;baeff899-7ebb-44b0-a8c9-63911f9d288c&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; codemyhomework -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; codemyhomework -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15044,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error (Target.closeTarget): Target closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error (Target.closeTarget): Target closed.\n    at /usr/src/app/node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:71:63\n    at new Promise (&lt;anonymous&gt;)\n    at Connection.send (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Connection.js:70:16)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1199:44)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;5855ddd1-a813-47a6-b527-5a5faa02a22c&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; codemyhomework -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; codemyhomework -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15844,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;f9533cbf-756c-4b72-8902-f199a33d41ee&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; codemyhomework -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; codemyhomework -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15288,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;6cb80a42-eef7-4e52-abae-d92132229c82&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; codemyhomework -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; codemyhomework -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15438,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;eb74f5a3-d81f-42e0-9bd9-a4266da8618c&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; codemyhomework -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; codemyhomework -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19300,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;4df579a6-dadd-49c5-bb94-2974ce8c0d73&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; codemyhomework -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; codemyhomework -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15059,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;94d276df-5cb7-4520-90b2-b23524cc80b2&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; codemyhomework -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; codemyhomework -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15411,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;b510e8a4-b310-4d22-8f12-bd223ee12107&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; codemyhomework -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; codemyhomework -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15689,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;4e5062bd-5769-42df-b787-384e8da63133&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; codemyhomework -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; codemyhomework -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15156,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;a58c96dd-69bc-4aba-8f72-722b7af625bd&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; codemyhomework -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; codemyhomework -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15543,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;4a3d726a-77ed-4e3a-8bc5-9c5b022dfcca&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; codemyhomework -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; codemyhomework -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15801,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;6164f9a3-5302-4713-a5cf-e72dd6d6b771&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; codemyhomework -&gt; 14&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; codemyhomework -&gt; 14&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15237,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;cd3ee429-ce28-441a-a9f9-1359385b7374&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; shawnzhang1122 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; shawnzhang1122 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10396,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a3b5decb-ff7b-4650-9375-7d745984e431&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; shawnzhang1122 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; shawnzhang1122 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10480,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4e31b310-2096-4915-a8ec-e34426bc2926&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; shawnzhang1122 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; shawnzhang1122 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9981,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2ba91f52-9042-499b-af4c-aa683fb28537&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; shawnzhang1122 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; shawnzhang1122 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9613,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5cb33b4c-b9e7-47fb-a302-9e51f8273cfd&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; shawnzhang1122 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; shawnzhang1122 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10767,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b8bacde4-9138-47d3-af4d-a980e3f5b83b&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; shawnzhang1122 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; shawnzhang1122 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11153,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b7f9785c-a5a2-441b-8a5c-c646fc1244a6&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; shawnzhang1122 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; shawnzhang1122 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9581,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d994bbe0-0b22-4e62-9510-574c5e4014e1&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; shawnzhang1122 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; shawnzhang1122 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10318,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ea545af0-096d-46d8-9f3a-7467b2eef03c&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; shawnzhang1122 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; shawnzhang1122 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9318,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c86be597-40bc-43a6-bd51-4dfb69c10ed7&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; shawnzhang1122 -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; shawnzhang1122 -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16337,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;be79f5a3-ab25-40c5-b51d-6d081840cdfa&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; shawnzhang1122 -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; shawnzhang1122 -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10630,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f2a5f3a8-1f2c-4e3d-bb61-7b5e120b6600&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; shawnzhang1122 -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; shawnzhang1122 -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9656,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8d935ed0-977a-4f53-ac03-a06fcc14323b&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; shawnzhang1122 -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; shawnzhang1122 -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11021,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;07ee3549-ca69-4ed3-b69a-44e837a7b563&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; davidzhih16390 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; davidzhih16390 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9593,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e9623844-c6d9-4b24-8d68-be80f23f25cb&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; davidzhih16390 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; davidzhih16390 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9459,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8c6e6426-63d8-4de2-85d4-dc40f5587ec7&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; davidzhih16390 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; davidzhih16390 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11104,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9a2a7028-8034-4268-be88-31074ceab151&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; davidzhih16390 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; davidzhih16390 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10228,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;568c7150-1202-4fab-bc39-517bea549d5a&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; davidzhih16390 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; davidzhih16390 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9612,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;17ee6356-8d31-4933-9179-c4f8f25b8676&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; davidzhih16390 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; davidzhih16390 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9654,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b880fcf5-b559-4728-a505-3c5e6a5d47f9&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; davidzhih16390 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; davidzhih16390 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10846,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f2d17b40-857f-4c94-9304-88312dd6e36a&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; davidzhih16390 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; davidzhih16390 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9430,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8b8dc56f-2343-4137-8965-405fae058cd3&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10280,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;010bf7e8-debd-49c2-bf49-86f4e6fbc50e&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9471,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;68ba614e-d61f-4513-b202-360695415f8a&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10102,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;442abe3d-2b6b-4a40-8d5b-39a1817fdc1f&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10085,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;077af2c8-7faa-40b5-80b1-427656c11252&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9606,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a403ca62-9e83-4bff-8742-7e0a402817de&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10239,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1e710c4b-e48d-48d6-b355-2a381e3fd517&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9956,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a3178aa4-125d-4026-a862-e74fd00ef4dc&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10401,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f53cc472-758d-46dd-9d59-35b429a4ebd3&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9630,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0a1373ae-f142-4eeb-b4e5-b19fdb031217&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10224,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e861b8b9-4554-46ff-8710-6c6a196eaec6&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10176,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;458c9f1a-1292-42e3-a4e3-14e2e0de58c7&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10427,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8ca71bf8-b3bc-4260-8b9d-57a58db38a4b&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9573,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3af0ab87-7d6a-4d2f-9dd1-6319051b64dd&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10485,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4f24b84d-f894-41c8-b8a7-104f985cccf1&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; stocksamuel -&gt; 14&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; stocksamuel -&gt; 14&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9287,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dac57bf8-dd9c-42fd-b9fd-23cd6b9247e1&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9183,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d4fc2a21-6b1b-40f0-b27d-94cc718588e8&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10062,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ba18d4ba-d9e9-4e16-9294-bfc1bec72fd9&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9136,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3f047e37-e071-4616-a41d-ad63ecd90b5e&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10647,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2b988113-425d-49d1-9507-63f0025e9c3f&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10200,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;020610eb-99b1-4b93-97c5-13362c60f712&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10095,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f7fff1ea-e01f-4f26-8d27-9f07e82aed98&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10404,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ac4107a3-e076-412a-944a-6a8619c21c7f&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9632,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f2dc7ecf-a058-4790-84ea-e66e4bff1887&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10296,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ef958b96-766f-45a5-b750-f0084e962be7&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9675,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;af641653-f966-422f-894b-0ffc7977b1ef&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9534,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c99f1b68-8c57-4551-9249-3af2b2cba2fd&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10462,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e2c4f900-64cf-434d-a4e9-b7d2a5bea282&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10107,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b89b9de7-2fb9-4e38-8478-32981bf03f97&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10868,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;accae7f4-4410-4ed8-a24e-bf80c6d67018&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 14&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 14&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9987,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9063aeaa-ad8a-4a88-bf5d-bfec49dc624f&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 15&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 15&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10508,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0f8d853b-f786-4430-a04d-ec6407ee79be&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; abcdqwr -&gt; 16&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; abcdqwr -&gt; 16&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9836,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3183dc6c-86a2-432e-94ca-8b8f98ba8ddc&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; niotech_hk -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; niotech_hk -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15352,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;542b3865-a7f6-4584-8008-16dbe07db6d9&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; niotech_hk -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; niotech_hk -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15950,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;92174543-f852-47bc-a038-b1a96d2cc3ee&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; niotech_hk -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; niotech_hk -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15909,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;177ad2a4-f2db-4017-8318-db08bf512853&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; hopeubest -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; hopeubest -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9134,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fac031bc-a299-464c-bb2c-77b15159729a&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; hopeubest -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; hopeubest -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9977,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;54314d2e-b388-4aa8-8962-cf3ed39d48b7&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; hopeubest -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; hopeubest -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11757,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4580a491-0f03-47b0-a60e-0a550ca08193&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; hopeubest -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; hopeubest -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10296,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2211d2ed-6dc3-42f9-aa74-15c7b62b5ead&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; hopeubest -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; hopeubest -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11378,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ea46aa88-7f1c-49ce-a10d-2294d9b69f33&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; hopeubest -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; hopeubest -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9474,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ea464709-c0f7-4aa8-8f36-7209b21a6996&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; hopeubest -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; hopeubest -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9664,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;99f3a40e-5c63-4522-8b1e-1fd5de756f55&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; hopeubest -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; hopeubest -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10055,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;668e4733-8bad-4884-8adb-6e896cddfeb2&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; hopeubest -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; hopeubest -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10571,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;519e7829-2e7d-4f72-974f-eceb0349be62&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; hopeubest -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; hopeubest -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10456,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;edb06f01-c421-4a51-b123-b8e3c25f329a&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; hopeubest -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; hopeubest -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10209,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a4820787-0781-4d6b-afaa-504d2e4dde2e&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; hopeubest -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; hopeubest -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10480,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;28feaa4a-72f4-4737-8fa0-f47d4fca61df&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld coding -&gt; hopeubest -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld coding -&gt; hopeubest -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9506,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;90b8197b-7996-4ced-8394-89fc19789d81&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10450,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fcaeef2d-5e18-4f02-89ba-12cb11d8fa34&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11602,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7de774d9-7ca5-440c-999e-6b5b778469e0&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11780,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e356e07c-c0a1-45d5-bbc8-e0911216d8ed&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10414,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7ec01c08-1070-427c-b5e5-3390d3396561&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10324,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e115888f-a272-48e9-87ef-10ffb68d6fa5&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9293,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6adbdf05-ac79-49d2-ae49-b03650e31978&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10048,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0da0025d-a0f2-4a6e-96e3-d3486f2bfbc3&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10314,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f2e363b0-63e0-4558-825d-08fc79f890a9&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10460,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6b4f11d3-389f-4d8b-9e42-1a3ac69fd6a6&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10379,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;29ed7a27-c548-4513-b564-adf7b1f9eafd&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10578,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;21c2112f-9caf-487f-91db-0f4d45e7d342&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10179,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c8e7ffb2-661c-4d08-8d81-cd0a9a4381ce&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9867,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ba7cffa0-76e2-47df-8e6c-027d7d2d730b&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9157,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8bb7d787-bba9-4532-978c-daed5b3db51a&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 14&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 14&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9511,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7cad96f6-93d9-4da0-86e7-aad88600c5de&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 15&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 15&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9639,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3b527e49-469f-4d11-bb5b-3d5f7142d588&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; keung_2022 -&gt; 16&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; keung_2022 -&gt; 16&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10788,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;91ff9d18-8709-4a5e-bcbc-19910c330563&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; memegod420 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; memegod420 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9524,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;88ee55fa-5697-4096-bb4f-f6580de66ad7&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; memegod420 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; memegod420 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10054,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9280bd40-bb32-4ca8-8443-c1eeab51b22b&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; memegod420 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; memegod420 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10060,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;be0db6f3-7fe3-4c3d-8c9d-597a8c33011f&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; kylema11201 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; kylema11201 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22412,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;9f5dbb7f-6620-4786-b8d9-06c9575378e6&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; kylema11201 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; kylema11201 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23436,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;4650d429-8026-41eb-b650-1cc9b9f22ca9&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; kylema11201 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; kylema11201 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23452,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;eab36b0d-2c85-4667-9e85-f7ceffc2a61e&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; kylema11201 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; kylema11201 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22904,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;cfc95bd6-12a7-44cd-8228-9cff56ec731b&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; kylema11201 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; kylema11201 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21769,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;af3fa8d8-a1ba-44ed-85a0-84a4cdef0d5d&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; kylema11201 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; kylema11201 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22480,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;9b6a1e94-ab68-47dd-93af-999bbef5df5b&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; kylema11201 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; kylema11201 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21737,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;87c0261e-5266-4705-b85e-ef7ed1cf9e68&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; kylema11201 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; kylema11201 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21752,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;e47dd96d-21a8-40d6-a40a-1e7853e83fab&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; kylema11201 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; kylema11201 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22605,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;7c32d611-1efb-4f46-bcbc-f9558f98f324&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; kylema11201 -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; kylema11201 -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22129,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;f8aed0d5-9fa3-49fb-85d2-fe7de3a80ba3&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; kylema11201 -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; kylema11201 -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22350,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;02989bb6-e0cc-451e-8243-caa2d2e010e1&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; kylema11201 -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; kylema11201 -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21807,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;51b9c705-1a02-4ee0-824b-1f30ad425c97&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10759,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fb9a7f10-5c16-4da4-83f3-a24b189060ef&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11102,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;75094d1b-a457-4a77-b0f2-17d14fc7c00d&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9585,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9bf37dcb-3b1b-4527-816e-7ca2ccf08f20&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13069,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;51c8b085-a397-46cd-bc2e-3c6f91d0220b&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11037,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4af35457-5783-4b70-bdaa-7d77f65ef54e&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9638,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;408ab1d4-5dd1-4bdb-89ea-0b33ca157bb6&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10065,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0310e68b-4523-4ca6-ad44-7420af7bd9b7&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; easy_assignment_hk -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; easy_assignment_hk -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10344,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b0d5dc9c-0490-4d4e-afe0-466aefb17578&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; IT.godgunner -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; IT.godgunner -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16791,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;39b5732a-b9c4-4b2a-b4e1-6821fdf441a9&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; IT.godgunner -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; IT.godgunner -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16457,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;b73ae02b-c0fa-4dd5-a1a4-f3a91f23b6fe&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; IT.godgunner -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; IT.godgunner -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16544,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;2857de05-d36b-47b7-bb8e-6f14b779a030&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; IT.godgunner -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; IT.godgunner -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16911,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;9f615091-0ff0-466b-a420-bb1833a5d723&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; IT.godgunner -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; IT.godgunner -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16367,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;5155f626-7831-49d4-8a33-4f68a643dbe0&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; IT.godgunner -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; IT.godgunner -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16224,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;c5ade3f1-b71b-4d95-8f02-6fe7d5e074b6&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; IT.godgunner -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; IT.godgunner -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16750,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;0a539741-b72e-4d32-ae73-9af4c6e4608d&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; IT.godgunner -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; IT.godgunner -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17630,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;64f38f4c-e26c-47cb-8a0e-0f65764412ce&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; IT.godgunner -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; IT.godgunner -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15965,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;e1032829-89d8-48cc-aaa6-0dadbd853599&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; IT.godgunner -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; IT.godgunner -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16104,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;f4b31a4d-cf38-4875-8561-86c56c7b1f3a&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; IT.godgunner -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; IT.godgunner -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16207,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;8e937634-d0ae-4567-9b68-4d8942ef2a44&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; IT.godgunner -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; IT.godgunner -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16161,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;e47ec54b-6055-4cc7-a006-aa5f11730d5e&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; IT.godgunner -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; IT.godgunner -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16542,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;005493bb-37e5-4ebc-858a-f7de5febd019&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; IT.godgunner -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; IT.godgunner -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16627,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;22dfcfce-9025-4a76-9db9-4b9f70bf3176&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; IT.godgunner -&gt; 14&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; IT.godgunner -&gt; 14&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16849,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;224150af-bd03-4749-b3c0-4f99029e7735&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; IT.godgunner -&gt; 15&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; IT.godgunner -&gt; 15&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16626,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;49721210-081b-4cc3-ac2a-9e9e0e45b4a0&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; IT.godgunner -&gt; 16&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; IT.godgunner -&gt; 16&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16732,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;b1d54c60-5f48-42bb-b03b-69a2a1e529de&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; codemyhomework -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; codemyhomework -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15382,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;089761bf-0d9b-4eee-9831-0c29f4a37fec&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; codemyhomework -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; codemyhomework -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15372,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;672de0c8-0dc9-41cf-b93f-c1b101ef829c&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; codemyhomework -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; codemyhomework -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15208,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;08ba1b09-ca6c-40ba-b015-77966317de20&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:26677,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;16ea50c6-c20e-4440-b0ce-09efa9dbb0af&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:26281,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;5fac59ce-ec89-4b49-8040-f64be7b334be&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22620,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;bbf111a7-c111-4505-adce-33c3620c7e7d&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23649,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;d62b3667-3164-4229-a7f7-bc541cdcd991&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23240,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;e020b1b3-27f4-4731-8dc7-03d5f4617b70&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23493,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;d0b21bad-6cc3-4181-99ff-190445d5c8c1&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22507,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;6208ea58-d37f-4b65-a81c-a87c9629ca13&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23137,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;36eb14d4-a05e-48da-975f-4d42008d901e&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23146,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;c0d23dbf-abb7-4c09-a90a-9183cafaa86b&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23177,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;5902adca-a488-401c-876a-8017105af362&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23959,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;82e243bf-8da0-45d9-ad80-d15e03aa63bc&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; shawnzhang1122 -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; shawnzhang1122 -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22778,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;09e3a5c4-0c6a-4e1d-b2a5-58d6042c4e95&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15415,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;44080e0b-26b3-4878-8abf-d99a7eeadeda&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15819,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;317cd9b0-4f85-4f69-8210-01d09e0e1aca&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15923,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;4c794798-40ab-4fbf-95f9-3c1e2470702f&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15613,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;cc9b015f-b6ea-483a-a5f5-2a97681b43ac&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15907,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;aaaafa5b-4329-4e9f-92ae-7626b820fc33&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15938,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;72726003-d3af-4039-965a-1d5e4e949af2&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15822,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;4ef127ef-1296-4174-9ae0-c6d9cba80045&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15731,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;64f0cfd4-ef7f-4112-9a24-0ea54bc28bfc&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15178,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;58114f4f-0850-4980-ad38-658d30cdddbb&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16221,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;ec822e70-2f23-4fd4-9d32-0ac521779fa6&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15481,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;a2690efe-2db8-4b23-927c-b9bec37f8c22&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15935,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;96dafb2a-a198-4c32-a851-5177d697859a&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15761,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;5e0ca832-1822-4323-aca5-a0a7064d854e&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15551,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;2ee77d54-08c3-4cf0-a932-a05308766abe&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 14&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 14&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16097,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;e2d14e45-d3f0-406e-8992-8501a0eadeb3&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; davidzhih16390 -&gt; 15&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; davidzhih16390 -&gt; 15&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16549,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;463b8da7-6e10-4844-b240-2f02aaf70b93&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; stocksamuel -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; stocksamuel -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9442,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e8693083-9b03-40b1-83ca-c7323e619e39&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; stocksamuel -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; stocksamuel -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10328,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5b493e32-4407-48ca-af5a-addfc1cec67b&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; stocksamuel -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; stocksamuel -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9126,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0592f3f7-eecc-491f-a6a7-3753ca8c1324&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; abcdqwr -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; abcdqwr -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16669,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;691d8850-3cc0-4600-b980-638f369adf54&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; abcdqwr -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; abcdqwr -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17693,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;c54c8dee-f406-4695-a74e-ecbca093a74a&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; abcdqwr -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; abcdqwr -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16049,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;5de4fba6-2eaa-4c9d-b9a4-3fede7b195dc&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; abcdqwr -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; abcdqwr -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16520,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;a92074af-a624-4f7a-953b-9cb327215fcb&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; abcdqwr -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; abcdqwr -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16927,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;b9008072-9bfc-47d5-aa29-b5ca9b6f0355&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; abcdqwr -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; abcdqwr -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16354,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;18923388-610b-454a-a2bb-74ceb63f6c2c&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; abcdqwr -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; abcdqwr -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17353,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;41142536-5ff1-4f85-a96e-53cb4d9cc88c&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; abcdqwr -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; abcdqwr -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16618,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;9d94b628-47aa-4856-82fb-0c86419aef3c&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; abcdqwr -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; abcdqwr -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16725,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;32624b74-14ee-47ac-8000-3abd11bbaee2&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; abcdqwr -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; abcdqwr -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16009,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;ac48666a-3d9d-4cc7-94be-ab289864e59b&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; abcdqwr -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; abcdqwr -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16713,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;0ed4b741-a416-4615-a7ca-ac138e0997ca&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; abcdqwr -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; abcdqwr -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16740,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;f26b8ec4-7a09-4ad4-944e-fdf4de355dd6&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16051,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;89d2819f-22b1-4bc0-a2d8-cefac9c2f948&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16298,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;85c03f6b-5a49-42b0-b16f-fb9eaec6fee6&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17151,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;442795bc-f1d9-4983-a1c2-08c54208037c&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16159,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;13b15bf3-9839-48df-a01f-9e3f13f0f4f3&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15649,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;14bb493d-0113-4f5f-8243-bb9212cb454a&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17962,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;14a7e82c-a3ae-4010-a778-752b1ff0d4dd&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16513,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;ef23920b-f598-4d64-ae93-84004306aa10&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16831,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;0704a020-a3fb-481a-a6c1-247d926fee8f&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15969,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;2e46dcce-1c6a-4e29-821e-91c017773a9c&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17090,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;7365aa2d-3315-45b9-93c7-c5c7d265e4f6&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17171,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;02e6c37b-7138-4a7b-b3d8-4e1f0baa597f&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16365,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;7d1f9b22-3677-4d4a-a8ab-734c36f52b31&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16845,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;b12d6929-2c4d-43fe-82a2-78f67b8fa92b&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16253,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;89ae050c-c50d-4977-b95a-c17da3745965&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 14&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 14&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17152,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;625a1222-c3e8-460d-aff7-39e106041c41&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; niotech_hk -&gt; 15&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; niotech_hk -&gt; 15&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15899,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;4632025d-5594-4bfe-afa8-352abf368279&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 0&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16533,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;65829cd9-aaff-4934-bc7a-8f22562fb319&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 1&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15731,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;85855837-7ba4-4425-a11b-fcbfbd73f08d&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 2&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 2&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14986,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;63d6cf35-9608-45c6-8b72-199802810af1&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 3&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 3&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16869,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;c3d29634-c239-4fe8-87a5-9a750f5ed85d&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 4&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 4&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19574,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;0dbe175b-5ec4-415e-b288-10d67b9d8d6b&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 5&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 5&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16576,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;b5c401c3-a766-4f26-9293-f6c558fff224&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 6&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 6&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16967,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;9dd06056-0efc-4f10-8eb8-811620f07844&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 7&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 7&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17001,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;2cfea334-88ac-4df0-a654-66e695f60f0f&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 8&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 8&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16407,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;30eb0220-6ba2-498e-9f7a-413f543ae5bc&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 9&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 9&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16977,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;9b93f149-30af-4ec3-afe4-1478e0754458&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 10&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 10&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16463,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;965ad97d-bc41-4a7a-b2cc-5584c73e8e17&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 11&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 11&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16468,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)&quot;},&quot;uuid&quot;:&quot;759dc374-2a4f-4edc-b5c1-479be1a6619e&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 12&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 12&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16888,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;529dc1bf-7c47-406a-bf79-bf5dd17adffa&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 13&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 13&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17359,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;8cb5dd60-1230-4ed6-b571-e9beaf123bf7&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 14&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 14&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17122,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;1e2c75a9-2074-4b43-a18c-5edf1b467396&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 15&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 15&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16406,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;572938c6-76b2-4d23-bb58-3cab838da969&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;helloworld programming -&gt; hopeubest -&gt; 16&quot;,&quot;fullTitle&quot;:&quot;click test helloworld programming -&gt; hopeubest -&gt; 16&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16324,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(180 * 1000);\nconst filename = `${keyword}-${user}-${i}`;\nconst video_file = `${video_path}/${filename}.mp4`;\nconst screenshot_file = `${screenshot_path}/${filename}.jpg`;\nconst mochawesome_report_path = &#x27;mochawesome-report&#x27;;\nconsole.log({ i, keyword, user, video_file, screenshot_file, mochawesome_report_path });\nasync function readAdList() {\n  console.log(&#x27;loading ad blocker host&#x27;);\n  let temp = await fs.readFileSync(&#x27;./ad_list/ad_list.json&#x27;, { encoding: &#x27;utf-8&#x27; });\n  let ad_list_json = JSON.parse(temp);\n  return ad_list_json;\n}\nconst browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\nlet ad_list_json = await readAdList();\npage = await browser.newPage();\nconst recorder = new PuppeteerScreenRecorder(page);\nawait page.setViewport({ width: 1920, height: 1080 });\nawait recorder.start(`${video_file}`, Config);\n// await page.setDefaultNavigationTimeout(0);\npage.on(&#x27;request&#x27;, request =&gt; {\n  let incoming_url = request.url();\n  // console.log({ incoming_url });\n  let found = false;\n  for (var i = 0; i &lt; ad_list_json.length; i++) {\n    if (incoming_url.search(ad_list_json[i]) &gt; 0) {\n      found = true;\n      break;\n    }\n  }\n  if (found) {\n    request.abort();\n  } else {\n    request.continue();\n  }\n});\n// await page.goto(`http://192.168.10.180:5500/app/site/index.html`, {\n//   waitUntil: [&#x27;load&#x27;, &#x27;networkidle0&#x27;, &#x27;networkidle2&#x27;],\n// });\n// const p_target_user = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\n// const textContent = await p_target_user[0].getProperty(&#x27;textContent&#x27; );\n// const textContentValue = textContent._remoteObject.value;\n// console.log(textContentValue);\nawait page.goto(`https://www.carousell.com.hk/search/${keyword}?price_end=99`, {\n  waitUntil: [&#x27;networkidle0&#x27;],\n});\nconst [p_target_user] = await page.$x(`//p[contains(., &#x27;${user}&#x27;)]`);\n// console.log(p_target_user.length)\nif (p_target_user) {\n  const textContent = await p_target_user.getProperty(&#x27;textContent&#x27;);\n  const textContentValue = textContent._remoteObject.value;\n  var spotlightFound = textContentValue.search(&#x27;spotlight&#x27;) &gt; 0 || textContentValue.search(&#x27;熱門推廣&#x27;) &gt; 0;\n  const parent_node_1 = await p_target_user.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_2 = await parent_node_1.getProperty(&#x27;parentNode&#x27;);\n  const parent_node_3 = await parent_node_2.getProperty(&#x27;parentNode&#x27;);\n  await parent_node_3.click();\n  console.log(&#x27;user clicked, cold down&#x27;)\n  await page.waitForTimeout(5 * 1000);\n  if (spotlightFound) {\n    console.log(&#x27;target user clicked, cool down&#x27;);\n  } else {\n    console.log(&#x27;user not using spotlight&#x27;);\n  }\n} else {\n  console.log(&#x27;cannot find target user, wait&#x27;);\n  await page.waitForTimeout(1 * 1000);\n}\nawait page.screenshot({ path: `${screenshot_file}` });\nawait recorder.stop();\nawait page.close();\nawait browser.close();\nconsole.log(&#x27;done&#x27;);\ni += 1;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.&quot;,&quot;estack&quot;:&quot;Error: Protocol error: Connection closed. Most likely the page has been closed.\n    at Object.assert (node_modules/puppeteer-core/lib/cjs/puppeteer/common/assert.js:26:15)\n    at Page.close (node_modules/puppeteer-core/lib/cjs/puppeteer/common/Page.js:1193:21)\n    at Context.&lt;anonymous&gt; (test/click-test.js:140:22)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;2e50d11f-9f1f-4850-98c5-6fcc1bed7c67&quot;,&quot;parentUUID&quot;:&quot;b9576832-96d9-4505-9806-53b9c94d73b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3b71b28e-3789-4866-a566-af8b9a677446&quot;,&quot;b11ac9a2-bb94-494d-86b2-c275cbf5b31b&quot;,&quot;ba7b03b5-f302-402a-aa71-f95d9659ab63&quot;,&quot;fa452d02-7e85-4ffc-a89a-fa85e5771ec5&quot;,&quot;bab04a6a-d59e-45af-ad32-aa203640b45d&quot;,&quot;ab0866e3-c744-4ce4-ac1d-1b4f5fc33116&quot;,&quot;2cdc3930-8300-4537-aaa6-c6df56f74354&quot;,&quot;93aa96f6-a527-49f6-84db-d506e5da3d47&quot;,&quot;4511613c-75c8-4be0-941f-a50b50080a10&quot;,&quot;278665c0-9b65-4037-a56f-d8c61669b7d0&quot;,&quot;2999e3fb-5568-44d9-b3e2-b7125365cf34&quot;,&quot;9d61c351-ebc3-430f-a5c0-8a89a1505cef&quot;,&quot;d54614b6-4071-45a5-909d-eb2d7b4c6ca9&quot;,&quot;8484aacd-4c2b-4236-ae59-3393d64e4de0&quot;,&quot;e74ec574-c620-43d0-8f4d-3c37cac4b091&quot;,&quot;519bb9ae-b4c5-4fe7-8f09-24634dcefddd&quot;,&quot;9fb4ec89-077f-4d08-9ff5-064fc8f96908&quot;,&quot;7622bd02-6aa6-4e23-872b-34c7c16d0ed5&quot;,&quot;23a88aa0-a673-43be-9468-6b15b8a29fd5&quot;,&quot;d83442f7-0a81-4eea-a486-9563a24e0ff2&quot;,&quot;7382e753-fbe2-4f26-8c23-33120e290eea&quot;,&quot;53f71f50-6db3-415f-b5e4-4e1414af8603&quot;,&quot;3008f43a-e0d9-42a6-848b-79eba5af85de&quot;,&quot;8602a527-dffe-4094-a68d-39522e9f5344&quot;,&quot;83a974f5-5a24-41bb-a44f-0fb28060f93a&quot;,&quot;c790ce62-7d7c-4738-9e04-492b1b921ff7&quot;,&quot;e44ec646-2779-44a5-ae63-10a19c37dc2e&quot;,&quot;c1fd9621-b0bc-4c51-9c07-1854620cecac&quot;,&quot;4cb7c46e-2eab-4e3b-82b4-53bdbee98b10&quot;,&quot;8cd001b7-b4b4-45c8-b749-0d04a04e29e5&quot;,&quot;ce72427e-c901-4a69-8e18-50254a27ef84&quot;,&quot;c4cb5346-3fa4-4069-8deb-249c5ed7b103&quot;,&quot;28962e99-e460-4486-bbd6-8182482af4a3&quot;,&quot;0b2be9f7-3a27-43d7-9225-8c5fbc7ef3de&quot;,&quot;fcd87c22-8b2a-4bdc-85eb-a36aef3d8137&quot;,&quot;c2b097a0-58cd-4fae-9e77-956b7bf6ff12&quot;,&quot;77354ce3-3b88-4865-bdcb-0b17d589a09d&quot;,&quot;534ff563-081a-43d7-9a7f-ac872cb712b9&quot;,&quot;0c4409f5-9b14-43fd-b9c3-58650762f93f&quot;,&quot;2f09fea9-75d4-4d54-88c5-36c0fa7749c2&quot;,&quot;8fdd0138-fb29-40d4-9020-34b545f7a43b&quot;,&quot;b6311454-f428-4d3c-9613-3cd8cb6d3d1a&quot;,&quot;019dbdef-8688-465c-94e2-055f7f24a3d0&quot;,&quot;87a354ae-a794-484c-9704-dbe3d861444b&quot;,&quot;e797094a-0d37-49c8-9bcf-b6e5a90b1431&quot;,&quot;fbf8af95-0c7f-473c-8030-0560cdd21122&quot;,&quot;c07511f9-32e1-42d5-9175-e603381126f3&quot;,&quot;6e80f30d-b9f1-4c50-b6b9-57fa25620527&quot;,&quot;2125b356-2443-4c3f-a2da-6afafacb56d1&quot;,&quot;892a66fd-ed27-4a64-898c-bbedd80e1b4f&quot;,&quot;a738ab62-fe8e-411d-9d13-e9de043a8d34&quot;,&quot;56ba786b-4a9f-4fd9-862c-e034222db98d&quot;,&quot;41b6def5-f7d2-4cc2-b549-cf01c12a8050&quot;,&quot;b62a3fe1-32d7-44a0-8a81-86a3191a7793&quot;,&quot;f4ef6221-f078-4cc6-9e03-968d91d838d9&quot;,&quot;1b92c1a2-b4e6-4588-bc9f-61b7575e4889&quot;,&quot;47c677fe-940a-4844-a2be-1865c55fc607&quot;,&quot;e9e4adc1-20fb-4643-afcd-ded101fa09bd&quot;,&quot;72f73409-3e31-4ee8-8ed0-117bf2d67a80&quot;,&quot;f7439aef-93d4-4f8b-9cb1-33f49b5cbccf&quot;,&quot;e3465140-ff04-4768-ad66-4a58211615ab&quot;,&quot;bb7f0b97-f4e6-46f6-bfdb-bf1031ee13ab&quot;,&quot;c12cffce-e2b5-4f13-a0b9-077a316bda77&quot;,&quot;a4b25d42-d590-4f45-8d59-5bd06605fd3f&quot;,&quot;30f2c9df-668f-4cf1-bbe2-70b57bb237bd&quot;,&quot;60fe4481-2312-4fca-bd9a-383e3d1d32da&quot;,&quot;4d43ebc3-120f-4f11-9476-1b9b4dbbb4bf&quot;,&quot;f79dc03a-6246-4366-ae96-7de0f0cd546b&quot;,&quot;41992b40-fe1d-43fe-bb8a-2bfb5b98ab12&quot;,&quot;01b68599-9a48-4258-a2a1-11de3a8d2db6&quot;,&quot;db93201e-c4b1-4a28-a713-404f612dcabc&quot;,&quot;341780dd-751b-466d-b458-4d87b2d0a9ba&quot;,&quot;9e9109e7-5101-4f2a-9f46-101b82ad918b&quot;,&quot;f9193f8a-9438-460d-8caa-d53645f11686&quot;,&quot;929db3c4-15a4-472c-a177-903a1f8522a8&quot;,&quot;8321c8f1-8f09-4275-86c5-71fdd484f880&quot;,&quot;fa519f9a-6d11-4509-b169-2e962f08d20f&quot;,&quot;dcf3e69f-c4e5-4ba5-8370-6c7659c7cdd4&quot;,&quot;b0c0b6a8-71bf-46fe-bd3f-73ce8781dc2c&quot;,&quot;93a5893c-7c96-41d6-81e0-d6373af53e8c&quot;,&quot;7989b63b-ce83-471e-985c-8258c905d6e8&quot;,&quot;533f27aa-7eab-4cf1-99df-6c0674b66b36&quot;,&quot;a72c9865-0967-4fa1-8154-88a8c034f323&quot;,&quot;a896e2e3-508e-460d-b170-c9db0a2d101b&quot;,&quot;5538c45d-b53f-4032-b536-4ec2d8cc8b8c&quot;,&quot;a6360eec-fadb-40c1-a25f-8a19024d72dc&quot;,&quot;7674cb0b-e5bb-45bd-9b15-7b1af6d68c7f&quot;,&quot;5165f1bc-3258-4b17-a961-285f0291172c&quot;,&quot;df8b125f-2b11-4ee2-90f0-7a697c098efa&quot;,&quot;929e1817-9d9b-4348-9ab3-cc1d6495a2f4&quot;,&quot;13264534-4c5c-43a3-b27a-fb802b855069&quot;,&quot;aa271bca-a40e-4184-b1ad-16fe3ef4c7df&quot;,&quot;c2ac9904-af65-4869-a044-fc44822b6b05&quot;,&quot;54e07a55-ef74-41c2-83c1-cf4ac61cd27c&quot;,&quot;1d296cdf-2a3b-4af4-a0c6-8302f468359d&quot;,&quot;21a505a5-9f40-48cc-b2f4-a19d91accfb5&quot;,&quot;e31c13bf-535a-4eec-921b-30786364622f&quot;,&quot;ce6efc41-9b46-46c2-aa74-919f0c50c80c&quot;,&quot;5452c917-849b-4d19-a51e-61901b0da5b7&quot;,&quot;547330f4-6e07-41c3-831f-fdcd9a21c070&quot;,&quot;75583d31-6e09-4c36-93b8-c07ef09feab3&quot;,&quot;3a4541ae-d028-4247-ba19-2ca3b2696c7e&quot;,&quot;e4de20c9-a45d-454b-a41b-04c7e985577f&quot;,&quot;002194c7-bccb-462c-9e1c-55902ba59625&quot;,&quot;fbc56031-c589-470b-b492-4a1fcd032d6a&quot;,&quot;a1c5ef0a-f4d3-4867-8f09-bdd08433c2e1&quot;,&quot;e0d82d66-637e-43c4-a812-0890395df7aa&quot;,&quot;e2221979-2924-4a95-b218-2dcc48f7cf4b&quot;,&quot;8a6f1b94-1bad-4957-9639-85d5d27409ce&quot;,&quot;9089d764-530b-419c-b4f4-a531222c47b8&quot;,&quot;92ebf42c-4a57-455f-b02b-c2bbfa9ca738&quot;,&quot;f1752fab-33f9-46c0-9bba-b8232b5cb0c5&quot;,&quot;b266a183-48ac-471b-b31e-e0c3adf23fc6&quot;,&quot;3a936604-b445-4830-aafd-27adf88b88df&quot;,&quot;d6ebb78f-120f-40af-8593-08d1a034d3eb&quot;,&quot;8ca0cff2-2448-41d1-9cb5-7f5749504a18&quot;,&quot;832d1acd-8def-4fb2-8720-12464b6fd6d2&quot;,&quot;3336c768-c107-4f27-8025-022779b31e6d&quot;,&quot;3a2bfea4-48ee-43c9-b962-9fe8da676ebe&quot;,&quot;9b79270c-4861-4f57-a6b3-7fd54f517f23&quot;,&quot;c93f36ae-dee2-4300-9399-8c98d3d93b24&quot;,&quot;71f5340c-1cb4-4bb2-9b16-2ac3ec23dcf1&quot;,&quot;f1ebdc38-1313-4efd-9547-abc1ee4e5180&quot;,&quot;cb99b84e-975c-4a0b-ae0a-cf2ae13f2106&quot;,&quot;b2eee973-e7a4-4458-9c14-c3e7c9ccbc5f&quot;,&quot;01850b8e-edce-4043-a93b-f1674c33e955&quot;,&quot;cb7432b3-b924-4958-a132-bb3da07d50c2&quot;,&quot;3f098fb7-50ed-4dae-a335-d95d793f9cd7&quot;,&quot;186e8a68-5278-46d0-8c7a-a17ac1cd0fc4&quot;,&quot;900f2231-573b-40ab-ad11-3d08deb3005e&quot;,&quot;8a629ef4-5625-411d-8a8d-c36ab96b7e7b&quot;,&quot;147873f6-ddc7-4db7-80d5-e40376a9a3b4&quot;,&quot;f94e28a4-f62e-42cf-b8d4-123210bc0996&quot;,&quot;ef6573ba-3a30-42a9-9f4f-8e6d59544673&quot;,&quot;506017ad-3e77-4a43-8bb2-99f99f7dc25c&quot;,&quot;244660ca-118a-4474-8ace-d8b32aed97ff&quot;,&quot;7433fbcb-ffc7-486c-8a1a-ca80ad297e13&quot;,&quot;f799df1c-aac8-4481-bde8-7fb4813f7373&quot;,&quot;406e6a4e-a9d0-4963-b2fd-27e0a2a254e3&quot;,&quot;b5ca63b4-7cba-44e8-9ed7-799eac605722&quot;,&quot;a962f652-95f7-42e6-bb9f-5d182258b774&quot;,&quot;93f9cc24-a3a5-4724-958e-454e14830354&quot;,&quot;dc2959ef-0f9a-420c-80a0-f816734fd221&quot;,&quot;7bede8fb-27b3-415b-b1a8-aa4be137d07a&quot;,&quot;70248f8d-d386-4d32-aca8-7ea2c4d3c1cb&quot;,&quot;b6939c69-6ea5-4ce9-a4ad-0f4d84684b56&quot;,&quot;e3ae2e62-5fd1-4f35-b406-a285a1eb0893&quot;,&quot;7c439648-ab0b-4397-9360-f75091772f00&quot;,&quot;31c2503b-6727-4ba3-b9cf-da454587b6cd&quot;,&quot;b3ba8ad2-448f-4469-9403-2988eed9f4ff&quot;,&quot;6edaf4df-5f9a-443e-9117-bbb985191092&quot;,&quot;eecde793-f30f-4e9c-9d19-54ee99721130&quot;,&quot;a94995d5-1a2c-45cd-98c4-1c9bc3b5fca7&quot;,&quot;2bf59c55-67d8-421e-bb94-afdcd6123f64&quot;,&quot;8ddec749-6b29-4064-a659-ae8192568b78&quot;,&quot;e6aae4b0-273a-4864-9eb3-25d3d790279a&quot;,&quot;83417de8-5dd8-4903-8e44-8cbf0c6c9302&quot;,&quot;b1c73e6e-3d89-48fe-8a2c-e2173f33606c&quot;,&quot;912a6a2b-072f-4e01-9ce4-83552837e5f2&quot;,&quot;0ad0a82b-c11a-4c12-8c7a-eb7b3372d106&quot;,&quot;5b1d4564-64d2-4449-a782-c2e0b9b7f4e6&quot;,&quot;140918fa-01ab-489e-a6a1-b7cf8f9f96fa&quot;,&quot;5010b763-e215-4157-8f82-564e0e25452e&quot;,&quot;4074020d-1043-4c1a-8bef-48507e3eb1e8&quot;,&quot;5e95ad52-155e-4fd5-965f-9a8deaf16525&quot;,&quot;1279b73c-b7c3-40f6-bdb6-bf7da8bfc276&quot;,&quot;2bf4d308-8d37-4eaa-b881-6c66a46f0afc&quot;,&quot;6f09fc9f-300c-46ef-99c2-14aa9b22e7f0&quot;,&quot;b297b31b-4a99-442a-ab31-f58394ac8284&quot;,&quot;dfbed96a-c7aa-4492-b0eb-d9eab8ae2af0&quot;,&quot;61ab9c0c-9fbe-4c6e-8df8-3d064f338434&quot;,&quot;4d372358-1e8f-44a7-bf0f-2aebccc261a9&quot;,&quot;43c321b4-a5f0-458f-b2e5-700154506cf0&quot;,&quot;4276e647-d625-4765-bdf1-2e2aa745eac7&quot;,&quot;8d93efd2-288b-40a3-974c-d97b09019d2a&quot;,&quot;5919eadd-f1b1-4f23-ba81-bbd4f137b72c&quot;,&quot;ef378d26-d4dd-4a28-97f8-7a4fdb623ba4&quot;,&quot;5e1c4170-460e-415a-b8da-e59f73e7938a&quot;,&quot;f237fca3-d044-4ab6-9c85-ded561e14023&quot;,&quot;fe7324b3-46e1-4cb5-97c4-077deaadd4ff&quot;,&quot;fd47006f-6e23-48c1-84e1-8118ec4e6efb&quot;,&quot;1c068081-feed-4655-a63e-4aed235a1ca2&quot;,&quot;18dc66b8-c266-44f5-9527-cd129b08db87&quot;,&quot;e83f5b5b-4a56-468e-be2d-1a639f3159a1&quot;,&quot;e78fe087-e7b2-4865-a899-834c7e676e4d&quot;,&quot;d885d0ec-4cc5-496b-be5e-e4963674a0dd&quot;,&quot;1ede931e-ebb4-4730-b84f-4ed237efd4e6&quot;,&quot;97af373e-14aa-4f46-8910-af550061b6c4&quot;,&quot;b06fed29-94cf-4885-bb50-ca78fa59ca05&quot;,&quot;481a3129-1288-453c-bc43-5237224826fe&quot;,&quot;61098086-095c-480d-bd46-92f2ab1cd91c&quot;,&quot;2f40ecdb-6135-4227-b0ca-9056a2c6cf24&quot;,&quot;7311656c-3120-40ed-9894-078dbd719dc9&quot;,&quot;c9b5fb06-7e17-4af2-8435-c7c6bfd7aec8&quot;,&quot;9bd6dfc3-951a-4aa1-bec9-b80841d00ffc&quot;,&quot;3661a2d0-f529-484f-a85b-ef1206363b5b&quot;,&quot;01a6cf36-1a63-4779-9d43-1112f024c2cf&quot;,&quot;5ea849e0-a069-4bf3-b7a1-19624515de4e&quot;,&quot;af5ea5d7-1ac8-45aa-8ad5-e2b748f2b025&quot;,&quot;7f1c58aa-ade7-4571-9669-5529297f0ad4&quot;,&quot;650ef513-5c4a-4e9f-aeeb-3faa03d3269a&quot;,&quot;f280d0ce-fb82-4ffb-92d2-da74e12b262c&quot;,&quot;32a626c6-f413-42ac-a29b-f3ff3b46403a&quot;,&quot;2bd97b74-da54-4800-8d48-4a9ce2295877&quot;,&quot;b048d922-f1c0-48a5-ae4d-609e7ef508fe&quot;,&quot;0f9bbc46-715e-4e97-929e-68612841ef9e&quot;,&quot;833a7a7b-20fe-45e9-9589-c5587416135a&quot;,&quot;b0e1f53e-5d65-46a3-865b-fca75b350d69&quot;,&quot;941e44f1-6209-4136-8517-499a4ddf70a0&quot;,&quot;05c5e926-a3a9-4cc4-8094-d1605164f753&quot;,&quot;2cfe6cf9-2cc2-46f4-87c7-4cba93b56c12&quot;,&quot;a3b5decb-ff7b-4650-9375-7d745984e431&quot;,&quot;4e31b310-2096-4915-a8ec-e34426bc2926&quot;,&quot;2ba91f52-9042-499b-af4c-aa683fb28537&quot;,&quot;5cb33b4c-b9e7-47fb-a302-9e51f8273cfd&quot;,&quot;b8bacde4-9138-47d3-af4d-a980e3f5b83b&quot;,&quot;b7f9785c-a5a2-441b-8a5c-c646fc1244a6&quot;,&quot;d994bbe0-0b22-4e62-9510-574c5e4014e1&quot;,&quot;ea545af0-096d-46d8-9f3a-7467b2eef03c&quot;,&quot;c86be597-40bc-43a6-bd51-4dfb69c10ed7&quot;,&quot;f2a5f3a8-1f2c-4e3d-bb61-7b5e120b6600&quot;,&quot;8d935ed0-977a-4f53-ac03-a06fcc14323b&quot;,&quot;07ee3549-ca69-4ed3-b69a-44e837a7b563&quot;,&quot;e9623844-c6d9-4b24-8d68-be80f23f25cb&quot;,&quot;8c6e6426-63d8-4de2-85d4-dc40f5587ec7&quot;,&quot;9a2a7028-8034-4268-be88-31074ceab151&quot;,&quot;568c7150-1202-4fab-bc39-517bea549d5a&quot;,&quot;17ee6356-8d31-4933-9179-c4f8f25b8676&quot;,&quot;b880fcf5-b559-4728-a505-3c5e6a5d47f9&quot;,&quot;f2d17b40-857f-4c94-9304-88312dd6e36a&quot;,&quot;8b8dc56f-2343-4137-8965-405fae058cd3&quot;,&quot;010bf7e8-debd-49c2-bf49-86f4e6fbc50e&quot;,&quot;68ba614e-d61f-4513-b202-360695415f8a&quot;,&quot;442abe3d-2b6b-4a40-8d5b-39a1817fdc1f&quot;,&quot;077af2c8-7faa-40b5-80b1-427656c11252&quot;,&quot;a403ca62-9e83-4bff-8742-7e0a402817de&quot;,&quot;1e710c4b-e48d-48d6-b355-2a381e3fd517&quot;,&quot;a3178aa4-125d-4026-a862-e74fd00ef4dc&quot;,&quot;f53cc472-758d-46dd-9d59-35b429a4ebd3&quot;,&quot;0a1373ae-f142-4eeb-b4e5-b19fdb031217&quot;,&quot;e861b8b9-4554-46ff-8710-6c6a196eaec6&quot;,&quot;458c9f1a-1292-42e3-a4e3-14e2e0de58c7&quot;,&quot;8ca71bf8-b3bc-4260-8b9d-57a58db38a4b&quot;,&quot;3af0ab87-7d6a-4d2f-9dd1-6319051b64dd&quot;,&quot;4f24b84d-f894-41c8-b8a7-104f985cccf1&quot;,&quot;dac57bf8-dd9c-42fd-b9fd-23cd6b9247e1&quot;,&quot;d4fc2a21-6b1b-40f0-b27d-94cc718588e8&quot;,&quot;ba18d4ba-d9e9-4e16-9294-bfc1bec72fd9&quot;,&quot;3f047e37-e071-4616-a41d-ad63ecd90b5e&quot;,&quot;2b988113-425d-49d1-9507-63f0025e9c3f&quot;,&quot;020610eb-99b1-4b93-97c5-13362c60f712&quot;,&quot;f7fff1ea-e01f-4f26-8d27-9f07e82aed98&quot;,&quot;ac4107a3-e076-412a-944a-6a8619c21c7f&quot;,&quot;f2dc7ecf-a058-4790-84ea-e66e4bff1887&quot;,&quot;ef958b96-766f-45a5-b750-f0084e962be7&quot;,&quot;af641653-f966-422f-894b-0ffc7977b1ef&quot;,&quot;c99f1b68-8c57-4551-9249-3af2b2cba2fd&quot;,&quot;e2c4f900-64cf-434d-a4e9-b7d2a5bea282&quot;,&quot;b89b9de7-2fb9-4e38-8478-32981bf03f97&quot;,&quot;accae7f4-4410-4ed8-a24e-bf80c6d67018&quot;,&quot;9063aeaa-ad8a-4a88-bf5d-bfec49dc624f&quot;,&quot;0f8d853b-f786-4430-a04d-ec6407ee79be&quot;,&quot;3183dc6c-86a2-432e-94ca-8b8f98ba8ddc&quot;,&quot;fac031bc-a299-464c-bb2c-77b15159729a&quot;,&quot;54314d2e-b388-4aa8-8962-cf3ed39d48b7&quot;,&quot;4580a491-0f03-47b0-a60e-0a550ca08193&quot;,&quot;2211d2ed-6dc3-42f9-aa74-15c7b62b5ead&quot;,&quot;ea46aa88-7f1c-49ce-a10d-2294d9b69f33&quot;,&quot;ea464709-c0f7-4aa8-8f36-7209b21a6996&quot;,&quot;99f3a40e-5c63-4522-8b1e-1fd5de756f55&quot;,&quot;668e4733-8bad-4884-8adb-6e896cddfeb2&quot;,&quot;519e7829-2e7d-4f72-974f-eceb0349be62&quot;,&quot;edb06f01-c421-4a51-b123-b8e3c25f329a&quot;,&quot;a4820787-0781-4d6b-afaa-504d2e4dde2e&quot;,&quot;28feaa4a-72f4-4737-8fa0-f47d4fca61df&quot;,&quot;90b8197b-7996-4ced-8394-89fc19789d81&quot;,&quot;fcaeef2d-5e18-4f02-89ba-12cb11d8fa34&quot;,&quot;7de774d9-7ca5-440c-999e-6b5b778469e0&quot;,&quot;e356e07c-c0a1-45d5-bbc8-e0911216d8ed&quot;,&quot;7ec01c08-1070-427c-b5e5-3390d3396561&quot;,&quot;e115888f-a272-48e9-87ef-10ffb68d6fa5&quot;,&quot;6adbdf05-ac79-49d2-ae49-b03650e31978&quot;,&quot;0da0025d-a0f2-4a6e-96e3-d3486f2bfbc3&quot;,&quot;f2e363b0-63e0-4558-825d-08fc79f890a9&quot;,&quot;6b4f11d3-389f-4d8b-9e42-1a3ac69fd6a6&quot;,&quot;29ed7a27-c548-4513-b564-adf7b1f9eafd&quot;,&quot;21c2112f-9caf-487f-91db-0f4d45e7d342&quot;,&quot;c8e7ffb2-661c-4d08-8d81-cd0a9a4381ce&quot;,&quot;ba7cffa0-76e2-47df-8e6c-027d7d2d730b&quot;,&quot;8bb7d787-bba9-4532-978c-daed5b3db51a&quot;,&quot;7cad96f6-93d9-4da0-86e7-aad88600c5de&quot;,&quot;3b527e49-469f-4d11-bb5b-3d5f7142d588&quot;,&quot;91ff9d18-8709-4a5e-bcbc-19910c330563&quot;,&quot;88ee55fa-5697-4096-bb4f-f6580de66ad7&quot;,&quot;9280bd40-bb32-4ca8-8443-c1eeab51b22b&quot;,&quot;be0db6f3-7fe3-4c3d-8c9d-597a8c33011f&quot;,&quot;fb9a7f10-5c16-4da4-83f3-a24b189060ef&quot;,&quot;75094d1b-a457-4a77-b0f2-17d14fc7c00d&quot;,&quot;9bf37dcb-3b1b-4527-816e-7ca2ccf08f20&quot;,&quot;51c8b085-a397-46cd-bc2e-3c6f91d0220b&quot;,&quot;4af35457-5783-4b70-bdaa-7d77f65ef54e&quot;,&quot;408ab1d4-5dd1-4bdb-89ea-0b33ca157bb6&quot;,&quot;0310e68b-4523-4ca6-ad44-7420af7bd9b7&quot;,&quot;b0d5dc9c-0490-4d4e-afe0-466aefb17578&quot;,&quot;e8693083-9b03-40b1-83ca-c7323e619e39&quot;,&quot;5b493e32-4407-48ca-af5a-addfc1cec67b&quot;,&quot;0592f3f7-eecc-491f-a6a7-3753ca8c1324&quot;,&quot;63d6cf35-9608-45c6-8b72-199802810af1&quot;],&quot;failures&quot;:[&quot;d65b27e7-7881-4903-9289-64dba64cd39b&quot;,&quot;8093b7e7-665b-41a6-92eb-b10cad67c200&quot;,&quot;d0c78ced-463a-44b0-9588-707182c617ea&quot;,&quot;d8ac57fd-6110-4e90-8d04-158ada7d462e&quot;,&quot;cde3891c-8b8a-4958-8c0d-407e66796277&quot;,&quot;98ead225-4734-436a-ab74-06d33cf37c5a&quot;,&quot;75427cb0-2414-4030-9159-ad449e84c1a7&quot;,&quot;83271ef1-6722-41b4-99d1-08b119463197&quot;,&quot;bfbc7a9e-ca88-4f0a-bf29-9e418463c636&quot;,&quot;ecbcd180-c545-42d7-96d5-258d80e09011&quot;,&quot;4e353e8e-6b28-4419-ad6b-785294c5221a&quot;,&quot;70bf468f-f05c-497e-a72b-76f74022c468&quot;,&quot;3edf7aae-07a8-4e8a-9b60-e0fa4234664a&quot;,&quot;b63bd484-518d-4cae-9f11-dc92caa4bd92&quot;,&quot;eeaf211f-0d19-44ca-ab05-5e08087f47a0&quot;,&quot;fe5352d6-b048-42c1-9ba6-92ea8b2a5f11&quot;,&quot;8f4dc781-9478-45a8-8f87-9aae2eb4677b&quot;,&quot;8a0c9a44-ea6b-4adb-afe9-b9d6827187b9&quot;,&quot;f8585ccd-ced0-4579-82f7-15483749d44c&quot;,&quot;69f9f5e6-b9ed-46e8-9273-53a4a84db8cb&quot;,&quot;8487fbdd-e279-4328-b070-03eaed1975fa&quot;,&quot;0530de95-1e23-4c12-81bd-ca78c581d66a&quot;,&quot;5a8c38c5-de73-4e31-a187-6f939c1d353e&quot;,&quot;4f4b3eba-0da6-47fe-819a-ff0ba931a66e&quot;,&quot;c033f57f-7ef5-46bb-8be2-e9fb88569549&quot;,&quot;253ebb15-7dfb-48eb-9c67-62683b75b708&quot;,&quot;c8ce073d-153e-41bd-802a-4321c25d9709&quot;,&quot;289fe481-c4d0-4ef0-93f6-c262a3748abf&quot;,&quot;5a956bc4-849a-4f6f-ba9c-306a2ad466b3&quot;,&quot;6e1c6371-92aa-4a0a-9756-862158fd49fa&quot;,&quot;2282dc52-36e8-45a7-81f5-b28d9bfd7ead&quot;,&quot;8677cdd7-ab9d-41db-83c2-5905749edb37&quot;,&quot;c27961e9-9e1d-4653-b217-cab10c680c90&quot;,&quot;b88bb2b0-fb76-40f2-acae-5dfdb2ad2b2b&quot;,&quot;8a7977b4-f0ec-4b21-85b6-1750741fa3da&quot;,&quot;416cfd3d-1215-4c55-a4ad-123b90486ca8&quot;,&quot;b5d21122-5f97-4e96-8e4c-e37b5dcf1ac4&quot;,&quot;1788fea1-2925-478c-bf0c-423060377680&quot;,&quot;6c001b47-331c-41c0-b3f7-b0f69154017b&quot;,&quot;e7166a6b-4b52-46bc-a184-1927a970a3eb&quot;,&quot;d5a7c266-bb3f-45dc-b867-78169265d744&quot;,&quot;8bb756df-bffb-4460-a5e4-350fb98f206a&quot;,&quot;0798b80d-84d8-44e0-a933-edb32628af65&quot;,&quot;b1ed4e15-f5b3-4ef8-a580-b92ef08becd7&quot;,&quot;6a9c46cf-0369-48b0-9438-2326c131dbfa&quot;,&quot;d82c6505-f2f2-457f-9101-277344c1fca0&quot;,&quot;f08b1c86-e904-43d3-856d-3cfdf4461b09&quot;,&quot;8d3dc57f-cd1b-4597-ae32-d4e405bdf795&quot;,&quot;9f383526-98d6-4917-949b-60c0eafc0cd5&quot;,&quot;015e1a6a-f442-4d9b-bf04-bf2760ccbc1b&quot;,&quot;3b97160c-db6c-4aa2-966d-0331400b25ae&quot;,&quot;e38e8b3e-d92f-4948-b5b4-630a0b0f87b7&quot;,&quot;3c8bb32e-0493-403f-8273-9fed7f31da15&quot;,&quot;1528b847-8f2d-48af-bde2-adf609de267d&quot;,&quot;001f3008-ee87-45a7-ab4d-6384f1bdb92e&quot;,&quot;c894ab85-ad70-48b5-b1ce-7278ca4e488a&quot;,&quot;adf0ba07-62cd-4b96-8988-a5cf15672ed7&quot;,&quot;f7d32125-b3b3-4545-a07d-09a5641ff1f9&quot;,&quot;6a06e124-6754-48f9-ad72-2a1f374f23f3&quot;,&quot;e4584598-d25b-4127-b011-b20f82ab7141&quot;,&quot;15375109-317e-4c4d-b5a8-1afd163fa40d&quot;,&quot;baeff899-7ebb-44b0-a8c9-63911f9d288c&quot;,&quot;5855ddd1-a813-47a6-b527-5a5faa02a22c&quot;,&quot;f9533cbf-756c-4b72-8902-f199a33d41ee&quot;,&quot;6cb80a42-eef7-4e52-abae-d92132229c82&quot;,&quot;eb74f5a3-d81f-42e0-9bd9-a4266da8618c&quot;,&quot;4df579a6-dadd-49c5-bb94-2974ce8c0d73&quot;,&quot;94d276df-5cb7-4520-90b2-b23524cc80b2&quot;,&quot;b510e8a4-b310-4d22-8f12-bd223ee12107&quot;,&quot;4e5062bd-5769-42df-b787-384e8da63133&quot;,&quot;a58c96dd-69bc-4aba-8f72-722b7af625bd&quot;,&quot;4a3d726a-77ed-4e3a-8bc5-9c5b022dfcca&quot;,&quot;6164f9a3-5302-4713-a5cf-e72dd6d6b771&quot;,&quot;cd3ee429-ce28-441a-a9f9-1359385b7374&quot;,&quot;be79f5a3-ab25-40c5-b51d-6d081840cdfa&quot;,&quot;542b3865-a7f6-4584-8008-16dbe07db6d9&quot;,&quot;92174543-f852-47bc-a038-b1a96d2cc3ee&quot;,&quot;177ad2a4-f2db-4017-8318-db08bf512853&quot;,&quot;9f5dbb7f-6620-4786-b8d9-06c9575378e6&quot;,&quot;4650d429-8026-41eb-b650-1cc9b9f22ca9&quot;,&quot;eab36b0d-2c85-4667-9e85-f7ceffc2a61e&quot;,&quot;cfc95bd6-12a7-44cd-8228-9cff56ec731b&quot;,&quot;af3fa8d8-a1ba-44ed-85a0-84a4cdef0d5d&quot;,&quot;9b6a1e94-ab68-47dd-93af-999bbef5df5b&quot;,&quot;87c0261e-5266-4705-b85e-ef7ed1cf9e68&quot;,&quot;e47dd96d-21a8-40d6-a40a-1e7853e83fab&quot;,&quot;7c32d611-1efb-4f46-bcbc-f9558f98f324&quot;,&quot;f8aed0d5-9fa3-49fb-85d2-fe7de3a80ba3&quot;,&quot;02989bb6-e0cc-451e-8243-caa2d2e010e1&quot;,&quot;51b9c705-1a02-4ee0-824b-1f30ad425c97&quot;,&quot;39b5732a-b9c4-4b2a-b4e1-6821fdf441a9&quot;,&quot;b73ae02b-c0fa-4dd5-a1a4-f3a91f23b6fe&quot;,&quot;2857de05-d36b-47b7-bb8e-6f14b779a030&quot;,&quot;9f615091-0ff0-466b-a420-bb1833a5d723&quot;,&quot;5155f626-7831-49d4-8a33-4f68a643dbe0&quot;,&quot;c5ade3f1-b71b-4d95-8f02-6fe7d5e074b6&quot;,&quot;0a539741-b72e-4d32-ae73-9af4c6e4608d&quot;,&quot;64f38f4c-e26c-47cb-8a0e-0f65764412ce&quot;,&quot;e1032829-89d8-48cc-aaa6-0dadbd853599&quot;,&quot;f4b31a4d-cf38-4875-8561-86c56c7b1f3a&quot;,&quot;8e937634-d0ae-4567-9b68-4d8942ef2a44&quot;,&quot;e47ec54b-6055-4cc7-a006-aa5f11730d5e&quot;,&quot;005493bb-37e5-4ebc-858a-f7de5febd019&quot;,&quot;22dfcfce-9025-4a76-9db9-4b9f70bf3176&quot;,&quot;224150af-bd03-4749-b3c0-4f99029e7735&quot;,&quot;49721210-081b-4cc3-ac2a-9e9e0e45b4a0&quot;,&quot;b1d54c60-5f48-42bb-b03b-69a2a1e529de&quot;,&quot;089761bf-0d9b-4eee-9831-0c29f4a37fec&quot;,&quot;672de0c8-0dc9-41cf-b93f-c1b101ef829c&quot;,&quot;08ba1b09-ca6c-40ba-b015-77966317de20&quot;,&quot;16ea50c6-c20e-4440-b0ce-09efa9dbb0af&quot;,&quot;5fac59ce-ec89-4b49-8040-f64be7b334be&quot;,&quot;bbf111a7-c111-4505-adce-33c3620c7e7d&quot;,&quot;d62b3667-3164-4229-a7f7-bc541cdcd991&quot;,&quot;e020b1b3-27f4-4731-8dc7-03d5f4617b70&quot;,&quot;d0b21bad-6cc3-4181-99ff-190445d5c8c1&quot;,&quot;6208ea58-d37f-4b65-a81c-a87c9629ca13&quot;,&quot;36eb14d4-a05e-48da-975f-4d42008d901e&quot;,&quot;c0d23dbf-abb7-4c09-a90a-9183cafaa86b&quot;,&quot;5902adca-a488-401c-876a-8017105af362&quot;,&quot;82e243bf-8da0-45d9-ad80-d15e03aa63bc&quot;,&quot;09e3a5c4-0c6a-4e1d-b2a5-58d6042c4e95&quot;,&quot;44080e0b-26b3-4878-8abf-d99a7eeadeda&quot;,&quot;317cd9b0-4f85-4f69-8210-01d09e0e1aca&quot;,&quot;4c794798-40ab-4fbf-95f9-3c1e2470702f&quot;,&quot;cc9b015f-b6ea-483a-a5f5-2a97681b43ac&quot;,&quot;aaaafa5b-4329-4e9f-92ae-7626b820fc33&quot;,&quot;72726003-d3af-4039-965a-1d5e4e949af2&quot;,&quot;4ef127ef-1296-4174-9ae0-c6d9cba80045&quot;,&quot;64f0cfd4-ef7f-4112-9a24-0ea54bc28bfc&quot;,&quot;58114f4f-0850-4980-ad38-658d30cdddbb&quot;,&quot;ec822e70-2f23-4fd4-9d32-0ac521779fa6&quot;,&quot;a2690efe-2db8-4b23-927c-b9bec37f8c22&quot;,&quot;96dafb2a-a198-4c32-a851-5177d697859a&quot;,&quot;5e0ca832-1822-4323-aca5-a0a7064d854e&quot;,&quot;2ee77d54-08c3-4cf0-a932-a05308766abe&quot;,&quot;e2d14e45-d3f0-406e-8992-8501a0eadeb3&quot;,&quot;463b8da7-6e10-4844-b240-2f02aaf70b93&quot;,&quot;691d8850-3cc0-4600-b980-638f369adf54&quot;,&quot;c54c8dee-f406-4695-a74e-ecbca093a74a&quot;,&quot;5de4fba6-2eaa-4c9d-b9a4-3fede7b195dc&quot;,&quot;a92074af-a624-4f7a-953b-9cb327215fcb&quot;,&quot;b9008072-9bfc-47d5-aa29-b5ca9b6f0355&quot;,&quot;18923388-610b-454a-a2bb-74ceb63f6c2c&quot;,&quot;41142536-5ff1-4f85-a96e-53cb4d9cc88c&quot;,&quot;9d94b628-47aa-4856-82fb-0c86419aef3c&quot;,&quot;32624b74-14ee-47ac-8000-3abd11bbaee2&quot;,&quot;ac48666a-3d9d-4cc7-94be-ab289864e59b&quot;,&quot;0ed4b741-a416-4615-a7ca-ac138e0997ca&quot;,&quot;f26b8ec4-7a09-4ad4-944e-fdf4de355dd6&quot;,&quot;89d2819f-22b1-4bc0-a2d8-cefac9c2f948&quot;,&quot;85c03f6b-5a49-42b0-b16f-fb9eaec6fee6&quot;,&quot;442795bc-f1d9-4983-a1c2-08c54208037c&quot;,&quot;13b15bf3-9839-48df-a01f-9e3f13f0f4f3&quot;,&quot;14bb493d-0113-4f5f-8243-bb9212cb454a&quot;,&quot;14a7e82c-a3ae-4010-a778-752b1ff0d4dd&quot;,&quot;ef23920b-f598-4d64-ae93-84004306aa10&quot;,&quot;0704a020-a3fb-481a-a6c1-247d926fee8f&quot;,&quot;2e46dcce-1c6a-4e29-821e-91c017773a9c&quot;,&quot;7365aa2d-3315-45b9-93c7-c5c7d265e4f6&quot;,&quot;02e6c37b-7138-4a7b-b3d8-4e1f0baa597f&quot;,&quot;7d1f9b22-3677-4d4a-a8ab-734c36f52b31&quot;,&quot;b12d6929-2c4d-43fe-82a2-78f67b8fa92b&quot;,&quot;89ae050c-c50d-4977-b95a-c17da3745965&quot;,&quot;625a1222-c3e8-460d-aff7-39e106041c41&quot;,&quot;4632025d-5594-4bfe-afa8-352abf368279&quot;,&quot;65829cd9-aaff-4934-bc7a-8f22562fb319&quot;,&quot;85855837-7ba4-4425-a11b-fcbfbd73f08d&quot;,&quot;c3d29634-c239-4fe8-87a5-9a750f5ed85d&quot;,&quot;0dbe175b-5ec4-415e-b288-10d67b9d8d6b&quot;,&quot;b5c401c3-a766-4f26-9293-f6c558fff224&quot;,&quot;9dd06056-0efc-4f10-8eb8-811620f07844&quot;,&quot;2cfea334-88ac-4df0-a654-66e695f60f0f&quot;,&quot;30eb0220-6ba2-498e-9f7a-413f543ae5bc&quot;,&quot;9b93f149-30af-4ec3-afe4-1478e0754458&quot;,&quot;965ad97d-bc41-4a7a-b2cc-5584c73e8e17&quot;,&quot;759dc374-2a4f-4edc-b5c1-479be1a6619e&quot;,&quot;529dc1bf-7c47-406a-bf79-bf5dd17adffa&quot;,&quot;8cb5dd60-1230-4ed6-b571-e9beaf123bf7&quot;,&quot;1e2c75a9-2074-4b43-a18c-5edf1b467396&quot;,&quot;572938c6-76b2-4d23-bb58-3cab838da969&quot;,&quot;2e50d11f-9f1f-4850-98c5-6fcc1bed7c67&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6185694,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;65c6a87e-1adc-4edc-a4a2-c1116c275089&quot;,&quot;title&quot;:&quot;sample test&quot;,&quot;fullFile&quot;:&quot;/usr/src/app/test/puppeteer-mocha-basic.js&quot;,&quot;file&quot;:&quot;/test/puppeteer-mocha-basic.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;helloworld&quot;,&quot;fullTitle&quot;:&quot;sample test helloworld&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:193,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const browser = await puppeteer.connect({\n  browserWSEndpoint: `ws://browserless_engine:3000/?hello=world`,\n  ignoreHTTPSErrors: true,\n});\npage = await browser.newPage();\n// await page.goto(&#x27;http://192.168.10.180:5500&#x27;);\n// const [p_target_user] = await page.$x(`//p[contains(., &#x27;345&#x27;)]`);\nawait page.close();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;699a4e4e-d02e-4741-8d3f-24c037a5dfc3&quot;,&quot;parentUUID&quot;:&quot;65c6a87e-1adc-4edc-a4a2-c1116c275089&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;699a4e4e-d02e-4741-8d3f-24c037a5dfc3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:193,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.2.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;output&quot;:&quot;report.html&quot;},&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;app&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/usr/src/app/mochawesome-report/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/usr/src/app/mochawesome-report/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>